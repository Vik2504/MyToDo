(self.webpackChunkmy_todo=self.webpackChunkmy_todo||[]).push([[179],{8255:Ue=>{function pe(x){return Promise.resolve().then(()=>{var v=new Error("Cannot find module '"+x+"'");throw v.code="MODULE_NOT_FOUND",v})}pe.keys=()=>[],pe.resolve=pe,pe.id=8255,Ue.exports=pe},3018:(Ue,pe,x)=>{"use strict";x.d(pe,{deG:()=>Bv,tb:()=>vE,AFp:()=>Ty,ip1:()=>wn,CZH:()=>ya,hGG:()=>MS,z2F:()=>sc,sBO:()=>Fl,Sil:()=>oc,_Vd:()=>jt,EJc:()=>Ay,SBq:()=>Fn,qLn:()=>Wa,vpe:()=>Gi,gxx:()=>Ps,tBr:()=>Cs,XFs:()=>Ge,OlP:()=>Xt,zs3:()=>At,ZZ4:()=>Yo,aQg:()=>ln,soG:()=>ed,YKP:()=>uw,v3s:()=>sd,h0i:()=>Wr,PXZ:()=>AE,R0b:()=>Ln,FiY:()=>Xi,Lbi:()=>Xl,g9A:()=>ns,Qsj:()=>qr,FYo:()=>eh,JOm:()=>Ni,Tiy:()=>It,q3G:()=>tn,tp0:()=>eo,EAV:()=>_S,Rgc:()=>ju,dDg:()=>Py,DyG:()=>ai,q4F:()=>Lu,GfV:()=>$b,s_b:()=>yr,ifc:()=>Kt,eFA:()=>jy,G48:()=>Sh,Gpc:()=>oe,X6Q:()=>rd,_c5:()=>Yy,VLi:()=>IE,c2e:()=>Sy,zSh:()=>nl,wAp:()=>ke,vHH:()=>we,EiD:()=>l_,mCW:()=>Ga,qzn:()=>Is,JVY:()=>t_,pB0:()=>JC,eBb:()=>n_,L6k:()=>QC,LAX:()=>YC,cg1:()=>ze,Tjo:()=>DS,kL8:()=>bb,yhl:()=>e_,dqk:()=>L,sIi:()=>sl,CqO:()=>ao,QGY:()=>Rf,F4k:()=>q0,RDi:()=>vc,AaK:()=>P,z3N:()=>Si,qOj:()=>Lg,TTD:()=>gv,_Bn:()=>Om,xp6:()=>L_,uIk:()=>Bg,ekj:()=>Lf,Suo:()=>hy,Xpm:()=>$h,lG2:()=>uv,Yz7:()=>on,cJS:()=>wo,oAB:()=>dd,Yjl:()=>cv,Y36:()=>vu,_UZ:()=>$o,qZA:()=>Hs,TgZ:()=>_u,EpF:()=>qo,n5z:()=>IC,Ikx:()=>Nr,LFG:()=>en,$8M:()=>Dd,NdJ:()=>pi,CRH:()=>Kw,oxw:()=>hl,Q6J:()=>nm,iGM:()=>fy,MAs:()=>S0,CHM:()=>op,LSH:()=>Ha,kYT:()=>fc,YNc:()=>al,W1O:()=>Zw,_uU:()=>pm,hij:()=>qs});var v=x(9765),te=x(5319),fe=x(7574),re=x(6682),ae=x(2441);var ue=x(1307);function $(){return new v.xQ}function k(o){for(let s in o)if(o[s]===k)return s;throw Error("Could not find renamed property on target object.")}function B(o,s){for(const u in s)s.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=s[u])}function P(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(P).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const u=s.indexOf("\n");return-1===u?s:s.substring(0,u)}function G(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const ie=k({__forward_ref__:k});function oe(o){return o.__forward_ref__=oe,o.toString=function(){return P(this())},o}function se(o){return He(o)?o():o}function He(o){return"function"==typeof o&&o.hasOwnProperty(ie)&&o.__forward_ref__===oe}class we extends Error{constructor(s,u){super(function(o,s){return`${o?`NG0${o}: `:""}${s}`}(s,u)),this.code=s}}function Me(o){return"string"==typeof o?o:null==o?"":String(o)}function Pt(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Me(o)}function Z(o,s){const u=s?` in ${s}`:"";throw new we("201",`No provider for ${Pt(o)} found${u}`)}function Tt(o,s){null==o&&function(o,s,u,l){throw new Error(`ASSERTION ERROR: ${o}`+(null==l?"":` [Expected=> ${u} ${l} ${s} <=Actual]`))}(s,o,null,"!=")}function on(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function wo(o){return{providers:o.providers||[],imports:o.imports||[]}}function lt(o){return vt(o,Vt)||vt(o,_r)}function vt(o,s){return o.hasOwnProperty(s)?o[s]:null}function Cn(o){return o&&(o.hasOwnProperty(sn)||o.hasOwnProperty(ss))?o[sn]:null}const Vt=k({\u0275prov:k}),sn=k({\u0275inj:k}),_r=k({ngInjectableDef:k}),ss=k({ngInjectorDef:k});var Ge=(()=>((Ge=Ge||{})[Ge.Default=0]="Default",Ge[Ge.Host=1]="Host",Ge[Ge.Self=2]="Self",Ge[Ge.SkipSelf=4]="SkipSelf",Ge[Ge.Optional=8]="Optional",Ge))();let ld;function qi(o){const s=ld;return ld=o,s}function an(o,s,u){const l=lt(o);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:u&Ge.Optional?null:void 0!==s?s:void Z(P(o),"Injector")}function qe(o){return{toString:o}.toString()}var ur=(()=>((ur=ur||{})[ur.OnPush=0]="OnPush",ur[ur.Default=1]="Default",ur))(),Kt=(()=>((Kt=Kt||{})[Kt.Emulated=0]="Emulated",Kt[Kt.None=2]="None",Kt[Kt.ShadowDom=3]="ShadowDom",Kt))();const br="undefined"!=typeof globalThis&&globalThis,Gh="undefined"!=typeof window&&window,F="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,L=br||V||Gh||F,Ee={},Ce=[],_t=k({\u0275cmp:k}),St=k({\u0275dir:k}),Et=k({\u0275pipe:k}),In=k({\u0275mod:k}),Qn=k({\u0275loc:k}),fn=k({\u0275fac:k}),ti=k({__NG_ELEMENT_ID__:k});let Hh=0;function $h(o){return qe(()=>{const u={},l={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===ur.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||Ce,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Kt.Emulated,id:"c",styles:o.styles||Ce,_:null,setInput:null,schemas:o.schemas||null,tView:null},d=o.directives,h=o.features,g=o.pipes;return l.id+=Hh++,l.inputs=Da(o.inputs,u),l.outputs=Da(o.outputs),h&&h.forEach(y=>y(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(sv):null,l.pipeDefs=g?()=>("function"==typeof g?g():g).map(qh):null,l})}function sv(o){return An(o)||function(o){return o[St]||null}(o)}function qh(o){return function(o){return o[Et]||null}(o)}const av={};function dd(o){return qe(()=>{const s={type:o.type,bootstrap:o.bootstrap||Ce,declarations:o.declarations||Ce,imports:o.imports||Ce,exports:o.exports||Ce,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(av[o.id]=o.type),s})}function fc(o,s){return qe(()=>{const u=cr(o,!0);u.declarations=s.declarations||Ce,u.imports=s.imports||Ce,u.exports=s.exports||Ce})}function Da(o,s){if(null==o)return Ee;const u={};for(const l in o)if(o.hasOwnProperty(l)){let d=o[l],h=d;Array.isArray(d)&&(h=d[1],d=d[0]),u[d]=l,s&&(s[d]=h)}return u}const uv=$h;function cv(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function An(o){return o[_t]||null}function cr(o,s){const u=o[In]||null;if(!u&&!0===s)throw new Error(`Type ${P(o)} does not have '\u0275mod' property.`);return u}function Ki(o){return Array.isArray(o)&&"object"==typeof o[1]}function un(o){return Array.isArray(o)&&!0===o[1]}function Yh(o){return 0!=(8&o.flags)}function gd(o){return 2==(2&o.flags)}function md(o){return 1==(1&o.flags)}function ri(o){return null!==o.template}function YE(o){return 0!=(512&o[2])}function fs(o,s){return o.hasOwnProperty(fn)?o[fn]:null}class pv{constructor(s,u,l){this.previousValue=s,this.currentValue=u,this.firstChange=l}isFirstChange(){return this.firstChange}}function gv(){return Jh}function Jh(o){return o.type.prototype.ngOnChanges&&(o.setInput=lA),cA}function cA(){const o=Zh(this),s=null==o?void 0:o.current;if(s){const u=o.previous;if(u===Ee)o.previous=s;else for(let l in s)u[l]=s[l];o.current=null,this.ngOnChanges(s)}}function lA(o,s,u,l){const d=Zh(o)||function(o,s){return o[nC]=s}(o,{previous:Ee,current:null}),h=d.current||(d.current={}),g=d.previous,y=this.declaredInputs[u],_=g[y];h[y]=new pv(_&&_.currentValue,s,g===Ee),o[l]=s}gv.ngInherit=!0;const nC="__ngSimpleChanges__";function Zh(o){return o[nC]||null}let yc;function vc(o){yc=o}function Yt(o){return!!o.listen}const vv={createRenderer:(o,s)=>void 0!==yc?yc:"undefined"!=typeof document?document:void 0};function Jt(o){for(;Array.isArray(o);)o=o[0];return o}function vd(o,s){return Jt(s[o])}function oi(o,s){return Jt(s[o.index])}function Ta(o,s){return o.data[s]}function Er(o,s){const u=s[o];return Ki(u)?u:u[0]}function _v(o){return 4==(4&o[2])}function tp(o){return 128==(128&o[2])}function Eo(o,s){return null==s?null:o[s]}function wv(o){o[18]=0}function np(o,s){o[5]+=s;let u=o,l=o[3];for(;null!==l&&(1===s&&1===u[5]||-1===s&&0===u[5]);)l[5]+=s,u=l,l=l[3]}const rt={lFrame:Mv(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ip(){return rt.bindingsEnabled}function he(){return rt.lFrame.lView}function pt(){return rt.lFrame.tView}function op(o){return rt.lFrame.contextLView=o,o[8]}function pn(){let o=Cv();for(;null!==o&&64===o.type;)o=o.parent;return o}function Cv(){return rt.lFrame.currentTNode}function Di(o,s){const u=rt.lFrame;u.currentTNode=o,u.isParent=s}function sp(){return rt.lFrame.isParent}function Aa(){return rt.isInCheckNoChangesMode}function Ma(o){rt.isInCheckNoChangesMode=o}function Na(){return rt.lFrame.bindingIndex++}function up(o,s){const u=rt.lFrame;u.bindingIndex=u.bindingRootIndex=o,cp(s)}function cp(o){rt.lFrame.currentDirectiveIndex=o}function Tv(){return rt.lFrame.currentQueryIndex}function Sv(o){rt.lFrame.currentQueryIndex=o}function lC(o){const s=o[1];return 2===s.type?s.declTNode:1===s.type?o[6]:null}function dC(o,s,u){if(u&Ge.SkipSelf){let d=s,h=o;for(;!(d=d.parent,null!==d||u&Ge.Host||(d=lC(h),null===d||(h=h[15],10&d.type))););if(null===d)return!1;s=d,o=h}const l=rt.lFrame=Av();return l.currentTNode=s,l.lView=o,!0}function Cc(o){const s=Av(),u=o[1];rt.lFrame=s,s.currentTNode=u.firstChild,s.lView=o,s.tView=u,s.contextLView=o,s.bindingIndex=u.bindingStartIndex,s.inI18n=!1}function Av(){const o=rt.lFrame,s=null===o?null:o.child;return null===s?Mv(o):s}function Mv(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function dp(){const o=rt.lFrame;return rt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const fC=dp;function fp(){const o=dp();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Jn(){return rt.lFrame.selectedIndex}function Co(o){rt.lFrame.selectedIndex=o}function Zt(){const o=rt.lFrame;return Ta(o.tView,o.selectedIndex)}function bd(o,s){for(let u=s.directiveStart,l=s.directiveEnd;u<l;u++){const h=o.data[u].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:y,ngAfterViewInit:_,ngAfterViewChecked:w,ngOnDestroy:C}=h;g&&(o.contentHooks||(o.contentHooks=[])).push(-u,g),y&&((o.contentHooks||(o.contentHooks=[])).push(u,y),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,y)),_&&(o.viewHooks||(o.viewHooks=[])).push(-u,_),w&&((o.viewHooks||(o.viewHooks=[])).push(u,w),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,w)),null!=C&&(o.destroyHooks||(o.destroyHooks=[])).push(u,C)}}function wd(o,s,u){xv(o,s,3,u)}function gp(o,s,u,l){(3&o[2])===u&&xv(o,s,u,l)}function Nv(o,s){let u=o[2];(3&u)===s&&(u&=2047,u+=1,o[2]=u)}function xv(o,s,u,l){const h=null!=l?l:-1,g=s.length-1;let y=0;for(let _=void 0!==l?65535&o[18]:0;_<g;_++)if("number"==typeof s[_+1]){if(y=s[_],null!=l&&y>=l)break}else s[_]<0&&(o[18]+=65536),(y<h||-1==h)&&(yC(o,u,s,_),o[18]=(4294901760&o[18])+_+2),_++}function yC(o,s,u,l){const d=u[l]<0,h=u[l+1],y=o[d?-u[l]:u[l]];if(d){if(o[2]>>11<o[18]>>16&&(3&o[2])===s){o[2]+=2048;try{h.call(y)}finally{}}}else try{h.call(y)}finally{}}class Dc{constructor(s,u,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=l}}function xa(o,s,u){const l=Yt(o);let d=0;for(;d<u.length;){const h=u[d];if("number"==typeof h){if(0!==h)break;d++;const g=u[d++],y=u[d++],_=u[d++];l?o.setAttribute(s,y,_,g):s.setAttributeNS(g,y,_)}else{const g=h,y=u[++d];Ov(g)?l&&o.setProperty(s,g,y):l?o.setAttribute(s,g,y):s.setAttribute(g,y),d++}}return d}function mp(o){return 3===o||4===o||6===o}function Ov(o){return 64===o.charCodeAt(0)}function yp(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let u=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?u=d:0===u||bC(o,u,d,null,-1===u||2===u?s[++l]:null)}}return o}function bC(o,s,u,l,d){let h=0,g=o.length;if(-1===s)g=-1;else for(;h<o.length;){const y=o[h++];if("number"==typeof y){if(y===s){g=-1;break}if(y>s){g=h-1;break}}}for(;h<o.length;){const y=o[h];if("number"==typeof y)break;if(y===u){if(null===l)return void(null!==d&&(o[h+1]=d));if(l===o[h+1])return void(o[h+2]=d)}h++,null!==l&&h++,null!==d&&h++}-1!==g&&(o.splice(g,0,s),h=g+1),o.splice(h++,0,u),null!==l&&o.splice(h++,0,l),null!==d&&o.splice(h++,0,d)}function Pv(o){return-1!==o}function Ic(o){return 32767&o}function Tc(o,s){let u=function(o){return o>>16}(o),l=s;for(;u>0;)l=l[15],u--;return l}let Fv=!0;function vp(o){const s=Fv;return Fv=o,s}let Ti=0;function it(o,s){const u=wp(o,s);if(-1!==u)return u;const l=s[1];l.firstCreatePass&&(o.injectorIndex=s.length,bp(l.data,o),bp(s,null),bp(l.blueprint,null));const d=hs(o,s),h=o.injectorIndex;if(Pv(d)){const g=Ic(d),y=Tc(d,s),_=y[1].data;for(let w=0;w<8;w++)s[h+w]=y[g+w]|_[g+w]}return s[h+8]=d,h}function bp(o,s){o.push(0,0,0,0,0,0,0,0,s)}function wp(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function hs(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,l=null,d=s;for(;null!==d;){const h=d[1],g=h.type;if(l=2===g?h.declTNode:1===g?d[6]:null,null===l)return-1;if(u++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|u<<16}return-1}function Sc(o,s,u){!function(o,s,u){let l;"string"==typeof u?l=u.charCodeAt(0)||0:u.hasOwnProperty(ti)&&(l=u[ti]),null==l&&(l=u[ti]=Ti++);const d=255&l;s.data[o+(d>>5)]|=1<<d}(o,s,u)}function si(o,s,u){if(u&Ge.Optional)return o;Z(s,"NodeInjector")}function kv(o,s,u,l){if(u&Ge.Optional&&void 0===l&&(l=null),0==(u&(Ge.Self|Ge.Host))){const d=o[9],h=qi(void 0);try{return d?d.get(s,l,u&Ge.Optional):an(s,l,u&Ge.Optional)}finally{qi(h)}}return si(l,s,u)}function Ep(o,s,u,l=Ge.Default,d){if(null!==o){const h=function(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(ti)?o[ti]:void 0;return"number"==typeof s?s>=0?255&s:CC:s}(u);if("function"==typeof h){if(!dC(s,o,l))return l&Ge.Host?si(d,u,l):kv(s,u,l,d);try{const g=h(l);if(null!=g||l&Ge.Optional)return g;Z(u)}finally{fC()}}else if("number"==typeof h){let g=null,y=wp(o,s),_=-1,w=l&Ge.Host?s[16][6]:null;for((-1===y||l&Ge.SkipSelf)&&(_=-1===y?hs(o,s):s[y+8],-1!==_&&Yi(l,!1)?(g=s[1],y=Ic(_),s=Tc(_,s)):y=-1);-1!==y;){const C=s[1];if(Mn(h,y,C.data)){const T=DC(y,s,u,g,l,w);if(T!==Lv)return T}_=s[y+8],-1!==_&&Yi(l,s[1].data[y+8]===w)&&Mn(h,y,s)?(g=C,y=Ic(_),s=Tc(_,s)):y=-1}}}return kv(s,u,l,d)}const Lv={};function CC(){return new Ra(pn(),he())}function DC(o,s,u,l,d,h){const g=s[1],y=g.data[o+8],C=To(y,g,u,null==l?gd(y)&&Fv:l!=g&&0!=(3&y.type),d&Ge.Host&&h===y);return null!==C?Lr(s,g,C,y):Lv}function To(o,s,u,l,d){const h=o.providerIndexes,g=s.data,y=1048575&h,_=o.directiveStart,C=h>>20,S=d?y+C:o.directiveEnd;for(let R=l?y:y+C;R<S;R++){const U=g[R];if(R<_&&u===U||R>=_&&U.type===u)return R}if(d){const R=g[_];if(R&&ri(R)&&R.type===u)return _}return null}function Lr(o,s,u,l){let d=o[u];const h=s.data;if(function(o){return o instanceof Dc}(d)){const g=d;g.resolving&&function(o,s){throw new we("200",`Circular dependency in DI detected for ${o}`)}(Pt(h[u]));const y=vp(g.canSeeViewProviders);g.resolving=!0;const _=g.injectImpl?qi(g.injectImpl):null;dC(o,l,Ge.Default);try{d=o[u]=g.factory(void 0,h,o,l),s.firstCreatePass&&u>=l.directiveStart&&function(o,s,u){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:h}=s.type.prototype;if(l){const g=Jh(s);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,g)}d&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,d),h&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,h),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,h))}(u,h[u],s)}finally{null!==_&&qi(_),vp(y),g.resolving=!1,fC()}}return d}function Mn(o,s,u){return!!(u[s+(o>>5)]&1<<o)}function Yi(o,s){return!(o&Ge.Self||o&Ge.Host&&s)}class Ra{constructor(s,u){this._tNode=s,this._lView=u}get(s,u){return Ep(this._tNode,this._lView,s,void 0,u)}}function IC(o){return qe(()=>{const s=o.prototype.constructor,u=s[fn]||Cd(s),l=Object.prototype;let d=Object.getPrototypeOf(o.prototype).constructor;for(;d&&d!==l;){const h=d[fn]||Cd(d);if(h&&h!==u)return h;d=Object.getPrototypeOf(d)}return h=>new h})}function Cd(o){return He(o)?()=>{const s=Cd(se(o));return s&&s()}:fs(o)}function Dd(o){return function(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const u=o.attrs;if(u){const l=u.length;let d=0;for(;d<l;){const h=u[d];if(mp(h))break;if(0===h)d+=2;else if("number"==typeof h)for(d++;d<l&&"string"==typeof u[d];)d++;else{if(h===s)return u[d+1];d+=2}}}return null}(pn(),o)}const ms="__parameters__";function So(o,s,u){return qe(()=>{const l=function(o){return function(...u){if(o){const l=o(...u);for(const d in l)this[d]=l[d]}}}(s);function d(...h){if(this instanceof d)return l.apply(this,h),this;const g=new d(...h);return y.annotation=g,y;function y(_,w,C){const T=_.hasOwnProperty(ms)?_[ms]:Object.defineProperty(_,ms,{value:[]})[ms];for(;T.length<=C;)T.push(null);return(T[C]=T[C]||[]).push(g),_}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=o,d.annotationCls=d,d})}class Xt{constructor(s,u){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=on({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Bv=new Xt("AnalyzeForEntryComponents"),ai=Function;function dr(o,s){void 0===s&&(s=o);for(let u=0;u<o.length;u++){let l=o[u];Array.isArray(l)?(s===o&&(s=o.slice(0,u)),dr(l,s)):s!==o&&s.push(l)}return s}function Vr(o,s){o.forEach(u=>Array.isArray(u)?Vr(u,s):s(u))}function Zn(o,s,u){s>=o.length?o.push(u):o.splice(s,0,u)}function _s(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function Cr(o,s,u){let l=bs(o,s);return l>=0?o[1|l]=u:(l=~l,function(o,s,u,l){let d=o.length;if(d==s)o.push(u,l);else if(1===d)o.push(l,o[0]),o[0]=u;else{for(d--,o.push(o[d-1],o[d]);d>s;)o[d]=o[d-2],d--;o[s]=u,o[s+1]=l}}(o,l,s,u)),l}function Ip(o,s){const u=bs(o,s);if(u>=0)return o[1|u]}function bs(o,s){return function(o,s,u){let l=0,d=o.length>>u;for(;d!==l;){const h=l+(d-l>>1),g=o[h<<u];if(s===g)return h<<u;g>s?d=h:l=h+1}return~(d<<u)}(o,s,1)}const Ji={},La="__NG_DI_FLAG__",ci="ngTempTokenPath",LC=/\n/gm,Ad="__source",Md=k({provide:String,useValue:k});let Es;function Ao(o){const s=Es;return Es=o,s}function Nd(o,s=Ge.Default){if(void 0===Es)throw new Error("inject() must be called from an injection context");return null===Es?an(o,void 0,s):Es.get(o,s&Ge.Optional?null:void 0,s)}function en(o,s=Ge.Default){return(ld||Nd)(se(o),s)}function Va(o){const s=[];for(let u=0;u<o.length;u++){const l=se(o[u]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let d,h=Ge.Default;for(let g=0;g<l.length;g++){const y=l[g],_=Rc(y);"number"==typeof _?-1===_?d=y.token:h|=_:d=y}s.push(en(d,h))}else s.push(en(l))}return s}function Zi(o,s){return o[La]=s,o.prototype[La]=s,o}function Rc(o){return o[La]}function Mp(o,s,u,l){const d=o[ci];throw s[Ad]&&d.unshift(s[Ad]),o.message=function(o,s,u,l=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let d=P(s);if(Array.isArray(s))d=s.map(P).join(" -> ");else if("object"==typeof s){let h=[];for(let g in s)if(s.hasOwnProperty(g)){let y=s[g];h.push(g+":"+("string"==typeof y?JSON.stringify(y):P(y)))}d=`{${h.join(", ")}}`}return`${u}${l?"("+l+")":""}[${d}]: ${o.replace(LC,"\n  ")}`}("\n"+o.message,d,u,l),o.ngTokenPath=d,o[ci]=null,o}const Cs=Zi(So("Inject",o=>({token:o})),-1),Xi=Zi(So("Optional"),8),eo=Zi(So("SkipSelf"),4);let Ba;function Mo(o){var s;return(null===(s=function(){if(void 0===Ba&&(Ba=null,L.trustedTypes))try{Ba=L.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Ba}())||void 0===s?void 0:s.createHTML(o))||o}class Ds{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Xv extends Ds{getTypeName(){return"HTML"}}class zC extends Ds{getTypeName(){return"Style"}}class AA extends Ds{getTypeName(){return"Script"}}class Pp extends Ds{getTypeName(){return"URL"}}class KC extends Ds{getTypeName(){return"ResourceURL"}}function Si(o){return o instanceof Ds?o.changingThisBreaksApplicationSecurity:o}function Is(o,s){const u=e_(o);if(null!=u&&u!==s){if("ResourceURL"===u&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===s}function e_(o){return o instanceof Ds&&o.getTypeName()||null}function t_(o){return new Xv(o)}function QC(o){return new zC(o)}function n_(o){return new AA(o)}function YC(o){return new Pp(o)}function JC(o){return new KC(o)}class r_{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const u=(new window.DOMParser).parseFromString(Mo(s),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(s):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class ZC{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const l=this.inertDocument.createElement("body");u.appendChild(l)}}getInertBodyElement(s){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Mo(s),u;const l=this.inertDocument.createElement("body");return l.innerHTML=Mo(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const u=s.attributes;for(let d=u.length-1;0<d;d--){const g=u.item(d).name;("xmlns:ns1"===g||0===g.indexOf("ns1:"))&&s.removeAttribute(g)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const XC=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,tD=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ga(o){return(o=String(o)).match(XC)||o.match(tD)?o:"unsafe:"+o}function li(o){const s={};for(const u of o.split(","))s[u]=!0;return s}function Vd(...o){const s={};for(const u of o)for(const l in u)u.hasOwnProperty(l)&&(s[l]=!0);return s}const nD=li("area,br,col,hr,img,wbr"),rD=li("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fp=li("rp,rt"),s_=Vd(nD,Vd(rD,li("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Vd(Fp,li("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vd(Fp,rD)),a_=li("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),We=li("srcset"),Ur=Vd(a_,We,li("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),li("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),u_=li("script,style,template");class di{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let u=s.firstChild,l=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?l=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,l&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let d=this.checkClobberedElement(u,u.nextSibling);if(d){u=d;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(s){const u=s.nodeName.toLowerCase();if(!s_.hasOwnProperty(u))return this.sanitizedSomething=!0,!u_.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const l=s.attributes;for(let d=0;d<l.length;d++){const h=l.item(d),g=h.name,y=g.toLowerCase();if(!Ur.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let _=h.value;a_[y]&&(_=Ga(_)),We[y]&&(o=_,_=(o=String(o)).split(",").map(s=>Ga(s.trim())).join(", ")),this.buf.push(" ",g,'="',c_(_),'"')}var o;return this.buf.push(">"),!0}endElement(s){const u=s.nodeName.toLowerCase();s_.hasOwnProperty(u)&&!nD.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(s){this.buf.push(c_(s))}checkClobberedElement(s,u){if(u&&(s.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return u}}const oD=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sD=/([^\#-~ |!])/g;function c_(o){return o.replace(/&/g,"&amp;").replace(oD,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(sD,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ud;function l_(o,s){let u=null;try{Ud=Ud||function(o){const s=new ZC(o);return function(){try{return!!(new window.DOMParser).parseFromString(Mo(""),"text/html")}catch(o){return!1}}()?new r_(s):s}(o);let l=s?String(s):"";u=Ud.getInertBodyElement(l);let d=5,h=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=h,h=u.innerHTML,u=Ud.getInertBodyElement(l)}while(l!==h);return Mo((new di).sanitizeChildren(jd(u)||u))}finally{if(u){const l=jd(u)||u;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function jd(o){return"content"in o&&function(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var tn=(()=>((tn=tn||{})[tn.NONE=0]="NONE",tn[tn.HTML=1]="HTML",tn[tn.STYLE=2]="STYLE",tn[tn.SCRIPT=3]="SCRIPT",tn[tn.URL=4]="URL",tn[tn.RESOURCE_URL=5]="RESOURCE_URL",tn))();function Ha(o){const s=function(){const o=he();return o&&o[12]}();return s?s.sanitize(tn.URL,o)||"":Is(o,"URL")?Si(o):Ga(Me(o))}const Bd="__ngContext__";function Bn(o,s){o[Bd]=s}function $a(o){const s=function(o){return o[Bd]||null}(o);return s?Array.isArray(s)?s:s.lView:null}function Gd(o){return o.ngOriginalError}function y_(o,...s){o.error(...s)}class Wa{constructor(){this._console=console}handleError(s){const u=this._findOriginalError(s),l=this._findContext(s),d=(o=s)&&o.ngErrorLogger||y_;var o;d(this._console,"ERROR",s),u&&d(this._console,"ORIGINAL ERROR",u),l&&d(this._console,"ERROR CONTEXT",l)}_findContext(s){return s?s.ngDebugContext||this._findContext(Gd(s)):null}_findOriginalError(s){let u=s&&Gd(s);for(;u&&Gd(u);)u=Gd(u);return u||null}}const za=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(L))();function Mi(o){return o instanceof Function?o():o}var Ni=(()=>((Ni=Ni||{})[Ni.Important=1]="Important",Ni[Ni.DashCase=2]="DashCase",Ni))();function jp(o,s){return undefined(o,s)}function at(o){const s=o[3];return un(s)?s[3]:s}function $d(o){return C_(o[13])}function jc(o){return C_(o[4])}function C_(o){for(;null!==o&&!un(o);)o=o[4];return o}function Qa(o,s,u,l,d){if(null!=l){let h,g=!1;un(l)?h=l:Ki(l)&&(g=!0,l=l[0]);const y=Jt(l);0===o&&null!==u?null==d?Ya(s,u,y):ut(s,u,y,d||null,!0):1===o&&null!==u?ut(s,u,y,d||null,!0):2===o?function(o,s,u){const l=Wd(o,s);l&&function(o,s,u,l){Yt(o)?o.removeChild(s,u,l):s.removeChild(u)}(o,l,s,u)}(s,y,g):3===o&&s.destroyNode(y),null!=h&&function(o,s,u,l,d){const h=u[7];h!==Jt(u)&&Qa(s,o,l,h,d);for(let y=10;y<u.length;y++){const _=u[y];Hc(_[1],_,o,s,l,h)}}(s,o,h,u,d)}}function qd(o,s,u){return Yt(o)?o.createElement(s,u):null===u?o.createElement(s):o.createElementNS(u,s)}function Hp(o,s){const u=o[9],l=u.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,np(d,-1)),u.splice(l,1)}function $p(o,s){if(o.length<=10)return;const u=10+s,l=o[u];if(l){const d=l[17];null!==d&&d!==o&&Hp(d,l),s>0&&(o[u-1][4]=l[4]);const h=_s(o,10+s);!function(o,s){Hc(o,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const g=h[19];null!==g&&g.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function qp(o,s){if(!(256&s[2])){const u=s[11];Yt(u)&&u.destroyNode&&Hc(o,s,u,3,null,null),function(o){let s=o[13];if(!s)return Wp(o[1],o);for(;s;){let u=null;if(Ki(s))u=s[13];else{const l=s[10];l&&(u=l)}if(!u){for(;s&&!s[4]&&s!==o;)Ki(s)&&Wp(s[1],s),s=s[3];null===s&&(s=o),Ki(s)&&Wp(s[1],s),u=s&&s[4]}s=u}}(s)}}function Wp(o,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(o,s){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let l=0;l<u.length;l+=2){const d=s[u[l]];if(!(d instanceof Dc)){const h=u[l+1];if(Array.isArray(h))for(let g=0;g<h.length;g+=2){const y=d[h[g]],_=h[g+1];try{_.call(y)}finally{}}else try{h.call(d)}finally{}}}}(o,s),function(o,s){const u=o.cleanup,l=s[7];let d=-1;if(null!==u)for(let h=0;h<u.length-1;h+=2)if("string"==typeof u[h]){const g=u[h+1],y="function"==typeof g?g(s):Jt(s[g]),_=l[d=u[h+2]],w=u[h+3];"boolean"==typeof w?y.removeEventListener(u[h],_,w):w>=0?l[d=w]():l[d=-w].unsubscribe(),h+=2}else{const g=l[d=u[h+1]];u[h].call(g)}if(null!==l){for(let h=d+1;h<l.length;h++)l[h]();s[7]=null}}(o,s),1===s[1].type&&Yt(s[11])&&s[11].destroy();const u=s[17];if(null!==u&&un(s[3])){u!==s[3]&&Hp(u,s);const l=s[19];null!==l&&l.detachView(o)}}}function Bc(o,s,u){return function(o,s,u){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return u[0];if(2&l.flags){const d=o.data[l.directiveStart].encapsulation;if(d===Kt.None||d===Kt.Emulated)return null}return oi(l,u)}(o,s.parent,u)}function ut(o,s,u,l,d){Yt(o)?o.insertBefore(s,u,l,d):s.insertBefore(u,l,d)}function Ya(o,s,u){Yt(o)?o.appendChild(s,u):s.appendChild(u)}function A_(o,s,u,l,d){null!==l?ut(o,s,u,l,d):Ya(o,s,u)}function Wd(o,s){return Yt(o)?o.parentNode(s):s.parentNode}let Gc=function(o,s,u){return 40&o.type?oi(o,u):null};function xs(o,s,u,l){const d=Bc(o,l,s),h=s[11],y=function(o,s,u){return Gc(o,s,u)}(l.parent||s[6],l,s);if(null!=d)if(Array.isArray(u))for(let _=0;_<u.length;_++)A_(h,d,u[_],y,!1);else A_(h,d,u,y,!1)}function zd(o,s){if(null!==s){const u=s.type;if(3&u)return oi(s,o);if(4&u)return Ja(-1,o[s.index]);if(8&u){const l=s.child;if(null!==l)return zd(o,l);{const d=o[s.index];return un(d)?Ja(-1,d):Jt(d)}}if(32&u)return jp(s,o)()||Jt(o[s.index]);{const l=Kd(o,s);return null!==l?Array.isArray(l)?l[0]:zd(at(o[16]),l):zd(o,s.next)}}return null}function Kd(o,s){return null!==s?o[16][6].projection[s.projection]:null}function Ja(o,s){const u=10+o+1;if(u<s.length){const l=s[u],d=l[1].firstChild;if(null!==d)return zd(l,d)}return s[7]}function Qd(o,s,u,l,d,h,g){for(;null!=u;){const y=l[u.index],_=u.type;if(g&&0===s&&(y&&Bn(Jt(y),l),u.flags|=4),64!=(64&u.flags))if(8&_)Qd(o,s,u.child,l,d,h,!1),Qa(s,o,d,y,h);else if(32&_){const w=jp(u,l);let C;for(;C=w();)Qa(s,o,d,C,h);Qa(s,o,d,y,h)}else 16&_?N_(o,s,l,u,d,h):Qa(s,o,d,y,h);u=g?u.projectionNext:u.next}}function Hc(o,s,u,l,d,h){Qd(u,l,o.firstChild,s,d,h,!1)}function N_(o,s,u,l,d,h){const g=u[16],_=g[6].projection[l.projection];if(Array.isArray(_))for(let w=0;w<_.length;w++)Qa(s,o,d,_[w],h);else Qd(o,s,_,g[3],d,h,!0)}function x_(o,s,u){Yt(o)?o.setAttribute(s,"style",u):s.style.cssText=u}function Jp(o,s,u){Yt(o)?""===u?o.removeAttribute(s,"class"):o.setAttribute(s,"class",u):s.className=u}function R_(o,s,u){let l=o.length;for(;;){const d=o.indexOf(s,u);if(-1===d)return d;if(0===d||o.charCodeAt(d-1)<=32){const h=s.length;if(d+h===l||o.charCodeAt(d+h)<=32)return d}u=d+1}}const Zp="ng-template";function Xp(o,s,u){let l=0;for(;l<o.length;){let d=o[l++];if(u&&"class"===d){if(d=o[l],-1!==R_(d.toLowerCase(),s,0))return!0}else if(1===d){for(;l<o.length&&"string"==typeof(d=o[l++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function Jd(o){return 4===o.type&&o.value!==Zp}function no(o,s,u){return s===(4!==o.type||u?o.value:Zp)}function $c(o,s,u){let l=4;const d=o.attrs||[],h=function(o){for(let s=0;s<o.length;s++)if(mp(o[s]))return s;return o.length}(d);let g=!1;for(let y=0;y<s.length;y++){const _=s[y];if("number"!=typeof _){if(!g)if(4&l){if(l=2|1&l,""!==_&&!no(o,_,u)||""===_&&1===s.length){if(Br(l))return!1;g=!0}}else{const w=8&l?_:s[++y];if(8&l&&null!==o.attrs){if(!Xp(o.attrs,w,u)){if(Br(l))return!1;g=!0}continue}const T=O_(8&l?"class":_,d,Jd(o),u);if(-1===T){if(Br(l))return!1;g=!0;continue}if(""!==w){let S;S=T>h?"":d[T+1].toLowerCase();const R=8&l?S:null;if(R&&-1!==R_(R,w,0)||2&l&&w!==S){if(Br(l))return!1;g=!0}}}}else{if(!g&&!Br(l)&&!Br(_))return!1;if(g&&Br(_))continue;g=!1,l=_|1&l}}return Br(l)||g}function Br(o){return 0==(1&o)}function O_(o,s,u,l){if(null===s)return-1;let d=0;if(l||!u){let h=!1;for(;d<s.length;){const g=s[d];if(g===o)return d;if(3===g||6===g)h=!0;else{if(1===g||2===g){let y=s[++d];for(;"string"==typeof y;)y=s[++d];continue}if(4===g)break;if(0===g){d+=4;continue}}d+=h?1:2}return-1}return function(o,s){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const l=o[u];if("number"==typeof l)return-1;if(l===s)return u;u++}return-1}(s,o)}function P_(o,s,u=!1){for(let l=0;l<s.length;l++)if($c(o,s[l],u))return!0;return!1}function eg(o,s){return o?":not("+s.trim()+")":s}function tg(o){let s=o[0],u=1,l=2,d="",h=!1;for(;u<o.length;){let g=o[u];if("string"==typeof g)if(2&l){const y=o[++u];d+="["+g+(y.length>0?'="'+y+'"':"")+"]"}else 8&l?d+="."+g:4&l&&(d+=" "+g);else""!==d&&!Br(g)&&(s+=eg(h,d),d=""),l=g,h=h||!Br(l);u++}return""!==d&&(s+=eg(h,d)),s}const Ze={};function L_(o){qc(pt(),he(),Jn()+o,Aa())}function qc(o,s,u,l){if(!l)if(3==(3&s[2])){const h=o.preOrderCheckHooks;null!==h&&wd(s,h,u)}else{const h=o.preOrderHooks;null!==h&&gp(s,h,0,u)}Co(u)}function Wc(o,s){return o<<17|s<<2}function fi(o){return o>>17&32767}function Xa(o){return 2|o}function Tr(o){return(131068&o)>>2}function zc(o,s){return-131069&o|s<<2}function Xd(o){return 1|o}function cg(o,s){const u=o.contentQueries;if(null!==u)for(let l=0;l<u.length;l+=2){const d=u[l],h=u[l+1];if(-1!==h){const g=o.data[h];Sv(d),g.contentQueries(2,s[h],h)}}}function Fo(o,s,u,l,d,h,g,y,_,w){const C=s.blueprint.slice();return C[0]=d,C[2]=140|l,wv(C),C[3]=C[15]=o,C[8]=u,C[10]=g||o&&o[10],C[11]=y||o&&o[11],C[12]=_||o&&o[12]||null,C[9]=w||o&&o[9]||null,C[6]=h,C[16]=2==s.type?o[16]:C,C}function Os(o,s,u,l,d){let h=o.data[s];if(null===h)h=function(o,s,u,l,d){const h=Cv(),g=sp(),_=o.data[s]=function(o,s,u,l,d,h){return{type:u,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?h:h&&h.parent,u,s,l,d);return null===o.firstChild&&(o.firstChild=_),null!==h&&(g?null==h.child&&null!==_.parent&&(h.child=_):null===h.next&&(h.next=_)),_}(o,s,u,l,d),rt.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=u,h.value=l,h.attrs=d;const g=function(){const o=rt.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();h.injectorIndex=null===g?-1:g.injectorIndex}return Di(h,!0),h}function iu(o,s,u,l){if(0===u)return-1;const d=s.length;for(let h=0;h<u;h++)s.push(l),o.blueprint.push(l),o.data.push(null);return d}function Jc(o,s,u){Cc(s);try{const l=o.viewQuery;null!==l&&Xc(1,l,u);const d=o.template;null!==d&&af(o,s,d,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&cg(o,s),o.staticViewQueries&&Xc(2,o.viewQuery,u);const h=o.components;null!==h&&function(o,s){for(let u=0;u<s.length;u++)YD(o,s[u])}(s,h)}catch(l){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),l}finally{s[2]&=-5,fp()}}function ou(o,s,u,l){const d=s[2];if(256==(256&d))return;Cc(s);const h=Aa();try{wv(s),function(o){rt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&af(o,s,u,2,l);const g=3==(3&d);if(!h)if(g){const w=o.preOrderCheckHooks;null!==w&&wd(s,w,null)}else{const w=o.preOrderHooks;null!==w&&gp(s,w,0,null),Nv(s,0)}if(function(o){for(let s=$d(o);null!==s;s=jc(s)){if(!s[2])continue;const u=s[9];for(let l=0;l<u.length;l++){const d=u[l],h=d[3];0==(1024&d[2])&&np(h,1),d[2]|=1024}}}(s),function(o){for(let s=$d(o);null!==s;s=jc(s))for(let u=10;u<s.length;u++){const l=s[u],d=l[1];tp(l)&&ou(d,l,d.template,l[8])}}(s),null!==o.contentQueries&&cg(o,s),!h)if(g){const w=o.contentCheckHooks;null!==w&&wd(s,w)}else{const w=o.contentHooks;null!==w&&gp(s,w,1),Nv(s,1)}!function(o,s){const u=o.hostBindingOpCodes;if(null!==u)try{for(let l=0;l<u.length;l++){const d=u[l];if(d<0)Co(~d);else{const h=d,g=u[++l],y=u[++l];up(g,h),y(2,s[h])}}}finally{Co(-1)}}(o,s);const y=o.components;null!==y&&function(o,s){for(let u=0;u<s.length;u++)QD(o,s[u])}(s,y);const _=o.viewQuery;if(null!==_&&Xc(2,_,l),!h)if(g){const w=o.viewCheckHooks;null!==w&&wd(s,w)}else{const w=o.viewHooks;null!==w&&gp(s,w,2),Nv(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),h||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,np(s[3],-1))}finally{fp()}}function LD(o,s,u,l){const d=s[10],h=!Aa(),g=_v(s);try{h&&!g&&d.begin&&d.begin(),g&&Jc(o,s,l),ou(o,s,u,l)}finally{h&&!g&&d.end&&d.end()}}function af(o,s,u,l,d){const h=Jn(),g=2&l;try{Co(-1),g&&s.length>20&&qc(o,s,20,Aa()),u(l,d)}finally{Co(h)}}function uf(o,s,u){!ip()||(function(o,s,u,l){const d=u.directiveStart,h=u.directiveEnd;o.firstCreatePass||it(u,s),Bn(l,s);const g=u.initialInputs;for(let y=d;y<h;y++){const _=o.data[y],w=ri(_);w&&zD(s,u,_);const C=Lr(s,o,y,u);Bn(C,s),null!==g&&pg(0,y-d,C,_,0,g),w&&(Er(u.index,s)[8]=C)}}(o,s,u,oi(u,s)),128==(128&u.flags)&&function(o,s,u){const l=u.directiveStart,d=u.directiveEnd,g=u.index,y=rt.lFrame.currentDirectiveIndex;try{Co(g);for(let _=l;_<d;_++){const w=o.data[_],C=s[_];cp(_),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&WD(w,C)}}finally{Co(-1),cp(y)}}(o,s,u))}function su(o,s,u=oi){const l=s.localNames;if(null!==l){let d=s.index+1;for(let h=0;h<l.length;h+=2){const g=l[h+1],y=-1===g?u(s,o):o[g];o[d++]=y}}}function W_(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=cf(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function cf(o,s,u,l,d,h,g,y,_,w){const C=20+l,T=C+d,S=function(o,s){const u=[];for(let l=0;l<s;l++)u.push(l<o?null:Ze);return u}(C,T),R="function"==typeof w?w():w;return S[1]={type:o,blueprint:S,template:u,queries:null,viewQuery:y,declTNode:s,data:S.slice().fill(null,C),bindingStartIndex:C,expandoStartIndex:T,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:_,consts:R,incompleteFirstPass:!1}}function Q_(o,s,u,l){const d=u0(s);null===u?d.push(l):(d.push(u),o.firstCreatePass&&bg(o).push(l,d.length-1))}function Y_(o,s,u){for(let l in o)if(o.hasOwnProperty(l)){const d=o[l];(u=null===u?{}:u).hasOwnProperty(l)?u[l].push(s,d):u[l]=[s,d]}return u}function Ar(o,s,u,l,d,h,g,y){const _=oi(s,u);let C,w=s.inputs;!y&&null!=w&&(C=w[l])?(l0(o,u,C,l,d),gd(s)&&function(o,s){const u=Er(s,o);16&u[2]||(u[2]|=64)}(u,s.index)):3&s.type&&(l=function(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(l),d=null!=g?g(d,s.value||"",l):d,Yt(h)?h.setProperty(_,l,d):Ov(l)||(_.setProperty?_.setProperty(l,d):_[l]=d))}function dg(o,s,u,l){let d=!1;if(ip()){const h=function(o,s,u){const l=o.directiveRegistry;let d=null;if(l)for(let h=0;h<l.length;h++){const g=l[h];P_(u,g.selectors,!1)&&(d||(d=[]),Sc(it(u,s),o,g.type),ri(g)?(fg(o,u),d.unshift(g)):d.push(g))}return d}(o,s,u),g=null===l?null:{"":-1};if(null!==h){d=!0,r0(u,o.data.length,h.length);for(let C=0;C<h.length;C++){const T=h[C];T.providersResolver&&T.providersResolver(T)}let y=!1,_=!1,w=iu(o,s,h.length,null);for(let C=0;C<h.length;C++){const T=h[C];u.mergedAttrs=yp(u.mergedAttrs,T.hostAttrs),i0(o,u,s,w,T),n0(w,T,g),null!==T.contentQueries&&(u.flags|=8),(null!==T.hostBindings||null!==T.hostAttrs||0!==T.hostVars)&&(u.flags|=128);const S=T.type.prototype;!y&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),y=!0),!_&&(S.ngOnChanges||S.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),_=!0),w++}!function(o,s){const l=s.directiveEnd,d=o.data,h=s.attrs,g=[];let y=null,_=null;for(let w=s.directiveStart;w<l;w++){const C=d[w],T=C.inputs,S=null===h||Jd(s)?null:KD(T,h);g.push(S),y=Y_(T,w,y),_=Y_(C.outputs,w,_)}null!==y&&(y.hasOwnProperty("class")&&(s.flags|=16),y.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=g,s.inputs=y,s.outputs=_}(o,u)}g&&function(o,s,u){if(s){const l=o.localNames=[];for(let d=0;d<s.length;d+=2){const h=u[s[d+1]];if(null==h)throw new we("301",`Export of name '${s[d+1]}' not found!`);l.push(s[d],h)}}}(u,l,g)}return u.mergedAttrs=yp(u.mergedAttrs,u.attrs),d}function Z_(o,s,u,l,d,h){const g=h.hostBindings;if(g){let y=o.hostBindingOpCodes;null===y&&(y=o.hostBindingOpCodes=[]);const _=~s.index;(function(o){let s=o.length;for(;s>0;){const u=o[--s];if("number"==typeof u&&u<0)return u}return 0})(y)!=_&&y.push(_),y.push(l,d,g)}}function WD(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function fg(o,s){s.flags|=2,(o.components||(o.components=[])).push(s.index)}function n0(o,s,u){if(u){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)u[s.exportAs[l]]=o;ri(s)&&(u[""]=o)}}function r0(o,s,u){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+u,o.providerIndexes=s}function i0(o,s,u,l,d){o.data[l]=d;const h=d.factory||(d.factory=fs(d.type)),g=new Dc(h,ri(d),null);o.blueprint[l]=g,u[l]=g,Z_(o,s,0,l,iu(o,u,d.hostVars,Ze),d)}function zD(o,s,u){const l=oi(s,o),d=W_(u),h=o[10],g=ff(o,Fo(o,d,null,u.onPush?64:16,l,s,h,h.createRenderer(l,u),null,null));o[s.index]=g}function Ri(o,s,u,l,d,h){const g=oi(o,s);!function(o,s,u,l,d,h,g){if(null==h)Yt(o)?o.removeAttribute(s,d,u):s.removeAttribute(d);else{const y=null==g?Me(h):g(h,l||"",d);Yt(o)?o.setAttribute(s,d,y,u):u?s.setAttributeNS(u,d,y):s.setAttribute(d,y)}}(s[11],g,h,o.value,u,l,d)}function pg(o,s,u,l,d,h){const g=h[s];if(null!==g){const y=l.setInput;for(let _=0;_<g.length;){const w=g[_++],C=g[_++],T=g[_++];null!==y?l.setInput(u,T,w,C):u[C]=T}}}function KD(o,s){let u=null,l=0;for(;l<s.length;){const d=s[l];if(0!==d)if(5!==d){if("number"==typeof d)break;o.hasOwnProperty(d)&&(null===u&&(u=[]),u.push(d,o[d],s[l+1])),l+=2}else l+=2;else l+=4}return u}function o0(o,s,u,l){return new Array(o,!0,!1,s,null,0,l,u,null,null)}function QD(o,s){const u=Er(s,o);if(tp(u)){const l=u[1];80&u[2]?ou(l,u,l.template,u[8]):u[5]>0&&ko(u)}}function ko(o){for(let l=$d(o);null!==l;l=jc(l))for(let d=10;d<l.length;d++){const h=l[d];if(1024&h[2]){const g=h[1];ou(g,h,g.template,h[8])}else h[5]>0&&ko(h)}const u=o[1].components;if(null!==u)for(let l=0;l<u.length;l++){const d=Er(u[l],o);tp(d)&&d[5]>0&&ko(d)}}function YD(o,s){const u=Er(s,o),l=u[1];(function(o,s){for(let u=s.length;u<o.blueprint.length;u++)s.push(o.blueprint[u])})(l,u),Jc(l,u,u[8])}function ff(o,s){return o[13]?o[14][4]=s:o[13]=s,o[14]=s,s}function mg(o){for(;o;){o[2]|=64;const s=at(o);if(YE(o)&&!s)return o;o=s}return null}function vg(o,s,u){const l=s[10];l.begin&&l.begin();try{ou(o,s,o.template,u)}catch(d){throw wg(s,d),d}finally{l.end&&l.end()}}function nr(o){!function(o){for(let s=0;s<o.components.length;s++){const u=o.components[s],l=$a(u),d=l[1];LD(d,l,d.template,u)}}(o[8])}function Xc(o,s,u){Sv(0),s(o,u)}const XD=(()=>Promise.resolve(null))();function u0(o){return o[7]||(o[7]=[])}function bg(o){return o.cleanup||(o.cleanup=[])}function wg(o,s){const u=o[9],l=u?u.get(Wa,null):null;l&&l.handleError(s)}function l0(o,s,u,l,d){for(let h=0;h<u.length;){const g=u[h++],y=u[h++],_=s[g],w=o.data[g];null!==w.setInput?w.setInput(_,d,l,y):_[y]=d}}function Oi(o,s,u){const l=vd(s,o);!function(o,s,u){Yt(o)?o.setValue(s,u):s.textContent=u}(o[11],l,u)}function tl(o,s,u){let l=u?o.styles:null,d=u?o.classes:null,h=0;if(null!==s)for(let g=0;g<s.length;g++){const y=s[g];"number"==typeof y?h=y:1==h?d=G(d,y):2==h&&(l=G(l,y+": "+s[++g]+";"))}u?o.styles=l:o.stylesWithoutHost=l,u?o.classes=d:o.classesWithoutHost=d}const Ps=new Xt("INJECTOR",-1);class d0{get(s,u=Ji){if(u===Ji){const l=new Error(`NullInjectorError: No provider for ${P(s)}!`);throw l.name="NullInjectorError",l}return u}}const nl=new Xt("Set Injector scope."),rl={},f0={};let Cg;function h0(){return void 0===Cg&&(Cg=new d0),Cg}function Dg(o,s=null,u=null,l){return new tI(o,u,s||h0(),l)}class tI{constructor(s,u,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];u&&Vr(u,y=>this.processProvider(y,s,u)),Vr([s],y=>this.processInjectorType(y,[],h)),this.records.set(Ps,uu(void 0,this));const g=this.records.get(nl);this.scope=null!=g?g.value:null,this.source=d||("object"==typeof s?null:P(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,u=Ji,l=Ge.Default){this.assertNotDestroyed();const d=Ao(this),h=qi(void 0);try{if(!(l&Ge.SkipSelf)){let y=this.records.get(s);if(void 0===y){const _=("function"==typeof(o=s)||"object"==typeof o&&o instanceof Xt)&&lt(s);y=_&&this.injectableDefInScope(_)?uu(Ig(s),rl):null,this.records.set(s,y)}if(null!=y)return this.hydrate(s,y)}return(l&Ge.Self?h0():this.parent).get(s,u=l&Ge.Optional&&u===Ji?null:u)}catch(g){if("NullInjectorError"===g.name){if((g[ci]=g[ci]||[]).unshift(P(s)),d)throw g;return Mp(g,s,"R3InjectorError",this.source)}throw g}finally{qi(h),Ao(d)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,d)=>s.push(P(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,u,l){if(!(s=se(s)))return!1;let d=Cn(s);const h=null==d&&s.ngModule||void 0,g=void 0===h?s:h,y=-1!==l.indexOf(g);if(void 0!==h&&(d=Cn(h)),null==d)return!1;if(null!=d.imports&&!y){let C;l.push(g);try{Vr(d.imports,T=>{this.processInjectorType(T,u,l)&&(void 0===C&&(C=[]),C.push(T))})}finally{}if(void 0!==C)for(let T=0;T<C.length;T++){const{ngModule:S,providers:R}=C[T];Vr(R,U=>this.processProvider(U,S,R||Ce))}}this.injectorDefTypes.add(g);const _=fs(g)||(()=>new g);this.records.set(g,uu(_,rl));const w=d.providers;if(null!=w&&!y){const C=s;Vr(w,T=>this.processProvider(T,C,w))}return void 0!==h&&void 0!==s.providers}processProvider(s,u,l){let d=cu(s=se(s))?s:se(s&&s.provide);const h=Sg(o=s)?uu(void 0,o.useValue):uu(p0(o),rl);var o;if(cu(s)||!0!==s.multi)this.records.get(d);else{let g=this.records.get(d);g||(g=uu(void 0,rl,!0),g.factory=()=>Va(g.multi),this.records.set(d,g)),d=s,g.multi.push(s)}this.records.set(d,h)}hydrate(s,u){return u.value===rl&&(u.value=f0,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(o=u.value)&&"object"==typeof o&&"function"==typeof o.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var o}injectableDefInScope(s){if(!s.providedIn)return!1;const u=se(s.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Ig(o){const s=lt(o),u=null!==s?s.factory:fs(o);if(null!==u)return u;if(o instanceof Xt)throw new Error(`Token ${P(o)} is missing a \u0275prov definition.`);if(o instanceof Function)return function(o){const s=o.length;if(s>0){const l=function(o,s){const u=[];for(let l=0;l<o;l++)u.push(s);return u}(s,"?");throw new Error(`Can't resolve all parameters for ${P(o)}: (${l.join(", ")}).`)}const u=function(o){const s=o&&(o[Vt]||o[_r]);if(s){const u=function(o){if(o.hasOwnProperty("name"))return o.name;const s=(""+o).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),s}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Error("unreachable")}function p0(o,s,u){let l;if(cu(o)){const d=se(o);return fs(d)||Ig(d)}if(Sg(o))l=()=>se(o.useValue);else if(function(o){return!(!o||!o.useFactory)}(o))l=()=>o.useFactory(...Va(o.deps||[]));else if(function(o){return!(!o||!o.useExisting)}(o))l=()=>en(se(o.useExisting));else{const d=se(o&&(o.useClass||o.provide));if(!function(o){return!!o.deps}(o))return fs(d)||Ig(d);l=()=>new d(...Va(o.deps))}return l}function uu(o,s,u=!1){return{factory:o,value:s,multi:u?[]:void 0}}function Sg(o){return null!==o&&"object"==typeof o&&Md in o}function cu(o){return"function"==typeof o}const g0=function(o,s,u){return function(o,s=null,u=null,l){const d=Dg(o,s,u,l);return d._resolveInjectorDefTypes(),d}({name:u},s,o,u)};class At{static create(s,u){return Array.isArray(s)?g0(s,u,""):g0(s.providers,s.parent,s.name||"")}}function w0(o,s){bd($a(o)[1],pn())}function Lg(o){let s=function(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const l=[o];for(;s;){let d;if(ri(o))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(u){l.push(d);const g=o;g.inputs=Lo(o.inputs),g.declaredInputs=Lo(o.declaredInputs),g.outputs=Lo(o.outputs);const y=d.hostBindings;y&&C0(o,y);const _=d.viewQuery,w=d.contentQueries;if(_&&E0(o,_),w&&Vg(o,w),B(o.inputs,d.inputs),B(o.declaredInputs,d.declaredInputs),B(o.outputs,d.outputs),ri(d)&&d.data.animation){const C=o.data;C.animation=(C.animation||[]).concat(d.data.animation)}}const h=d.features;if(h)for(let g=0;g<h.length;g++){const y=h[g];y&&y.ngInherit&&y(o),y===Lg&&(u=!1)}}s=Object.getPrototypeOf(s)}!function(o){let s=0,u=null;for(let l=o.length-1;l>=0;l--){const d=o[l];d.hostVars=s+=d.hostVars,d.hostAttrs=yp(d.hostAttrs,u=yp(u,d.hostAttrs))}}(l)}function Lo(o){return o===Ee?{}:o===Ce?[]:o}function E0(o,s){const u=o.viewQuery;o.viewQuery=u?(l,d)=>{s(l,d),u(l,d)}:s}function Vg(o,s){const u=o.contentQueries;o.contentQueries=u?(l,d,h)=>{s(l,d,h),u(l,d,h)}:s}function C0(o,s){const u=o.hostBindings;o.hostBindings=u?(l,d)=>{s(l,d),u(l,d)}:s}At.THROW_IF_NOT_FOUND=Ji,At.NULL=new d0,At.\u0275prov=on({token:At,providedIn:"any",factory:()=>en(Ps)}),At.__NG_ELEMENT_ID__=-1;let fu=null;function Vo(){if(!fu){const o=L.Symbol;if(o&&o.iterator)fu=o.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<s.length;++u){const l=s[u];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(fu=l)}}}return fu}function sl(o){return!!jg(o)&&(Array.isArray(o)||!(o instanceof Map)&&Vo()in o)}function jg(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function mn(o,s,u){return!Object.is(o[s],u)&&(o[s]=u,!0)}function Bg(o,s,u,l){const d=he();return mn(d,Na(),s)&&(pt(),Ri(Zt(),d,o,s,u,l)),Bg}function al(o,s,u,l,d,h,g,y){const _=he(),w=pt(),C=o+20,T=w.firstCreatePass?function(o,s,u,l,d,h,g,y,_){const w=s.consts,C=Os(s,o,4,g||null,Eo(w,y));dg(s,u,C,Eo(w,_)),bd(s,C);const T=C.tViews=cf(2,C,l,d,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,w);return null!==s.queries&&(s.queries.template(s,C),T.queries=s.queries.embeddedTView(C)),C}(C,w,_,s,u,l,d,h,g):w.data[C];Di(T,!1);const S=_[11].createComment("");xs(w,_,S,T),Bn(S,_),ff(_,_[C]=o0(S,_,S,T)),md(T)&&uf(w,_,T),null!=g&&su(_,T,y)}function S0(o){return function(o,s){return o[s]}(rt.lFrame.contextLView,20+o)}function vu(o,s=Ge.Default){const u=he();return null===u?en(o,s):Ep(pn(),u,se(o),s)}function nm(o,s,u){const l=he();return mn(l,Na(),s)&&Ar(pt(),Zt(),l,o,s,l[11],u,!1),nm}function Gs(o,s,u,l,d){const g=d?"class":"style";l0(o,u,s.inputs[g],g,l)}function _u(o,s,u,l){const d=he(),h=pt(),g=20+o,y=d[11],_=d[g]=qd(y,s,rt.lFrame.currentNamespace),w=h.firstCreatePass?function(o,s,u,l,d,h,g){const y=s.consts,w=Os(s,o,2,d,Eo(y,h));return dg(s,u,w,Eo(y,g)),null!==w.attrs&&tl(w,w.attrs,!1),null!==w.mergedAttrs&&tl(w,w.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,w),w}(g,h,d,0,s,u,l):h.data[g];Di(w,!0);const C=w.mergedAttrs;null!==C&&xa(y,_,C);const T=w.classes;null!==T&&Jp(y,_,T);const S=w.styles;null!==S&&x_(y,_,S),64!=(64&w.flags)&&xs(h,d,_,w),0===rt.lFrame.elementDepthCount&&Bn(_,d),rt.lFrame.elementDepthCount++,md(w)&&(uf(h,d,w),function(o,s,u){if(Yh(s)){const d=s.directiveEnd;for(let h=s.directiveStart;h<d;h++){const g=o.data[h];g.contentQueries&&g.contentQueries(1,u[h],h)}}}(h,w,d)),null!==l&&su(d,w)}function Hs(){let o=pn();sp()?rt.lFrame.isParent=!1:(o=o.parent,Di(o,!1));const s=o;rt.lFrame.elementDepthCount--;const u=pt();u.firstCreatePass&&(bd(u,o),Yh(o)&&u.queries.elementEnd(o)),null!=s.classesWithoutHost&&function(o){return 0!=(16&o.flags)}(s)&&Gs(u,s,he(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(o){return 0!=(32&o.flags)}(s)&&Gs(u,s,he(),s.stylesWithoutHost,!1)}function $o(o,s,u,l){_u(o,s,u,l),Hs()}function qo(){return he()}function Rf(o){return!!o&&"function"==typeof o.then}function q0(o){return!!o&&"function"==typeof o.subscribe}const ao=q0;function pi(o,s,u,l){const d=he(),h=pt(),g=pn();return function(o,s,u,l,d,h,g,y){const _=md(l),C=o.firstCreatePass&&bg(o),T=s[8],S=u0(s);let R=!0;if(3&l.type||y){const H=oi(l,s),_e=y?y(H):H,ce=S.length,Le=y?Xe=>y(Jt(Xe[l.index])):l.index;if(Yt(u)){let Xe=null;if(!y&&_&&(Xe=function(o,s,u,l){const d=o.cleanup;if(null!=d)for(let h=0;h<d.length-1;h+=2){const g=d[h];if(g===u&&d[h+1]===l){const y=s[7],_=d[h+2];return y.length>_?y[_]:null}"string"==typeof g&&(h+=2)}return null}(o,s,d,l.index)),null!==Xe)(Xe.__ngLastListenerFn__||Xe).__ngNextListenerFn__=h,Xe.__ngLastListenerFn__=h,R=!1;else{h=Ut(l,s,T,h,!1);const yt=u.listen(_e,d,h);S.push(h,yt),C&&C.push(d,Le,ce,ce+1)}}else h=Ut(l,s,T,h,!0),_e.addEventListener(d,h,g),S.push(h),C&&C.push(d,Le,ce,g)}else h=Ut(l,s,T,h,!1);const U=l.outputs;let X;if(R&&null!==U&&(X=U[d])){const H=X.length;if(H)for(let _e=0;_e<H;_e+=2){const Vn=s[X[_e]][X[_e+1]].subscribe(h),$i=S.length;S.push(h,Vn),C&&C.push(d,l.index,$i,-($i+1))}}}(h,d,d[11],g,o,s,!!u,l),pi}function im(o,s,u,l){try{return!1!==u(l)}catch(d){return wg(o,d),!1}}function Ut(o,s,u,l,d){return function h(g){if(g===Function)return l;const y=2&o.flags?Er(o.index,s):s;0==(32&s[2])&&mg(y);let _=im(s,0,l,g),w=h.__ngNextListenerFn__;for(;w;)_=im(s,0,w,g)&&_,w=w.__ngNextListenerFn__;return d&&!1===_&&(g.preventDefault(),g.returnValue=!1),_}}function hl(o=1){return function(o){return(rt.lFrame.contextLView=function(o,s){for(;o>0;)s=s[15],o--;return s}(o,rt.lFrame.contextLView))[8]}(o)}function J0(o,s,u,l,d){const h=o[u+1],g=null===s;let y=l?fi(h):Tr(h),_=!1;for(;0!==y&&(!1===_||g);){const C=o[y+1];MI(o[y],s)&&(_=!0,o[y+1]=l?Xd(C):Xa(C)),y=l?fi(C):Tr(C)}_&&(o[u+1]=l?Xa(h):Xd(h))}function MI(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&bs(o,s)>=0}function Lf(o,s){return function(o,s,u,l){const d=he(),h=pt(),g=function(o){const s=rt.lFrame,u=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,u}(2);h.firstUpdatePass&&function(o,s,u,l){const d=o.data;if(null===d[u+1]){const h=d[Jn()],g=function(o,s){return s>=o.expandoStartIndex}(o,u);(function(o,s){return 0!=(o.flags&(s?16:32))})(h,l)&&null===s&&!g&&(s=!1),s=function(o,s,u,l){const d=function(o){const s=rt.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let h=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(u=Iu(u=Du(null,o,s,u,l),s.attrs,l),h=null);else{const g=s.directiveStylingLast;if(-1===g||o[g]!==d)if(u=Du(d,o,s,u,l),null===h){let _=function(o,s,u){const l=u?s.classBindings:s.styleBindings;if(0!==Tr(l))return o[fi(l)]}(o,s,l);void 0!==_&&Array.isArray(_)&&(_=Du(null,o,s,_[1],l),_=Iu(_,s.attrs,l),function(o,s,u,l){o[fi(u?s.classBindings:s.styleBindings)]=l}(o,s,l,_))}else h=function(o,s,u){let l;const d=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<d;h++)l=Iu(l,o[h].hostAttrs,u);return Iu(l,s.attrs,u)}(o,s,l)}return void 0!==h&&(l?s.residualClasses=h:s.residualStyles=h),u}(d,h,s,l),function(o,s,u,l,d,h){let g=h?s.classBindings:s.styleBindings,y=fi(g),_=Tr(g);o[l]=u;let C,w=!1;if(Array.isArray(u)){const T=u;C=T[1],(null===C||bs(T,C)>0)&&(w=!0)}else C=u;if(d)if(0!==_){const S=fi(o[y+1]);o[l+1]=Wc(S,y),0!==S&&(o[S+1]=zc(o[S+1],l)),o[y+1]=function(o,s){return 131071&o|s<<17}(o[y+1],l)}else o[l+1]=Wc(y,0),0!==y&&(o[y+1]=zc(o[y+1],l)),y=l;else o[l+1]=Wc(_,0),0===y?y=l:o[_+1]=zc(o[_+1],l),_=l;w&&(o[l+1]=Xa(o[l+1])),J0(o,C,l,!0),J0(o,C,l,!1),function(o,s,u,l,d){const h=d?o.residualClasses:o.residualStyles;null!=h&&"string"==typeof s&&bs(h,s)>=0&&(u[l+1]=Xd(u[l+1]))}(s,C,o,l,h),g=Wc(y,_),h?s.classBindings=g:s.styleBindings=g}(d,h,s,u,g,l)}}(h,o,g,l),s!==Ze&&mn(d,g,s)&&function(o,s,u,l,d,h,g,y){if(!(3&s.type))return;const _=o.data,w=_[y+1];ml(function(o){return 1==(1&o)}(w)?Tu(_,s,u,d,Tr(w),g):void 0)||(ml(h)||function(o){return 2==(2&o)}(w)&&(h=Tu(_,null,u,d,y,g)),function(o,s,u,l,d){const h=Yt(o);if(s)d?h?o.addClass(u,l):u.classList.add(l):h?o.removeClass(u,l):u.classList.remove(l);else{let g=-1===l.indexOf("-")?void 0:Ni.DashCase;if(null==d)h?o.removeStyle(u,l,g):u.style.removeProperty(l);else{const y="string"==typeof d&&d.endsWith("!important");y&&(d=d.slice(0,-10),g|=Ni.Important),h?o.setStyle(u,l,d,g):u.style.setProperty(l,d,y?"important":"")}}}(l,g,vd(Jn(),u),d,h))}(h,h.data[Jn()],d,d[11],o,d[g+1]=function(o,s){return null==o||("string"==typeof s?o+=s:"object"==typeof o&&(o=P(Si(o)))),o}(s,u),l,g)}(o,s,null,!0),Lf}function Du(o,s,u,l,d){let h=null;const g=u.directiveEnd;let y=u.directiveStylingLast;for(-1===y?y=u.directiveStart:y++;y<g&&(h=s[y],l=Iu(l,h.hostAttrs,d),h!==o);)y++;return null!==o&&(u.directiveStylingLast=y),l}function Iu(o,s,u){const l=u?1:2;let d=-1;if(null!==s)for(let h=0;h<s.length;h++){const g=s[h];"number"==typeof g?d=g:d===l&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Cr(o,g,!!u||s[++h]))}return void 0===o?null:o}function Tu(o,s,u,l,d,h){const g=null===s;let y;for(;d>0;){const _=o[d],w=Array.isArray(_),C=w?_[1]:_,T=null===C;let S=u[d+1];S===Ze&&(S=T?Ce:void 0);let R=T?Ip(S,l):C===l?S:void 0;if(w&&!ml(R)&&(R=Ip(_,l)),ml(R)&&(y=R,g))return y;const U=o[d+1];d=g?fi(U):Tr(U)}if(null!==s){let _=h?s.residualClasses:s.residualStyles;null!=_&&(y=Ip(_,l))}return y}function ml(o){return void 0!==o}function pm(o,s=""){const u=he(),l=pt(),d=o+20,h=l.firstCreatePass?Os(l,d,1,s,null):l.data[d],g=u[d]=function(o,s){return Yt(o)?o.createText(s):o.createTextNode(s)}(u[11],s);xs(l,u,g,h),Di(h,!1)}function qs(o,s,u){const l=he(),d=function(o,s,u,l){return mn(o,Na(),u)?s+Me(u)+l:Ze}(l,o,s,u);return d!==Ze&&Oi(l,Jn(),d),qs}function Nr(o,s,u){const l=he();return mn(l,Na(),s)&&Ar(pt(),Zt(),l,o,s,l[11],u,!0),Nr}const be=void 0;var vl=["en",[["a","p"],["AM","PM"],be],[["AM","PM"],be,be],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],be,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],be,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",be,"{1} 'at' {0}",be],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(o){const s=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let zo={};function ze(o){const s=function(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=wm(s);if(u)return u;const l=s.split("-")[0];if(u=wm(l),u)return u;if("en"===l)return vl;throw new Error(`Missing locale data for the locale "${o}".`)}function bb(o){return ze(o)[ke.PluralCase]}function wm(o){return o in zo||(zo[o]=L.ng&&L.ng.common&&L.ng.common.locales&&L.ng.common.locales[o]),zo[o]}var ke=(()=>((ke=ke||{})[ke.LocaleId=0]="LocaleId",ke[ke.DayPeriodsFormat=1]="DayPeriodsFormat",ke[ke.DayPeriodsStandalone=2]="DayPeriodsStandalone",ke[ke.DaysFormat=3]="DaysFormat",ke[ke.DaysStandalone=4]="DaysStandalone",ke[ke.MonthsFormat=5]="MonthsFormat",ke[ke.MonthsStandalone=6]="MonthsStandalone",ke[ke.Eras=7]="Eras",ke[ke.FirstDayOfWeek=8]="FirstDayOfWeek",ke[ke.WeekendRange=9]="WeekendRange",ke[ke.DateFormat=10]="DateFormat",ke[ke.TimeFormat=11]="TimeFormat",ke[ke.DateTimeFormat=12]="DateTimeFormat",ke[ke.NumberSymbols=13]="NumberSymbols",ke[ke.NumberFormats=14]="NumberFormats",ke[ke.CurrencyCode=15]="CurrencyCode",ke[ke.CurrencySymbol=16]="CurrencySymbol",ke[ke.CurrencyName=17]="CurrencyName",ke[ke.Currencies=18]="Currencies",ke[ke.Directionality=19]="Directionality",ke[ke.PluralCase=20]="PluralCase",ke[ke.ExtraData=21]="ExtraData",ke))();const _l="en-US";let $r=_l;function Ko(o){Tt(o,"Expected localeId to be defined"),"string"==typeof o&&($r=o.toLowerCase().replace(/_/g,"-"))}function ra(o,s,u,l,d){if(o=se(o),Array.isArray(o))for(let h=0;h<o.length;h++)ra(o[h],s,u,l,d);else{const h=pt(),g=he();let y=cu(o)?o:se(o.provide),_=p0(o);const w=pn(),C=1048575&w.providerIndexes,T=w.directiveStart,S=w.providerIndexes>>20;if(cu(o)||!o.multi){const R=new Dc(_,d,vu),U=Pu(y,s,d?C:C+S,T);-1===U?(Sc(it(w,g),h,y),Rm(h,o,s.length),s.push(y),w.directiveStart++,w.directiveEnd++,d&&(w.providerIndexes+=1048576),u.push(R),g.push(R)):(u[U]=R,g[U]=R)}else{const R=Pu(y,s,C+S,T),U=Pu(y,s,C,C+S),X=R>=0&&u[R],H=U>=0&&u[U];if(d&&!H||!d&&!X){Sc(it(w,g),h,y);const _e=function(o,s,u,l,d){const h=new Dc(o,u,vu);return h.multi=[],h.index=s,h.componentProviders=0,Pn(h,d,l&&!u),h}(d?KI:Zf,u.length,d,l,_);!d&&H&&(u[U].providerFactory=_e),Rm(h,o,s.length,0),s.push(y),w.directiveStart++,w.directiveEnd++,d&&(w.providerIndexes+=1048576),u.push(_e),g.push(_e)}else Rm(h,o,R>-1?R:U,Pn(u[d?U:R],_,!d&&l));!d&&l&&H&&u[U].componentProviders++}}}function Rm(o,s,u,l){const d=cu(s);if(d||function(o){return!!o.useClass}(s)){const g=(s.useClass||s).prototype.ngOnDestroy;if(g){const y=o.destroyHooks||(o.destroyHooks=[]);if(!d&&s.multi){const _=y.indexOf(u);-1===_?y.push(u,[l,g]):y[_+1].push(l,g)}else y.push(u,g)}}}function Pn(o,s,u){return u&&o.componentProviders++,o.multi.push(s)-1}function Pu(o,s,u,l){for(let d=u;d<l;d++)if(s[d]===o)return d;return-1}function Zf(o,s,u,l){return Ol(this.multi,[])}function KI(o,s,u,l){const d=this.multi;let h;if(this.providerFactory){const g=this.providerFactory.componentProviders,y=Lr(u,u[1],this.providerFactory.index,l);h=y.slice(0,g),Ol(d,h);for(let _=g;_<y.length;_++)h.push(y[_])}else h=[],Ol(d,h);return h}function Ol(o,s){for(let u=0;u<o.length;u++)s.push((0,o[u])());return s}function Om(o,s=[]){return u=>{u.providersResolver=(l,d)=>function(o,s,u){const l=pt();if(l.firstCreatePass){const d=ri(o);ra(u,l.data,l.blueprint,d,!0),ra(s,l.data,l.blueprint,d,!1)}}(l,d?d(o):o,s)}}class Fu{}const Pm="ngComponent";class jb{resolveComponentFactory(s){throw function(o){const s=Error(`No component factory found for ${P(o)}. Did you add it to @NgModule.entryComponents?`);return s[Pm]=o,s}(s)}}class jt{}function ku(...o){}function oa(o,s){return new Fn(oi(o,s))}jt.NULL=new jb;const Xf=function(){return oa(pn(),he())};let Fn=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=Xf,o})();function _n(o){return o instanceof Fn?o.nativeElement:o}class eh{}let qr=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>eT(),o})();const eT=function(){const o=he(),u=Er(pn().index,o);return function(o){return o[11]}(Ki(u)?u:o)};let It=(()=>{class o{}return o.\u0275prov=on({token:o,providedIn:"root",factory:()=>null}),o})();class $b{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Lu=new $b("12.2.1");class th{constructor(){}supports(s){return sl(s)}create(s){return new qb(s)}}const Fm=(o,s)=>s;class qb{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Fm}forEachItem(s){let u;for(u=this._itHead;null!==u;u=u._next)s(u)}forEachOperation(s){let u=this._itHead,l=this._removalsHead,d=0,h=null;for(;u||l;){const g=!l||u&&u.currentIndex<Lm(l,d,h)?u:l,y=Lm(g,d,h),_=g.currentIndex;if(g===l)d--,l=l._nextRemoved;else if(u=u._next,null==g.previousIndex)d++;else{h||(h=[]);const w=y-d,C=_-d;if(w!=C){for(let S=0;S<w;S++){const R=S<h.length?h[S]:h[S]=0,U=R+S;C<=U&&U<w&&(h[S]=R+1)}h[g.previousIndex]=C-w}}y!==_&&s(g,y,_)}}forEachPreviousItem(s){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachMovedItem(s){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}forEachIdentityChange(s){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)s(u)}diff(s){if(null==s&&(s=[]),!sl(s))throw new Error(`Error trying to diff '${P(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,h,g,u=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let y=0;y<this.length;y++)h=s[y],g=this._trackByFn(y,h),null!==u&&Object.is(u.trackById,g)?(l&&(u=this._verifyReinsertion(u,h,g,y)),Object.is(u.item,h)||this._addIdentityChange(u,h)):(u=this._mismatch(u,h,g,y),l=!0),u=u._next}else d=0,function(o,s){if(Array.isArray(o))for(let u=0;u<o.length;u++)s(o[u]);else{const u=o[Vo()]();let l;for(;!(l=u.next()).done;)s(l.value)}}(s,y=>{g=this._trackByFn(d,y),null!==u&&Object.is(u.trackById,g)?(l&&(u=this._verifyReinsertion(u,y,g,d)),Object.is(u.item,y)||this._addIdentityChange(u,y)):(u=this._mismatch(u,y,g,d),l=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,u,l,d){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._reinsertAfter(s,h,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._moveAfter(s,h,d)):s=this._addAfter(new Wb(u,l),h,d),s}_verifyReinsertion(s,u,l,d){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?s=this._reinsertAfter(h,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const u=s._next;this._addToRemovals(this._unlink(s)),s=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,u,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,h=s._nextRemoved;return null===d?this._removalsHead=h:d._nextRemoved=h,null===h?this._removalsTail=d:h._prevRemoved=d,this._insertAfter(s,u,l),this._addToMoves(s,l),s}_moveAfter(s,u,l){return this._unlink(s),this._insertAfter(s,u,l),this._addToMoves(s,l),s}_addAfter(s,u,l){return this._insertAfter(s,u,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,u,l){const d=null===u?this._itHead:u._next;return s._next=d,s._prev=u,null===d?this._itTail=s:d._prev=s,null===u?this._itHead=s:u._next=s,null===this._linkedRecords&&(this._linkedRecords=new Kb),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const u=s._prev,l=s._next;return null===u?this._itHead=l:u._next=l,null===l?this._itTail=u:l._prev=u,s}_addToMoves(s,u){return s.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Kb),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,u){return s.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Wb{constructor(s,u){this.item=s,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zb{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,u){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===u||u<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const u=s._prevDup,l=s._nextDup;return null===u?this._head=l:u._nextDup=l,null===l?this._tail=u:l._prevDup=u,null===this._head}}class Kb{constructor(){this.map=new Map}put(s){const u=s.trackById;let l=this.map.get(u);l||(l=new zb,this.map.set(u,l)),l.add(s)}get(s,u){const d=this.map.get(s);return d?d.get(s,u):null}remove(s){const u=s.trackById;return this.map.get(u).remove(s)&&this.map.delete(u),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Lm(o,s,u){const l=o.previousIndex;if(null===l)return l;let d=0;return u&&l<u.length&&(d=u[l]),l+s+d}class Vm{constructor(){}supports(s){return s instanceof Map||jg(s)}create(){return new nT}}class nT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let u;for(u=this._mapHead;null!==u;u=u._next)s(u)}forEachPreviousItem(s){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)s(u)}forEachChangedItem(s){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}diff(s){if(s){if(!(s instanceof Map||jg(s)))throw new Error(`Error trying to diff '${P(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,l),this._appendAfter=u,u=u._next;else{const h=this._getOrCreateRecordForKey(d,l);u=this._insertBeforeOrAppend(u,h)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let l=u;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,u){if(s){const l=s._prev;return u._next=s,u._prev=l,s._prev=u,l&&(l._next=u),s===this._mapHead&&(this._mapHead=u),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(s,u){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,u);const h=d._prev,g=d._next;return h&&(h._next=g),g&&(g._prev=h),d._next=null,d._prev=null,d}const l=new rT(s);return this._records.set(s,l),l.currentValue=u,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,u){Object.is(u,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=u,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,u){s instanceof Map?s.forEach(u):Object.keys(s).forEach(l=>u(s[l],l))}}class rT{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Qb(){return new Yo([new th])}let Yo=(()=>{class o{constructor(u){this.factories=u}static create(u,l){if(null!=l){const d=l.factories.slice();u=u.concat(d)}return new o(u)}static extend(u){return{provide:o,useFactory:l=>o.create(u,l||Qb()),deps:[[o,new eo,new Xi]]}}find(u){const l=this.factories.find(d=>d.supports(u));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(o){return o.name||typeof o}(u)}'`)}}return o.\u0275prov=on({token:o,providedIn:"root",factory:Qb}),o})();function Jb(){return new ln([new Vm])}let ln=(()=>{class o{constructor(u){this.factories=u}static create(u,l){if(l){const d=l.factories.slice();u=u.concat(d)}return new o(u)}static extend(u){return{provide:o,useFactory:l=>o.create(u,l||Jb()),deps:[[o,new eo,new Xi]]}}find(u){const l=this.factories.find(d=>d.supports(u));if(l)return l;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return o.\u0275prov=on({token:o,providedIn:"root",factory:Jb}),o})();function Vu(o,s,u,l,d=!1){for(;null!==u;){const h=s[u.index];if(null!==h&&l.push(Jt(h)),un(h))for(let y=10;y<h.length;y++){const _=h[y],w=_[1].firstChild;null!==w&&Vu(_[1],_,w,l)}const g=u.type;if(8&g)Vu(o,s,u.child,l);else if(32&g){const y=jp(u,s);let _;for(;_=y();)l.push(_)}else if(16&g){const y=Kd(s,u);if(Array.isArray(y))l.push(...y);else{const _=at(s[16]);Vu(_[1],_,y,l,!0)}}u=d?u.projectionNext:u.next}return l}class Uu{constructor(s,u){this._lView=s,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,u=s[1];return Vu(u,s,u.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(un(s)){const u=s[8],l=u?u.indexOf(this):-1;l>-1&&($p(s,l),_s(u,l))}this._attachedToViewContainer=!1}qp(this._lView[1],this._lView)}onDestroy(s){Q_(this._lView[1],this._lView,null,s)}markForCheck(){mg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){vg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(o,s,u){Ma(!0);try{vg(o,s,u)}finally{Ma(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,Hc(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class Pl extends Uu{constructor(s){super(s),this._view=s}detectChanges(){nr(this._view)}checkNoChanges(){!function(o){Ma(!0);try{nr(o)}finally{Ma(!1)}}(this._view)}get context(){return null}}const Xb=function(o){return function(o,s,u){if(gd(o)&&!u){const l=Er(o.index,s);return new Uu(l,l)}return 47&o.type?new Uu(s[16],s):null}(pn(),he(),16==(16&o))};let Fl=(()=>{class o{}return o.__NG_ELEMENT_ID__=Xb,o})();const nw=[new Vm],rw=new Yo([new th]),iw=new ln(nw),sw=function(){return ho(pn(),he())};let ju=(()=>{class o{}return o.__NG_ELEMENT_ID__=sw,o})();const aw=ju,oT=class extends aw{constructor(s,u,l){super(),this._declarationLView=s,this._declarationTContainer=u,this.elementRef=l}createEmbeddedView(s){const u=this._declarationTContainer.tViews,l=Fo(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(l[19]=h.createEmbeddedView(u)),Jc(u,l,s),new Uu(l)}};function ho(o,s){return 4&o.type?new oT(s,o,oa(o,s)):null}class Wr{}class uw{}const cw=function(){return po(pn(),he())};let yr=(()=>{class o{}return o.__NG_ELEMENT_ID__=cw,o})();const lw=yr,Ui=class extends lw{constructor(s,u,l){super(),this._lContainer=s,this._hostTNode=u,this._hostLView=l}get element(){return oa(this._hostTNode,this._hostLView)}get injector(){return new Ra(this._hostTNode,this._hostLView)}get parentInjector(){const s=hs(this._hostTNode,this._hostLView);if(Pv(s)){const u=Tc(s,this._hostLView),l=Ic(s);return new Ra(u[1].data[l+8],u)}return new Ra(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const u=dw(this._lContainer);return null!==u&&u[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,u,l){const d=s.createEmbeddedView(u||{});return this.insert(d,l),d}createComponent(s,u,l,d,h){const g=l||this.parentInjector;if(!h&&null==s.ngModule&&g){const _=g.get(Wr,null);_&&(h=_)}const y=s.create(g,d,void 0,h);return this.insert(y.hostView,u),y}insert(s,u){const l=s._lView,d=l[1];if(un(l[3])){const C=this.indexOf(s);if(-1!==C)this.detach(C);else{const T=l[3],S=new Ui(T,T[6],T[3]);S.detach(S.indexOf(s))}}const h=this._adjustIndex(u),g=this._lContainer;!function(o,s,u,l){const d=10+l,h=u.length;l>0&&(u[d-1][4]=s),l<h-10?(s[4]=u[d],Zn(u,10+l,s)):(u.push(s),s[4]=null),s[3]=u;const g=s[17];null!==g&&u!==g&&function(o,s){const u=o[9];s[16]!==s[3][3][16]&&(o[2]=!0),null===u?o[9]=[s]:u.push(s)}(g,s);const y=s[19];null!==y&&y.insertView(o),s[2]|=128}(d,l,g,h);const y=Ja(h,g),_=l[11],w=Wd(_,g[7]);return null!==w&&function(o,s,u,l,d,h){l[0]=d,l[6]=s,Hc(o,l,u,1,d,h)}(d,g[6],_,l,w,y),s.attachToViewContainerRef(),Zn(or(g),h,s),s}move(s,u){return this.insert(s,u)}indexOf(s){const u=dw(this._lContainer);return null!==u?u.indexOf(s):-1}remove(s){const u=this._adjustIndex(s,-1),l=$p(this._lContainer,u);l&&(_s(or(this._lContainer),u),qp(l[1],l))}detach(s){const u=this._adjustIndex(s,-1),l=$p(this._lContainer,u);return l&&null!=_s(or(this._lContainer),u)?new Uu(l):null}_adjustIndex(s,u=0){return null==s?this.length+u:s}};function dw(o){return o[8]}function or(o){return o[8]||(o[8]=[])}function po(o,s){let u;const l=s[o.index];if(un(l))u=l;else{let d;if(8&o.type)d=Jt(l);else{const h=s[11];d=h.createComment("");const g=oi(o,s);ut(h,Wd(h,g),d,function(o,s){return Yt(o)?o.nextSibling(s):s.nextSibling}(h,g),!1)}s[o.index]=u=o0(l,s,d,o),ff(s,u)}return new Ui(u,o,s)}const Yu={};class Jm extends jt{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const u=An(s);return new Pw(u,this.ngModule)}}function Rw(o){const s=[];for(let u in o)o.hasOwnProperty(u)&&s.push({propName:o[u],templateName:u});return s}const Xm=new Xt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>za});class Pw extends Fu{constructor(s,u){super(),this.componentDef=s,this.ngModule=u,this.componentType=s.type,this.selector=s.selectors.map(tg).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Rw(this.componentDef.inputs)}get outputs(){return Rw(this.componentDef.outputs)}create(s,u,l,d){const h=(d=d||this.ngModule)?function(o,s){return{get:(u,l,d)=>{const h=o.get(u,Yu,d);return h!==Yu||l===Yu?h:s.get(u,l,d)}}}(s,d.injector):s,g=h.get(eh,vv),y=h.get(It,null),_=g.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",C=l?function(o,s,u){if(Yt(o))return o.selectRootElement(s,u===Kt.ShadowDom);let l="string"==typeof s?o.querySelector(s):s;return l.textContent="",l}(_,l,this.componentDef.encapsulation):qd(g.createRenderer(null,this.componentDef),w,function(o){const s=o.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(w)),T=this.componentDef.onPush?576:528,S=function(o,s){return{components:[],scheduler:o||za,clean:XD,playerHandler:s||null,flags:0}}(),R=cf(0,null,null,1,0,null,null,null,null,null),U=Fo(null,R,S,T,null,null,g,_,y,h);let X,H;Cc(U);try{const _e=function(o,s,u,l,d,h){const g=u[1];u[20]=o;const _=Os(g,20,2,"#host",null),w=_.mergedAttrs=s.hostAttrs;null!==w&&(tl(_,w,!0),null!==o&&(xa(d,o,w),null!==_.classes&&Jp(d,o,_.classes),null!==_.styles&&x_(d,o,_.styles)));const C=l.createRenderer(o,s),T=Fo(u,W_(s),null,s.onPush?64:16,u[20],_,l,C,h||null,null);return g.firstCreatePass&&(Sc(it(_,u),g,s.type),fg(g,_),r0(_,u.length,1)),ff(u,T),u[20]=T}(C,this.componentDef,U,g,_);if(C)if(l)xa(_,C,["ng-version",Lu.full]);else{const{attrs:ce,classes:Le}=function(o){const s=[],u=[];let l=1,d=2;for(;l<o.length;){let h=o[l];if("string"==typeof h)2===d?""!==h&&s.push(h,o[++l]):8===d&&u.push(h);else{if(!Br(d))break;d=h}l++}return{attrs:s,classes:u}}(this.componentDef.selectors[0]);ce&&xa(_,C,ce),Le&&Le.length>0&&Jp(_,C,Le.join(" "))}if(H=Ta(R,20),void 0!==u){const ce=H.projection=[];for(let Le=0;Le<this.ngContentSelectors.length;Le++){const Xe=u[Le];ce.push(null!=Xe?Array.from(Xe):null)}}X=function(o,s,u,l,d){const h=u[1],g=function(o,s,u){const l=pn();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),i0(o,l,s,iu(o,s,1,null),u));const d=Lr(s,o,l.directiveStart,l);Bn(d,s);const h=oi(l,s);return h&&Bn(h,s),d}(h,u,s);if(l.components.push(g),o[8]=g,d&&d.forEach(_=>_(g,s)),s.contentQueries){const _=pn();s.contentQueries(1,g,_.directiveStart)}const y=pn();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Co(y.index),Z_(u[1],y,0,y.directiveStart,y.directiveEnd,s),WD(s,g)),g}(_e,this.componentDef,U,S,[w0]),Jc(R,U,null)}finally{fp()}return new OT(this.componentType,X,oa(H,U),U,H)}}class OT extends class{}{constructor(s,u,l,d,h){super(),this.location=l,this._rootLView=d,this._tNode=h,this.instance=u,this.hostView=this.changeDetectorRef=new Pl(d),this.componentType=s}get injector(){return new Ra(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const ha=new Map;class kT extends Wr{constructor(s,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Jm(this);const l=cr(s),d=s[Qn]||null;d&&Ko(d),this._bootstrapComponents=Mi(l.bootstrap),this._r3Injector=Dg(s,u,[{provide:Wr,useValue:this},{provide:jt,useValue:this.componentFactoryResolver}],P(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,u=At.THROW_IF_NOT_FOUND,l=Ge.Default){return s===At||s===Wr||s===Ps?this:this._r3Injector.get(s,u,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class ny extends uw{constructor(s){super(),this.moduleType=s,null!==cr(s)&&function(o){const s=new Set;!function u(l){const d=cr(l,!0),h=d.id;null!==h&&(function(o,s,u){if(s&&s!==u)throw new Error(`Duplicate module registered for ${o} - ${P(s)} vs ${P(s.name)}`)}(h,ha.get(h),l),ha.set(h,l));const g=Mi(d.imports);for(const y of g)s.has(y)||(s.add(y),u(y))}(o)}(s)}create(s){return new kT(this.moduleType,s)}}function Bi(o){return s=>{setTimeout(o,void 0,s)}}const Gi=class extends v.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,u,l){var d,h,g;let y=s,_=u||(()=>null),w=l;if(s&&"object"==typeof s){const T=s;y=null===(d=T.next)||void 0===d?void 0:d.bind(T),_=null===(h=T.error)||void 0===h?void 0:h.bind(T),w=null===(g=T.complete)||void 0===g?void 0:g.bind(T)}this.__isAsync&&(_=Bi(_),y&&(y=Bi(y)),w&&(w=Bi(w)));const C=super.subscribe({next:y,error:_,complete:w});return s instanceof te.w&&s.add(C),C}};function tc(){return this._results[Vo()]()}class Wl{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Vo(),l=Wl.prototype;l[u]||(l[u]=tc)}get changes(){return this._changes||(this._changes=new Gi)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,u){return this._results.reduce(s,u)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,u){const l=this;l.dirty=!1;const d=dr(s);(this._changesDetected=!function(o,s,u){if(o.length!==s.length)return!1;for(let l=0;l<o.length;l++){let d=o[l],h=s[l];if(u&&(d=u(d),h=u(h)),h!==d)return!1}return!0}(l._results,d,u))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class ay{constructor(s){this.queryList=s,this.matches=null}clone(){return new ay(this.queryList)}setDirty(){this.queryList.setDirty()}}class zl{constructor(s=[]){this.queries=s}createEmbeddedView(s){const u=s.queries;if(null!==u){const l=null!==s.contentQueries?s.contentQueries[0]:u.length,d=[];for(let h=0;h<l;h++){const g=u.getByIndex(h);d.push(this.queries[g.indexInDeclarationView].clone())}return new zl(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let u=0;u<this.queries.length;u++)null!==Jw(s,u).matches&&this.queries[u].setDirty()}}class hh{constructor(s,u,l=null){this.predicate=s,this.flags=u,this.read=l}}class uy{constructor(s=[]){this.queries=s}elementStart(s,u){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,u)}elementEnd(s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(s)}embeddedTView(s){let u=null;for(let l=0;l<this.length;l++){const d=null!==u?u.length:0,h=this.getByIndex(l).embeddedTView(s,d);h&&(h.indexInDeclarationView=l,null!==u?u.push(h):u=[h])}return null!==u?new uy(u):null}template(s,u){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,u)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class cy{constructor(s,u=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(s,u){this.isApplyingToNode(u)&&this.matchTNode(s,u)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,u){this.elementStart(s,u)}embeddedTView(s,u){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,u),new cy(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==u;)l=l.parent;return u===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,u){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const h=l[d];this.matchTNodeWithReadOption(s,u,ly(u,h)),this.matchTNodeWithReadOption(s,u,To(u,s,h,!1,!1))}else l===ju?4&u.type&&this.matchTNodeWithReadOption(s,u,-1):this.matchTNodeWithReadOption(s,u,To(u,s,l,!1,!1))}matchTNodeWithReadOption(s,u,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Fn||d===yr||d===ju&&4&u.type)this.addMatch(u.index,-2);else{const h=To(u,s,d,!1,!1);null!==h&&this.addMatch(u.index,h)}else this.addMatch(u.index,l)}}addMatch(s,u){null===this.matches?this.matches=[s,u]:this.matches.push(s,u)}}function ly(o,s){const u=o.localNames;if(null!==u)for(let l=0;l<u.length;l+=2)if(u[l]===s)return u[l+1];return null}function GT(o,s,u,l){return-1===u?function(o,s){return 11&o.type?oa(o,s):4&o.type?ho(o,s):null}(s,o):-2===u?function(o,s,u){return u===Fn?oa(s,o):u===ju?ho(s,o):u===yr?po(s,o):void 0}(o,s,l):Lr(o,o[1],u,s)}function Ww(o,s,u,l){const d=s[19].queries[l];if(null===d.matches){const h=o.data,g=u.matches,y=[];for(let _=0;_<g.length;_+=2){const w=g[_];y.push(w<0?null:GT(s,h[w],g[_+1],u.metadata.read))}d.matches=y}return d.matches}function ph(o,s,u,l){const d=o.queries.getByIndex(u),h=d.matches;if(null!==h){const g=Ww(o,s,d,u);for(let y=0;y<h.length;y+=2){const _=h[y];if(_>0)l.push(g[y/2]);else{const w=h[y+1],C=s[-_];for(let T=10;T<C.length;T++){const S=C[T];S[17]===S[3]&&ph(S[1],S,w,l)}if(null!==C[9]){const T=C[9];for(let S=0;S<T.length;S++){const R=T[S];ph(R[1],R,w,l)}}}}}return l}function fy(o){const s=he(),u=pt(),l=Tv();Sv(l+1);const d=Jw(u,l);if(o.dirty&&_v(s)===(2==(2&d.metadata.flags))){if(null===d.matches)o.reset([]);else{const h=d.crossesNgTemplate?ph(u,s,l,[]):Ww(u,s,d,l);o.reset(h,_n),o.notifyOnChanges()}return!0}return!1}function hy(o,s,u,l){const d=pt();if(d.firstCreatePass){const h=pn();(function(o,s,u){null===o.queries&&(o.queries=new uy),o.queries.track(new cy(s,u))})(d,new hh(s,u,l),h.index),function(o,s){const u=o.contentQueries||(o.contentQueries=[]);s!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,s)}(d,o),2==(2&u)&&(d.staticContentQueries=!0)}!function(o,s,u){const l=new Wl(4==(4&u));Q_(o,s,l,l.destroy),null===s[19]&&(s[19]=new zl),s[19].queries.push(new ay(l))}(d,he(),u)}function Kw(){return o=he(),s=Tv(),o[19].queries[s].queryList;var o,s}function Jw(o,s){return o.queries.getByIndex(s)}function Zw(o,s){return ho(o,s)}const wn=new Xt("Application Initializer");let ya=(()=>{class o{constructor(u){this.appInits=u,this.resolve=ku,this.reject=ku,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const u=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const h=this.appInits[d]();if(Rf(h))u.push(h);else if(ao(h)){const g=new Promise((y,_)=>{h.subscribe({complete:y,error:_})});u.push(g)}}Promise.all(u).then(()=>{l()}).catch(d=>{this.reject(d)}),0===u.length&&l(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(en(wn,8))},o.\u0275prov=on({token:o,factory:o.\u0275fac}),o})();const Ty=new Xt("AppId"),Hi={provide:Ty,useFactory:function(){return`${yo()}${yo()}${yo()}`},deps:[]};function yo(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ns=new Xt("Platform Initializer"),Xl=new Xt("Platform ID"),vE=new Xt("appBootstrapListener");let Sy=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=on({token:o,factory:o.\u0275fac}),o})();const ed=new Xt("LocaleId"),Ay=new Xt("DefaultCurrencyCode");class lS{constructor(s,u){this.ngModuleFactory=s,this.componentFactories=u}}const td=function(o){return new ny(o)},xy=td,_E=function(o){return Promise.resolve(td(o))},Ch=function(o){const s=td(o),l=Mi(cr(o).declarations).reduce((d,h)=>{const g=An(h);return g&&d.push(new Pw(g)),d},[]);return new lS(s,l)},Ry=Ch,Dh=function(o){return Promise.resolve(Ch(o))};let oc=(()=>{class o{constructor(){this.compileModuleSync=xy,this.compileModuleAsync=_E,this.compileModuleAndAllComponentsSync=Ry,this.compileModuleAndAllComponentsAsync=Dh}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=on({token:o,factory:o.\u0275fac}),o})();const Ih=(()=>Promise.resolve(0))();function vo(o){"undefined"==typeof Zone?Ih.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Ln{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gi(!1),this.onMicrotaskEmpty=new Gi(!1),this.onStable=new Gi(!1),this.onError=new Gi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&u,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let o=L.requestAnimationFrame,s=L.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&s){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(o){const s=()=>{!function(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(L,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,va(o),o.isCheckStableRunning=!0,Oy(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),va(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,l,d,h,g,y)=>{try{return bo(o),u.invokeTask(d,h,g,y)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||o.shouldCoalesceRunChangeDetection)&&s(),CE(o)}},onInvoke:(u,l,d,h,g,y,_)=>{try{return bo(o),u.invoke(d,h,g,y,_)}finally{o.shouldCoalesceRunChangeDetection&&s(),CE(o)}},onHasTask:(u,l,d,h)=>{u.hasTask(d,h),l===d&&("microTask"==h.change?(o._hasPendingMicrotasks=h.microTask,va(o),Oy(o)):"macroTask"==h.change&&(o.hasPendingMacrotasks=h.macroTask))},onHandleError:(u,l,d,h)=>(u.handleError(d,h),o.runOutsideAngular(()=>o.onError.emit(h)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ln.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ln.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,u,l){return this._inner.run(s,u,l)}runTask(s,u,l,d){const h=this._inner,g=h.scheduleEventTask("NgZoneEvent: "+d,s,rs,ku,ku);try{return h.runTask(g,u,l)}finally{h.cancelTask(g)}}runGuarded(s,u,l){return this._inner.runGuarded(s,u,l)}runOutsideAngular(s){return this._outer.run(s)}}const rs={};function Oy(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function va(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function bo(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function CE(o){o._nesting--,Oy(o)}class pS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gi,this.onMicrotaskEmpty=new Gi,this.onStable=new Gi,this.onError=new Gi}run(s,u,l){return s.apply(u,l)}runGuarded(s,u,l){return s.apply(u,l)}runOutsideAngular(s){return s()}runTask(s,u,l,d){return s.apply(u,l)}}let Py=(()=>{class o{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ln.assertNotInAngularZone(),vo(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())vo(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(u)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,l,d){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==h),u(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:u,timeoutId:h,updateCb:d})}whenStable(u,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,l,d){return[]}}return o.\u0275fac=function(u){return new(u||o)(en(Ln))},o.\u0275prov=on({token:o,factory:o.\u0275fac}),o})(),Fy=(()=>{class o{constructor(){this._applications=new Map,Th.addToWindow(this)}registerApplication(u,l){this._applications.set(u,l)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,l=!0){return Th.findTestabilityInTree(this,u,l)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=on({token:o,factory:o.\u0275fac}),o})();class DE{addToWindow(s){}findTestabilityInTree(s,u,l){return null}}function IE(o){Th=o}let Th=new DE,ky=!0,Ly=!1;function rd(){return Ly=!0,ky}function Sh(){if(Ly)throw new Error("Cannot enable prod mode after platform setup.");ky=!1}let Ei;const Uy=new Xt("AllowMultipleToken");class AE{constructor(s,u){this.name=s,this.token=u}}function jy(o,s,u=[]){const l=`Platform: ${s}`,d=new Xt(l);return(h=[])=>{let g=By();if(!g||g.injector.get(Uy,!1))if(o)o(u.concat(h).concat({provide:d,useValue:!0}));else{const y=u.concat(h).concat({provide:d,useValue:!0},{provide:nl,useValue:"platform"});!function(o){if(Ei&&!Ei.destroyed&&!Ei.injector.get(Uy,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ei=o.get(Gy);const s=o.get(ns,null);s&&s.forEach(u=>u())}(At.create({providers:y,name:l}))}return function(o){const s=By();if(!s)throw new Error("No platform exists!");if(!s.injector.get(o,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function By(){return Ei&&!Ei.destroyed?Ei:null}let Gy=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,l){const y=function(o,s){let u;return u="noop"===o?new pS:("zone.js"===o?void 0:o)||new Ln({enableLongStackTrace:rd(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),u}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),_=[{provide:Ln,useValue:y}];return y.run(()=>{const w=At.create({providers:_,parent:this.injector,name:u.moduleType.name}),C=u.create(w),T=C.injector.get(Wa,null);if(!T)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const S=y.onError.subscribe({next:R=>{T.handleError(R)}});C.onDestroy(()=>{Nh(this._modules,C),S.unsubscribe()})}),function(o,s,u){try{const l=u();return Rf(l)?l.catch(d=>{throw s.runOutsideAngular(()=>o.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>o.handleError(l)),l}}(T,y,()=>{const S=C.injector.get(ya);return S.runInitializers(),S.donePromise.then(()=>(Ko(C.injector.get(ed,_l)||_l),this._moduleDoBootstrap(C),C))})})}bootstrapModule(u,l=[]){const d=zn({},l);return function(o,s,u){const l=new ny(u);return Promise.resolve(l)}(0,0,u).then(h=>this.bootstrapModuleFactory(h,d))}_moduleDoBootstrap(u){const l=u.injector.get(sc);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${P(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(l)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(en(At))},o.\u0275prov=on({token:o,factory:o.\u0275fac}),o})();function zn(o,s){return Array.isArray(s)?s.reduce(zn,o):Object.assign(Object.assign({},o),s)}let sc=(()=>{class o{constructor(u,l,d,h,g){this._zone=u,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=h,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new fe.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),_=new fe.y(w=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{Ln.assertNotInAngularZone(),vo(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Ln.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{C.unsubscribe(),T.unsubscribe()}});this.isStable=(0,re.T)(y,_.pipe(o=>(0,ue.x)()(function(o,s){return function(l){let d;d="function"==typeof o?o:function(){return o};const h=Object.create(l,ae.N);return h.source=l,h.subjectFactory=d,h}}($)(o))))}bootstrap(u,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=u instanceof Fu?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(d.componentType);const h=function(o){return o.isBoundToModule}(d)?void 0:this._injector.get(Wr),y=d.create(At.NULL,[],l||d.selector,h),_=y.location.nativeElement,w=y.injector.get(Py,null),C=w&&y.injector.get(Fy);return w&&C&&C.registerApplication(_,w),y.onDestroy(()=>{this.detachView(y.hostView),Nh(this.components,y),C&&C.unregisterApplication(_)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const l=u;this._views.push(l),l.attachToAppRef(this)}detachView(u){const l=u;Nh(this._views,l),l.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(vE,[]).concat(this._bootstrapListeners).forEach(d=>d(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(u){return new(u||o)(en(Ln),en(At),en(Wa),en(jt),en(ya))},o.\u0275prov=on({token:o,factory:o.\u0275fac}),o})();function Nh(o,s){const u=o.indexOf(s);u>-1&&o.splice(u,1)}class sd{}class A1{}const M1={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let _S=(()=>{class o{constructor(u,l){this._compiler=u,this._config=l||M1}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[l,d]=u.split("#");return void 0===d&&(d="default"),x(8255)(l).then(h=>h[d]).then(h=>xE(h,l,d)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(u){let[l,d]=u.split("#"),h="NgFactory";return void 0===d&&(d="default",h=""),x(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(g=>g[d+h]).then(g=>xE(g,l,d))}}return o.\u0275fac=function(u){return new(u||o)(en(oc),en(A1,8))},o.\u0275prov=on({token:o,factory:o.\u0275fac}),o})();function xE(o,s,u){if(!o)throw new Error(`Cannot find '${u}' in '${s}'`);return o}const DS=function(o){return null},Yy=jy(null,"core",[{provide:Xl,useValue:"unknown"},{provide:Gy,deps:[At]},{provide:Fy,deps:[]},{provide:Sy,deps:[]}]),AS=[{provide:sc,useClass:sc,deps:[Ln,At,Wa,jt,ya]},{provide:Xm,deps:[Ln],useFactory:function(o){let s=[];return o.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(u){s.push(u)}}},{provide:ya,useClass:ya,deps:[[new Xi,wn]]},{provide:oc,useClass:oc,deps:[]},Hi,{provide:Yo,useFactory:function(){return rw},deps:[]},{provide:ln,useFactory:function(){return iw},deps:[]},{provide:ed,useFactory:function(o){return Ko(o=o||"undefined"!=typeof $localize&&$localize.locale||_l),o},deps:[[new Cs(ed),new Xi,new eo]]},{provide:Ay,useValue:"USD"}];let MS=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(en(sc))},o.\u0275mod=dd({type:o}),o.\u0275inj=wo({providers:AS}),o})()},57:(Ue,pe,x)=>{"use strict";x.d(pe,{hO:()=>ei,xv:()=>se,Dh:()=>oe,HU:()=>k,GT:()=>ie,sI:()=>Pt,on:()=>we,ss:()=>B,pX:()=>G,yq:()=>Qe});var v=x(7771),te=x(3637),fe=x(3342),re=x(3101),ae=x(309),J=x(3018),de=x(2329);function ue(){}Ue=x.hmd(Ue);class ${constructor(Z,W=v.N){this.zone=Z,this.delegate=W}now(){return this.delegate.now()}schedule(Z,W,Q){const ye=this.zone;return this.delegate.schedule(function(Pe){ye.runGuarded(()=>{Z.apply(this,[Pe])})},W,Q)}}class N{constructor(Z){this.zone=Z,this.task=null}call(Z,W){const Q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ue,{},ue,ue)),W.pipe((0,fe.b)({next:Q,complete:Q,error:Q})).subscribe(Z).add(Q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class k{constructor(Z){this.ngZone=Z,this.outsideAngular=Z.runOutsideAngular(()=>new $(Zone.current)),this.insideAngular=Z.run(()=>new $(Zone.current,te.z))}}function B(K){return function(W){return(W=W.lift(new N(K.ngZone))).pipe((0,re.R)(K.outsideAngular),(0,ae.QV)(K.insideAngular))}}const P=["ngOnDestroy"],G=(K,Z,W,Q={})=>new Proxy(K,{get:(ye,Y)=>W.runOutsideAngular(()=>{var Pe;if(K[Y])return(null===(Pe=null==Q?void 0:Q.spy)||void 0===Pe?void 0:Pe.get)&&Q.spy.get(Y,K[Y]),K[Y];if(P.indexOf(Y)>-1)return()=>{};const Je=Z.toPromise().then(qt=>{const je=qt&&qt[Y];return"function"==typeof je?je.bind(qt):je&&je.then?je.then(kt=>W.run(()=>kt)):W.run(()=>je)});return new Proxy(()=>{},{get:(qt,je)=>Je[je],apply:(qt,je,kt)=>Je.then(nt=>{var Ne;const st=nt&&nt(...kt);return(null===(Ne=null==Q?void 0:Q.spy)||void 0===Ne?void 0:Ne.apply)&&Q.spy.apply(Y,kt,st),st})})})}),ie=(K,Z)=>{Z.forEach(W=>{Object.getOwnPropertyNames(W.prototype||W).forEach(Q=>{Object.defineProperty(K.prototype,Q,Object.getOwnPropertyDescriptor(W.prototype||W,Q))})})},oe=new J.OlP("angularfire2.app.options"),se=new J.OlP("angularfire2.app.nameOrConfig"),Se=new J.GfV("6.1.5");function we(K,Z,W){const ye="object"==typeof W&&W||{};ye.name=ye.name||"string"==typeof W&&W||"[DEFAULT]";const Pe=de.Z.apps.filter(Je=>Je&&Je.name===ye.name)[0]||Z.runOutsideAngular(()=>de.Z.initializeApp(K,ye));try{JSON.stringify(K)!==JSON.stringify(Pe.options)&&Re("error",`${Pe.name} Firebase App already initialized with different options${Ue.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Je){}return Pe}const Qe=()=>{Re("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},Re=(K,...Z)=>{(0,J.X6Q)()&&"undefined"!=typeof console&&console[K](...Z)};function Pt(K,Z,W,Q,ye){const[Y,...Pe]=globalThis.\u0275AngularfireInstanceCache.get(K)||[];if(Y){try{ye.some((Je,qt)=>{const je=Pe[qt];return Je&&"object"==typeof Je?JSON.stringify(Je)!==JSON.stringify(je):Je!==je})&&Re("error",`${Z} was already initialized on the ${W.name} Firebase App instance with different settings.${Ue.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(Je){}return Y}{const Je=Q();return globalThis.\u0275AngularfireInstanceCache.set(K,[Je,...ye]),Je}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const Ft={provide:class{},useFactory:we,deps:[oe,J.R0b,[new J.FiY,se]]};let ei=(()=>{class K{constructor(W){de.Z.registerVersion("angularfire",Se.full,W.toString()),de.Z.registerVersion("angular",J.q4F.full)}static initializeApp(W,Q){return{ngModule:K,providers:[{provide:oe,useValue:W},{provide:se,useValue:Q}]}}}return K.\u0275fac=function(W){return new(W||K)(J.LFG(J.Lbi))},K.\u0275mod=J.oAB({type:K}),K.\u0275inj=J.cJS({providers:[Ft]}),K})()},9759:(Ue,pe,x)=>{"use strict";x.d(pe,{Z:()=>kt});var ae,Re,v=x(4762),te=x(4685),fe=x(6034),re=x(300),J=((ae={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ae["bad-app-name"]="Illegal App name: '{$appName}",ae["duplicate-app"]="Firebase App named '{$appName}' already exists",ae["app-deleted"]="Firebase App named '{$appName}' already deleted",ae["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ae["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ae),de=new te.LL("app","Firebase",J),ue="@firebase/app",Me="[DEFAULT]",Pt=((Re={})[ue]="fire-core",Re["@firebase/analytics"]="fire-analytics",Re["@firebase/app-check"]="fire-app-check",Re["@firebase/auth"]="fire-auth",Re["@firebase/database"]="fire-rtdb",Re["@firebase/functions"]="fire-fn",Re["@firebase/installations"]="fire-iid",Re["@firebase/messaging"]="fire-fcm",Re["@firebase/performance"]="fire-perf",Re["@firebase/remote-config"]="fire-rc",Re["@firebase/storage"]="fire-gcs",Re["@firebase/firestore"]="fire-fst",Re["fire-js"]="fire-js",Re["firebase-wrapper"]="fire-js-all",Re),Ft=new re.Yd("@firebase/app"),ei=function(){function nt(Ne,st,Lt){var Tt=this;this.firebase_=Lt,this.isDeleted_=!1,this.name_=st.name,this.automaticDataCollectionEnabled_=st.automaticDataCollectionEnabled||!1,this.options_=(0,te.p$)(Ne),this.container=new fe.H0(st.name),this._addComponent(new fe.wA("app",function(){return Tt},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(gt){return Tt._addComponent(gt)})}return Object.defineProperty(nt.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Ne){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Ne},enumerable:!1,configurable:!0}),Object.defineProperty(nt.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(nt.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),nt.prototype.delete=function(){var Ne=this;return new Promise(function(st){Ne.checkDestroyed_(),st()}).then(function(){return Ne.firebase_.INTERNAL.removeApp(Ne.name_),Promise.all(Ne.container.getProviders().map(function(st){return st.delete()}))}).then(function(){Ne.isDeleted_=!0})},nt.prototype._getService=function(Ne,st){var Lt;void 0===st&&(st=Me),this.checkDestroyed_();var Tt=this.container.getProvider(Ne);return!Tt.isInitialized()&&"EXPLICIT"===(null===(Lt=Tt.getComponent())||void 0===Lt?void 0:Lt.instantiationMode)&&Tt.initialize(),Tt.getImmediate({identifier:st})},nt.prototype._removeServiceInstance=function(Ne,st){void 0===st&&(st=Me),this.container.getProvider(Ne).clearInstance(st)},nt.prototype._addComponent=function(Ne){try{this.container.addComponent(Ne)}catch(st){Ft.debug("Component "+Ne.name+" failed to register with FirebaseApp "+this.name,st)}},nt.prototype._addOrOverwriteComponent=function(Ne){this.container.addOrOverwriteComponent(Ne)},nt.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},nt.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw de.create("app-deleted",{appName:this.name_})},nt}();ei.prototype.name&&ei.prototype.options||ei.prototype.delete||console.log("dc");var Q=function W(){var nt=function(nt){var Ne={},st=new Map,Lt={__esModule:!0,initializeApp:function(lt,vt){void 0===vt&&(vt={}),("object"!=typeof vt||null===vt)&&(vt={name:vt});var Un=vt;void 0===Un.name&&(Un.name=Me);var Cn=Un.name;if("string"!=typeof Cn||!Cn)throw de.create("bad-app-name",{appName:String(Cn)});if((0,te.r3)(Ne,Cn))throw de.create("duplicate-app",{appName:Cn});var Vt=new nt(lt,Un,Lt);return Ne[Cn]=Vt,Vt},app:gt,registerVersion:function(lt,vt,vr){var Un,Cn=null!==(Un=Pt[lt])&&void 0!==Un?Un:lt;vr&&(Cn+="-"+vr);var Vt=Cn.match(/\s|\//),sn=vt.match(/\s|\//);if(Vt||sn){var _r=['Unable to register library "'+Cn+'" with version "'+vt+'":'];return Vt&&_r.push('library name "'+Cn+'" contains illegal characters (whitespace or "/")'),Vt&&sn&&_r.push("and"),sn&&_r.push('version name "'+vt+'" contains illegal characters (whitespace or "/")'),void Ft.warn(_r.join(" "))}cd(new fe.wA(Cn+"-version",function(){return{library:Cn,version:vt}},"VERSION"))},setLogLevel:re.Ub,onLog:function(lt,vt){if(null!==lt&&"function"!=typeof lt)throw de.create("invalid-log-argument");(0,re.Am)(lt,vt)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:cd,removeApp:function(lt){delete Ne[lt]},components:st,useAsService:function(lt,vt){return"serverAuth"===vt?null:vt}}};function gt(lt){if(!(0,te.r3)(Ne,lt=lt||Me))throw de.create("no-app",{appName:lt});return Ne[lt]}function cd(lt){var vt=lt.name;if(st.has(vt))return Ft.debug("There were multiple attempts to register component "+vt+"."),"PUBLIC"===lt.type?Lt[vt]:null;if(st.set(vt,lt),"PUBLIC"===lt.type){var vr=function(sn){if(void 0===sn&&(sn=gt()),"function"!=typeof sn[vt])throw de.create("invalid-app-argument",{appName:vt});return sn[vt]()};void 0!==lt.serviceProps&&(0,te.ZB)(vr,lt.serviceProps),Lt[vt]=vr,nt.prototype[vt]=function(){for(var sn=[],_r=0;_r<arguments.length;_r++)sn[_r]=arguments[_r];return this._getService.bind(this,vt).apply(this,lt.multipleInstances?sn:[])}}for(var Un=0,Cn=Object.keys(Ne);Un<Cn.length;Un++)Ne[Cn[Un]]._addComponent(lt);return"PUBLIC"===lt.type?Lt[vt]:null}return Lt.default=Lt,Object.defineProperty(Lt,"apps",{get:function(){return Object.keys(Ne).map(function(lt){return Ne[lt]})}}),gt.App=nt,Lt}(ei);return nt.INTERNAL=(0,v.pi)((0,v.pi)({},nt.INTERNAL),{createFirebaseNamespace:W,extendNamespace:function(st){(0,te.ZB)(nt,st)},createSubscribe:te.ne,ErrorFactory:te.LL,deepExtend:te.ZB}),nt}(),ye=function(){function nt(Ne){this.container=Ne}return nt.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(st){if(function(nt){var Ne=nt.getComponent();return"VERSION"===(null==Ne?void 0:Ne.type)}(st)){var Lt=st.getImmediate();return Lt.library+"/"+Lt.version}return null}).filter(function(st){return st}).join(" ")},nt}();if((0,te.jU)()&&void 0!==self.firebase){Ft.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Je=self.firebase.SDK_VERSION;Je&&Je.indexOf("LITE")>=0&&Ft.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var qt=Q.initializeApp;Q.initializeApp=function(){for(var nt=[],Ne=0;Ne<arguments.length;Ne++)nt[Ne]=arguments[Ne];return(0,te.UG)()&&Ft.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),qt.apply(void 0,nt)};var nt,je=Q;(nt=je).INTERNAL.registerComponent(new fe.wA("platform-logger",function(st){return new ye(st)},"PRIVATE")),nt.registerVersion(ue,"0.6.29",undefined),nt.registerVersion("fire-js","");const kt=je},6034:(Ue,pe,x)=>{"use strict";x.d(pe,{wA:()=>fe,H0:()=>ue});var v=x(4762),te=x(4685),fe=function(){function $(N,k,B){this.name=N,this.instanceFactory=k,this.type=B,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return $.prototype.setInstantiationMode=function(N){return this.instantiationMode=N,this},$.prototype.setMultipleInstances=function(N){return this.multipleInstances=N,this},$.prototype.setServiceProps=function(N){return this.serviceProps=N,this},$.prototype.setInstanceCreatedCallback=function(N){return this.onInstanceCreated=N,this},$}(),re="[DEFAULT]",ae=function(){function $(N,k){this.name=N,this.container=k,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return $.prototype.get=function(N){var k=this.normalizeInstanceIdentifier(N);if(!this.instancesDeferred.has(k)){var B=new te.BH;if(this.instancesDeferred.set(k,B),this.isInitialized(k)||this.shouldAutoInitialize())try{var P=this.getOrInitializeService({instanceIdentifier:k});P&&B.resolve(P)}catch(G){}}return this.instancesDeferred.get(k).promise},$.prototype.getImmediate=function(N){var k,B=this.normalizeInstanceIdentifier(null==N?void 0:N.identifier),P=null!==(k=null==N?void 0:N.optional)&&void 0!==k&&k;if(!this.isInitialized(B)&&!this.shouldAutoInitialize()){if(P)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:B})}catch(G){if(P)return null;throw G}},$.prototype.getComponent=function(){return this.component},$.prototype.setComponent=function(N){var k,B;if(N.name!==this.name)throw Error("Mismatching Component "+N.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=N,this.shouldAutoInitialize()){if(function($){return"EAGER"===$.instantiationMode}(N))try{this.getOrInitializeService({instanceIdentifier:re})}catch(we){}try{for(var P=(0,v.XA)(this.instancesDeferred.entries()),G=P.next();!G.done;G=P.next()){var ie=(0,v.CR)(G.value,2),se=ie[1],He=this.normalizeInstanceIdentifier(ie[0]);try{var Se=this.getOrInitializeService({instanceIdentifier:He});se.resolve(Se)}catch(we){}}}catch(we){k={error:we}}finally{try{G&&!G.done&&(B=P.return)&&B.call(P)}finally{if(k)throw k.error}}}},$.prototype.clearInstance=function(N){void 0===N&&(N=re),this.instancesDeferred.delete(N),this.instances.delete(N)},$.prototype.delete=function(){return(0,v.mG)(this,void 0,void 0,function(){var N;return(0,v.Jh)(this,function(k){switch(k.label){case 0:return N=Array.from(this.instances.values()),[4,Promise.all((0,v.ev)((0,v.ev)([],(0,v.CR)(N.filter(function(B){return"INTERNAL"in B}).map(function(B){return B.INTERNAL.delete()}))),(0,v.CR)(N.filter(function(B){return"_delete"in B}).map(function(B){return B._delete()}))))];case 1:return k.sent(),[2]}})})},$.prototype.isComponentSet=function(){return null!=this.component},$.prototype.isInitialized=function(N){return void 0===N&&(N=re),this.instances.has(N)},$.prototype.initialize=function(N){var k,B;void 0===N&&(N={});var P=N.options,G=void 0===P?{}:P,ie=this.normalizeInstanceIdentifier(N.instanceIdentifier);if(this.isInitialized(ie))throw Error(this.name+"("+ie+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var oe=this.getOrInitializeService({instanceIdentifier:ie,options:G});try{for(var se=(0,v.XA)(this.instancesDeferred.entries()),He=se.next();!He.done;He=se.next()){var Se=(0,v.CR)(He.value,2),Qe=Se[1];ie===this.normalizeInstanceIdentifier(Se[0])&&Qe.resolve(oe)}}catch(Me){k={error:Me}}finally{try{He&&!He.done&&(B=se.return)&&B.call(se)}finally{if(k)throw k.error}}return oe},$.prototype.onInit=function(N,k){var B,P=this.normalizeInstanceIdentifier(k),G=null!==(B=this.onInitCallbacks.get(P))&&void 0!==B?B:new Set;G.add(N),this.onInitCallbacks.set(P,G);var ie=this.instances.get(P);return ie&&N(ie,P),function(){G.delete(N)}},$.prototype.invokeOnInitCallbacks=function(N,k){var B,P,G=this.onInitCallbacks.get(k);if(G)try{for(var ie=(0,v.XA)(G),oe=ie.next();!oe.done;oe=ie.next()){var se=oe.value;try{se(N,k)}catch(He){}}}catch(He){B={error:He}}finally{try{oe&&!oe.done&&(P=ie.return)&&P.call(ie)}finally{if(B)throw B.error}}},$.prototype.getOrInitializeService=function(N){var k=N.instanceIdentifier,B=N.options,P=void 0===B?{}:B,G=this.instances.get(k);if(!G&&this.component&&(G=this.component.instanceFactory(this.container,{instanceIdentifier:J(k),options:P}),this.instances.set(k,G),this.invokeOnInitCallbacks(G,k),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,k,G)}catch(ie){}return G||null},$.prototype.normalizeInstanceIdentifier=function(N){return void 0===N&&(N=re),this.component?this.component.multipleInstances?N:re:N},$.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},$}();function J($){return $===re?void 0:$}var ue=function(){function $(N){this.name=N,this.providers=new Map}return $.prototype.addComponent=function(N){var k=this.getProvider(N.name);if(k.isComponentSet())throw new Error("Component "+N.name+" has already been registered with "+this.name);k.setComponent(N)},$.prototype.addOrOverwriteComponent=function(N){this.getProvider(N.name).isComponentSet()&&this.providers.delete(N.name),this.addComponent(N)},$.prototype.getProvider=function(N){if(this.providers.has(N))return this.providers.get(N);var k=new ae(N,this);return this.providers.set(N,k),k},$.prototype.getProviders=function(){return Array.from(this.providers.values())},$}()},300:(Ue,pe,x)=>{"use strict";function v(){for(var B=0,P=0,G=arguments.length;P<G;P++)B+=arguments[P].length;var ie=Array(B),oe=0;for(P=0;P<G;P++)for(var se=arguments[P],He=0,Se=se.length;He<Se;He++,oe++)ie[oe]=se[He];return ie}x.d(pe,{in:()=>re,Yd:()=>$,Ub:()=>N,Am:()=>k});var te,fe=[],re=(()=>{return(B=re||(re={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",re;var B})(),ae={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},J=re.INFO,de=((te={})[re.DEBUG]="log",te[re.VERBOSE]="log",te[re.INFO]="info",te[re.WARN]="warn",te[re.ERROR]="error",te),ue=function(B,P){for(var G=[],ie=2;ie<arguments.length;ie++)G[ie-2]=arguments[ie];if(!(P<B.logLevel)){var oe=(new Date).toISOString(),se=de[P];if(!se)throw new Error("Attempted to log a message with an invalid logType (value: "+P+")");console[se].apply(console,v(["["+oe+"]  "+B.name+":"],G))}},$=function(){function B(P){this.name=P,this._logLevel=J,this._logHandler=ue,this._userLogHandler=null,fe.push(this)}return Object.defineProperty(B.prototype,"logLevel",{get:function(){return this._logLevel},set:function(P){if(!(P in re))throw new TypeError('Invalid value "'+P+'" assigned to `logLevel`');this._logLevel=P},enumerable:!1,configurable:!0}),B.prototype.setLogLevel=function(P){this._logLevel="string"==typeof P?ae[P]:P},Object.defineProperty(B.prototype,"logHandler",{get:function(){return this._logHandler},set:function(P){if("function"!=typeof P)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=P},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(P){this._userLogHandler=P},enumerable:!1,configurable:!0}),B.prototype.debug=function(){for(var P=[],G=0;G<arguments.length;G++)P[G]=arguments[G];this._userLogHandler&&this._userLogHandler.apply(this,v([this,re.DEBUG],P)),this._logHandler.apply(this,v([this,re.DEBUG],P))},B.prototype.log=function(){for(var P=[],G=0;G<arguments.length;G++)P[G]=arguments[G];this._userLogHandler&&this._userLogHandler.apply(this,v([this,re.VERBOSE],P)),this._logHandler.apply(this,v([this,re.VERBOSE],P))},B.prototype.info=function(){for(var P=[],G=0;G<arguments.length;G++)P[G]=arguments[G];this._userLogHandler&&this._userLogHandler.apply(this,v([this,re.INFO],P)),this._logHandler.apply(this,v([this,re.INFO],P))},B.prototype.warn=function(){for(var P=[],G=0;G<arguments.length;G++)P[G]=arguments[G];this._userLogHandler&&this._userLogHandler.apply(this,v([this,re.WARN],P)),this._logHandler.apply(this,v([this,re.WARN],P))},B.prototype.error=function(){for(var P=[],G=0;G<arguments.length;G++)P[G]=arguments[G];this._userLogHandler&&this._userLogHandler.apply(this,v([this,re.ERROR],P)),this._logHandler.apply(this,v([this,re.ERROR],P))},B}();function N(B){fe.forEach(function(P){P.setLogLevel(B)})}function k(B,P){for(var G=function(He){var Se=null;P&&P.level&&(Se=ae[P.level]),He.userLogHandler=null===B?null:function(we,Qe){for(var Re=[],Me=2;Me<arguments.length;Me++)Re[Me-2]=arguments[Me];var Pt=Re.map(function(Ft){if(null==Ft)return null;if("string"==typeof Ft)return Ft;if("number"==typeof Ft||"boolean"==typeof Ft)return Ft.toString();if(Ft instanceof Error)return Ft.message;try{return JSON.stringify(Ft)}catch(ei){return null}}).filter(function(Ft){return Ft}).join(" ");Qe>=(null!=Se?Se:we.logLevel)&&B({level:re[Qe].toLowerCase(),message:Pt,args:Re,type:we.name})}},ie=0,oe=fe;ie<oe.length;ie++)G(oe[ie])}},4685:(Ue,pe,x)=>{"use strict";x.d(pe,{BH:()=>P,LL:()=>Y,r3:()=>Tt,Sg:()=>G,ne:()=>vr,p$:()=>N,ZB:()=>k,m9:()=>Gh,z$:()=>ie,jU:()=>He,ru:()=>Se,d:()=>Qe,w1:()=>Re,uI:()=>oe,UG:()=>se,b$:()=>we,G6:()=>Ft,Mn:()=>Me});var v=x(4762),de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(F,V){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var L=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,ne=[],q=0;q<F.length;q+=3){var Ee=F[q],Ce=q+1<F.length,_t=Ce?F[q+1]:0,St=q+2<F.length,Et=St?F[q+2]:0,fn=(15&_t)<<2|Et>>6,ti=63&Et;St||(ti=64,Ce||(fn=64)),ne.push(L[Ee>>2],L[(3&Ee)<<4|_t>>4],L[fn],L[ti])}return ne.join("")},encodeString:function(F,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(F):this.encodeByteArray(function(F){for(var V=[],L=0,ne=0;ne<F.length;ne++){var q=F.charCodeAt(ne);q<128?V[L++]=q:q<2048?(V[L++]=q>>6|192,V[L++]=63&q|128):55296==(64512&q)&&ne+1<F.length&&56320==(64512&F.charCodeAt(ne+1))?(q=65536+((1023&q)<<10)+(1023&F.charCodeAt(++ne)),V[L++]=q>>18|240,V[L++]=q>>12&63|128,V[L++]=q>>6&63|128,V[L++]=63&q|128):(V[L++]=q>>12|224,V[L++]=q>>6&63|128,V[L++]=63&q|128)}return V}(F),V)},decodeString:function(F,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(F):function(F){for(var V=[],L=0,ne=0;L<F.length;){var q=F[L++];if(q<128)V[ne++]=String.fromCharCode(q);else if(q>191&&q<224){var Ee=F[L++];V[ne++]=String.fromCharCode((31&q)<<6|63&Ee)}else if(q>239&&q<365){var St=((7&q)<<18|(63&(Ee=F[L++]))<<12|(63&(Ce=F[L++]))<<6|63&F[L++])-65536;V[ne++]=String.fromCharCode(55296+(St>>10)),V[ne++]=String.fromCharCode(56320+(1023&St))}else{Ee=F[L++];var Ce=F[L++];V[ne++]=String.fromCharCode((15&q)<<12|(63&Ee)<<6|63&Ce)}}return V.join("")}(this.decodeStringToByteArray(F,V))},decodeStringToByteArray:function(F,V){this.init_();for(var L=V?this.charToByteMapWebSafe_:this.charToByteMap_,ne=[],q=0;q<F.length;){var Ee=L[F.charAt(q++)],_t=q<F.length?L[F.charAt(q)]:0,Et=++q<F.length?L[F.charAt(q)]:64,Qn=++q<F.length?L[F.charAt(q)]:64;if(++q,null==Ee||null==_t||null==Et||null==Qn)throw Error();ne.push(Ee<<2|_t>>4),64!==Et&&(ne.push(_t<<4&240|Et>>2),64!==Qn&&ne.push(Et<<6&192|Qn))}return ne},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}};function N(F){return k(void 0,F)}function k(F,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return V}for(var ne in V)!V.hasOwnProperty(ne)||!B(ne)||(F[ne]=k(F[ne],V[ne]));return F}function B(F){return"__proto__"!==F}var P=function(){function F(){var V=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(L,ne){V.resolve=L,V.reject=ne})}return F.prototype.wrapCallback=function(V){var L=this;return function(ne,q){ne?L.reject(ne):L.resolve(q),"function"==typeof V&&(L.promise.catch(function(){}),1===V.length?V(ne):V(ne,q))}},F}();function G(F,V){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var ne=V||"demo-project",q=F.iat||0,Ee=F.sub||F.user_id;if(!Ee)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Ce=(0,v.pi)({iss:"https://securetoken.google.com/"+ne,aud:ne,iat:q,exp:q+3600,auth_time:q,sub:Ee,user_id:Ee,firebase:{sign_in_provider:"custom",identities:{}}},F);return[de.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),de.encodeString(JSON.stringify(Ce),!1),""].join(".")}function ie(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function oe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ie())}function se(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(F){return!1}}function He(){return"object"==typeof self&&self.self===self}function Se(){var F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function we(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Qe(){return ie().indexOf("Electron/")>=0}function Re(){var F=ie();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function Me(){return ie().indexOf("MSAppHost/")>=0}function Ft(){return!se()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var ye=function(F){function V(L,ne,q){var Ee=F.call(this,ne)||this;return Ee.code=L,Ee.customData=q,Ee.name="FirebaseError",Object.setPrototypeOf(Ee,V.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ee,Y.prototype.create),Ee}return(0,v.ZT)(V,F),V}(Error),Y=function(){function F(V,L,ne){this.service=V,this.serviceName=L,this.errors=ne}return F.prototype.create=function(V){for(var L=[],ne=1;ne<arguments.length;ne++)L[ne-1]=arguments[ne];var q=L[0]||{},Ee=this.service+"/"+V,Ce=this.errors[V],_t=Ce?Pe(Ce,q):"Error",St=this.serviceName+": "+_t+" ("+Ee+").",Et=new ye(Ee,St,q);return Et},F}();function Pe(F,V){return F.replace(Je,function(L,ne){var q=V[ne];return null!=q?String(q):"<"+ne+"?>"})}var Je=/\{\$([^}]+)}/g;function Tt(F,V){return Object.prototype.hasOwnProperty.call(F,V)}function vr(F,V){var L=new Un(F,V);return L.subscribe.bind(L)}!function(){function F(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var V=1;V<this.blockSize;++V)this.pad_[V]=0;this.reset()}F.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},F.prototype.compress_=function(V,L){L||(L=0);var ne=this.W_;if("string"==typeof V)for(var q=0;q<16;q++)ne[q]=V.charCodeAt(L)<<24|V.charCodeAt(L+1)<<16|V.charCodeAt(L+2)<<8|V.charCodeAt(L+3),L+=4;else for(q=0;q<16;q++)ne[q]=V[L]<<24|V[L+1]<<16|V[L+2]<<8|V[L+3],L+=4;for(q=16;q<80;q++)ne[q]=4294967295&((Ee=ne[q-3]^ne[q-8]^ne[q-14]^ne[q-16])<<1|Ee>>>31);var Qn,fn,Ce=this.chain_[0],_t=this.chain_[1],St=this.chain_[2],Et=this.chain_[3],In=this.chain_[4];for(q=0;q<80;q++){q<40?q<20?(Qn=Et^_t&(St^Et),fn=1518500249):(Qn=_t^St^Et,fn=1859775393):q<60?(Qn=_t&St|Et&(_t|St),fn=2400959708):(Qn=_t^St^Et,fn=3395469782);var Ee=(Ce<<5|Ce>>>27)+Qn+In+fn+ne[q]&4294967295;In=Et,Et=St,St=4294967295&(_t<<30|_t>>>2),_t=Ce,Ce=Ee}this.chain_[0]=this.chain_[0]+Ce&4294967295,this.chain_[1]=this.chain_[1]+_t&4294967295,this.chain_[2]=this.chain_[2]+St&4294967295,this.chain_[3]=this.chain_[3]+Et&4294967295,this.chain_[4]=this.chain_[4]+In&4294967295},F.prototype.update=function(V,L){if(null!=V){void 0===L&&(L=V.length);for(var ne=L-this.blockSize,q=0,Ee=this.buf_,Ce=this.inbuf_;q<L;){if(0===Ce)for(;q<=ne;)this.compress_(V,q),q+=this.blockSize;if("string"==typeof V){for(;q<L;)if(Ee[Ce]=V.charCodeAt(q),++q,++Ce===this.blockSize){this.compress_(Ee),Ce=0;break}}else for(;q<L;)if(Ee[Ce]=V[q],++q,++Ce===this.blockSize){this.compress_(Ee),Ce=0;break}}this.inbuf_=Ce,this.total_+=L}},F.prototype.digest=function(){var V=[],L=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ne=this.blockSize-1;ne>=56;ne--)this.buf_[ne]=255&L,L/=256;this.compress_(this.buf_);var q=0;for(ne=0;ne<5;ne++)for(var Ee=24;Ee>=0;Ee-=8)V[q]=this.chain_[ne]>>Ee&255,++q;return V}}();var Un=function(){function F(V,L){var ne=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(function(){V(ne)}).catch(function(q){ne.error(q)})}return F.prototype.next=function(V){this.forEachObserver(function(L){L.next(V)})},F.prototype.error=function(V){this.forEachObserver(function(L){L.error(V)}),this.close(V)},F.prototype.complete=function(){this.forEachObserver(function(V){V.complete()}),this.close()},F.prototype.subscribe=function(V,L,ne){var Ee,q=this;if(void 0===V&&void 0===L&&void 0===ne)throw new Error("Missing Observer.");void 0===(Ee=function(F,V){if("object"!=typeof F||null===F)return!1;for(var L=0,ne=["next","error","complete"];L<ne.length;L++){var q=ne[L];if(q in F&&"function"==typeof F[q])return!0}return!1}(V)?V:{next:V,error:L,complete:ne}).next&&(Ee.next=sn),void 0===Ee.error&&(Ee.error=sn),void 0===Ee.complete&&(Ee.complete=sn);var Ce=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{q.finalError?Ee.error(q.finalError):Ee.complete()}catch(_t){}}),this.observers.push(Ee),Ce},F.prototype.unsubscribeOne=function(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},F.prototype.forEachObserver=function(V){if(!this.finalized)for(var L=0;L<this.observers.length;L++)this.sendOne(L,V)},F.prototype.sendOne=function(V,L){var ne=this;this.task.then(function(){if(void 0!==ne.observers&&void 0!==ne.observers[V])try{L(ne.observers[V])}catch(q){"undefined"!=typeof console&&console.error&&console.error(q)}})},F.prototype.close=function(V){var L=this;this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(function(){L.observers=void 0,L.onNoObservers=void 0}))},F}();function sn(){}function Gh(F){return F&&F._delegate?F._delegate:F}},2329:(Ue,pe,x)=>{"use strict";x.d(pe,{Z:()=>v.Z});var v=x(9759);v.Z.registerVersion("firebase","8.9.1","app"),v.Z.SDK_VERSION="8.9.1"},7574:(Ue,pe,x)=>{"use strict";x.d(pe,{y:()=>k});var v=x(7393),fe=x(9181),re=x(6490),J=x(6554),de=x(4487);var N=x(2494);let k=(()=>{class P{constructor(ie){this._isScalar=!1,ie&&(this._subscribe=ie)}lift(ie){const oe=new P;return oe.source=this,oe.operator=ie,oe}subscribe(ie,oe,se){const{operator:He}=this,Se=function(P,G,ie){if(P){if(P instanceof v.L)return P;if(P[fe.b])return P[fe.b]()}return P||G||ie?new v.L(P,G,ie):new v.L(re.c)}(ie,oe,se);if(Se.add(He?He.call(Se,this.source):this.source||N.v.useDeprecatedSynchronousErrorHandling&&!Se.syncErrorThrowable?this._subscribe(Se):this._trySubscribe(Se)),N.v.useDeprecatedSynchronousErrorHandling&&Se.syncErrorThrowable&&(Se.syncErrorThrowable=!1,Se.syncErrorThrown))throw Se.syncErrorValue;return Se}_trySubscribe(ie){try{return this._subscribe(ie)}catch(oe){N.v.useDeprecatedSynchronousErrorHandling&&(ie.syncErrorThrown=!0,ie.syncErrorValue=oe),function(P){for(;P;){const{closed:G,destination:ie,isStopped:oe}=P;if(G||oe)return!1;P=ie&&ie instanceof v.L?ie:null}return!0}(ie)?ie.error(oe):console.warn(oe)}}forEach(ie,oe){return new(oe=B(oe))((se,He)=>{let Se;Se=this.subscribe(we=>{try{ie(we)}catch(Qe){He(Qe),Se&&Se.unsubscribe()}},He,se)})}_subscribe(ie){const{source:oe}=this;return oe&&oe.subscribe(ie)}[J.L](){return this}pipe(...ie){return 0===ie.length?this:function(P){return 0===P.length?de.y:1===P.length?P[0]:function(ie){return P.reduce((oe,se)=>se(oe),ie)}}(ie)(this)}toPromise(ie){return new(ie=B(ie))((oe,se)=>{let He;this.subscribe(Se=>He=Se,Se=>se(Se),()=>oe(He))})}}return P.create=G=>new P(G),P})();function B(P){if(P||(P=N.v.Promise||Promise),!P)throw new Error("no Promise impl found");return P}},6490:(Ue,pe,x)=>{"use strict";x.d(pe,{c:()=>fe});var v=x(2494),te=x(4449);const fe={closed:!0,next(re){},error(re){if(v.v.useDeprecatedSynchronousErrorHandling)throw re;(0,te.z)(re)},complete(){}}},9765:(Ue,pe,x)=>{"use strict";x.d(pe,{Yc:()=>de,xQ:()=>ue});var v=x(7574),te=x(7393),fe=x(5319),re=x(7971),ae=x(8858),J=x(9181);class de extends te.L{constructor(k){super(k),this.destination=k}}let ue=(()=>{class N extends v.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[J.b](){return new de(this)}lift(B){const P=new $(this,this);return P.operator=B,P}next(B){if(this.closed)throw new re.N;if(!this.isStopped){const{observers:P}=this,G=P.length,ie=P.slice();for(let oe=0;oe<G;oe++)ie[oe].next(B)}}error(B){if(this.closed)throw new re.N;this.hasError=!0,this.thrownError=B,this.isStopped=!0;const{observers:P}=this,G=P.length,ie=P.slice();for(let oe=0;oe<G;oe++)ie[oe].error(B);this.observers.length=0}complete(){if(this.closed)throw new re.N;this.isStopped=!0;const{observers:B}=this,P=B.length,G=B.slice();for(let ie=0;ie<P;ie++)G[ie].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(B){if(this.closed)throw new re.N;return super._trySubscribe(B)}_subscribe(B){if(this.closed)throw new re.N;return this.hasError?(B.error(this.thrownError),fe.w.EMPTY):this.isStopped?(B.complete(),fe.w.EMPTY):(this.observers.push(B),new ae.W(this,B))}asObservable(){const B=new v.y;return B.source=this,B}}return N.create=(k,B)=>new $(k,B),N})();class $ extends ue{constructor(k,B){super(),this.destination=k,this.source=B}next(k){const{destination:B}=this;B&&B.next&&B.next(k)}error(k){const{destination:B}=this;B&&B.error&&this.destination.error(k)}complete(){const{destination:k}=this;k&&k.complete&&this.destination.complete()}_subscribe(k){const{source:B}=this;return B?this.source.subscribe(k):fe.w.EMPTY}}},8858:(Ue,pe,x)=>{"use strict";x.d(pe,{W:()=>te});var v=x(5319);class te extends v.w{constructor(re,ae){super(),this.subject=re,this.subscriber=ae,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const re=this.subject,ae=re.observers;if(this.subject=null,!ae||0===ae.length||re.isStopped||re.closed)return;const J=ae.indexOf(this.subscriber);-1!==J&&ae.splice(J,1)}}},7393:(Ue,pe,x)=>{"use strict";x.d(pe,{L:()=>de});var v=x(9105),te=x(6490),fe=x(5319),re=x(9181),ae=x(2494),J=x(4449);class de extends fe.w{constructor(N,k,B){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=te.c;break;case 1:if(!N){this.destination=te.c;break}if("object"==typeof N){N instanceof de?(this.syncErrorThrowable=N.syncErrorThrowable,this.destination=N,N.add(this)):(this.syncErrorThrowable=!0,this.destination=new ue(this,N));break}default:this.syncErrorThrowable=!0,this.destination=new ue(this,N,k,B)}}[re.b](){return this}static create(N,k,B){const P=new de(N,k,B);return P.syncErrorThrowable=!1,P}next(N){this.isStopped||this._next(N)}error(N){this.isStopped||(this.isStopped=!0,this._error(N))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(N){this.destination.next(N)}_error(N){this.destination.error(N),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:N}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=N,this}}class ue extends de{constructor(N,k,B,P){super(),this._parentSubscriber=N;let G,ie=this;(0,v.m)(k)?G=k:k&&(G=k.next,B=k.error,P=k.complete,k!==te.c&&(ie=Object.create(k),(0,v.m)(ie.unsubscribe)&&this.add(ie.unsubscribe.bind(ie)),ie.unsubscribe=this.unsubscribe.bind(this))),this._context=ie,this._next=G,this._error=B,this._complete=P}next(N){if(!this.isStopped&&this._next){const{_parentSubscriber:k}=this;ae.v.useDeprecatedSynchronousErrorHandling&&k.syncErrorThrowable?this.__tryOrSetError(k,this._next,N)&&this.unsubscribe():this.__tryOrUnsub(this._next,N)}}error(N){if(!this.isStopped){const{_parentSubscriber:k}=this,{useDeprecatedSynchronousErrorHandling:B}=ae.v;if(this._error)B&&k.syncErrorThrowable?(this.__tryOrSetError(k,this._error,N),this.unsubscribe()):(this.__tryOrUnsub(this._error,N),this.unsubscribe());else if(k.syncErrorThrowable)B?(k.syncErrorValue=N,k.syncErrorThrown=!0):(0,J.z)(N),this.unsubscribe();else{if(this.unsubscribe(),B)throw N;(0,J.z)(N)}}}complete(){if(!this.isStopped){const{_parentSubscriber:N}=this;if(this._complete){const k=()=>this._complete.call(this._context);ae.v.useDeprecatedSynchronousErrorHandling&&N.syncErrorThrowable?(this.__tryOrSetError(N,k),this.unsubscribe()):(this.__tryOrUnsub(k),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(N,k){try{N.call(this._context,k)}catch(B){if(this.unsubscribe(),ae.v.useDeprecatedSynchronousErrorHandling)throw B;(0,J.z)(B)}}__tryOrSetError(N,k,B){if(!ae.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{k.call(this._context,B)}catch(P){return ae.v.useDeprecatedSynchronousErrorHandling?(N.syncErrorValue=P,N.syncErrorThrown=!0,!0):((0,J.z)(P),!0)}return!1}_unsubscribe(){const{_parentSubscriber:N}=this;this._context=null,this._parentSubscriber=null,N.unsubscribe()}}},5319:(Ue,pe,x)=>{"use strict";x.d(pe,{w:()=>J});var v=x(9796),te=x(1555),fe=x(9105);const ae=(()=>{function ue($){return Error.call(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((N,k)=>`${k+1}) ${N.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$,this}return ue.prototype=Object.create(Error.prototype),ue})();class J{constructor($){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,$&&(this._ctorUnsubscribe=!0,this._unsubscribe=$)}unsubscribe(){let $;if(this.closed)return;let{_parentOrParents:N,_ctorUnsubscribe:k,_unsubscribe:B,_subscriptions:P}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,N instanceof J)N.remove(this);else if(null!==N)for(let G=0;G<N.length;++G)N[G].remove(this);if((0,fe.m)(B)){k&&(this._unsubscribe=void 0);try{B.call(this)}catch(G){$=G instanceof ae?de(G.errors):[G]}}if((0,v.k)(P)){let G=-1,ie=P.length;for(;++G<ie;){const oe=P[G];if((0,te.K)(oe))try{oe.unsubscribe()}catch(se){$=$||[],se instanceof ae?$=$.concat(de(se.errors)):$.push(se)}}}if($)throw new ae($)}add($){let N=$;if(!$)return J.EMPTY;switch(typeof $){case"function":N=new J($);case"object":if(N===this||N.closed||"function"!=typeof N.unsubscribe)return N;if(this.closed)return N.unsubscribe(),N;if(!(N instanceof J)){const P=N;N=new J,N._subscriptions=[P]}break;default:throw new Error("unrecognized teardown "+$+" added to Subscription.")}let{_parentOrParents:k}=N;if(null===k)N._parentOrParents=this;else if(k instanceof J){if(k===this)return N;N._parentOrParents=[k,this]}else{if(-1!==k.indexOf(this))return N;k.push(this)}const B=this._subscriptions;return null===B?this._subscriptions=[N]:B.push(N),N}remove($){const N=this._subscriptions;if(N){const k=N.indexOf($);-1!==k&&N.splice(k,1)}}}var ue;function de(ue){return ue.reduce(($,N)=>$.concat(N instanceof ae?N.errors:N),[])}J.EMPTY=((ue=new J).closed=!0,ue)},2494:(Ue,pe,x)=>{"use strict";x.d(pe,{v:()=>te});let v=!1;const te={Promise:void 0,set useDeprecatedSynchronousErrorHandling(fe){if(fe){const re=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+re.stack)}else v&&console.log("RxJS: Back to a better error behavior. Thank you. <3");v=fe},get useDeprecatedSynchronousErrorHandling(){return v}}},5345:(Ue,pe,x)=>{"use strict";x.d(pe,{IY:()=>re,Ds:()=>J,ft:()=>ue});var v=x(7393),te=x(7574),fe=x(7444);class re extends v.L{constructor(N){super(),this.parent=N}_next(N){this.parent.notifyNext(N)}_error(N){this.parent.notifyError(N),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class J extends v.L{notifyNext(N){this.destination.next(N)}notifyError(N){this.destination.error(N)}notifyComplete(){this.destination.complete()}}function ue($,N){if(N.closed)return;if($ instanceof te.y)return $.subscribe(N);let k;try{k=(0,fe.s)($)(N)}catch(B){N.error(B)}return k}},2441:(Ue,pe,x)=>{"use strict";x.d(pe,{c:()=>ae,N:()=>J});var v=x(9765),te=x(7574),fe=x(5319),re=x(1307);class ae extends te.y{constructor(k,B){super(),this.source=k,this.subjectFactory=B,this._refCount=0,this._isComplete=!1}_subscribe(k){return this.getSubject().subscribe(k)}getSubject(){const k=this._subject;return(!k||k.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let k=this._connection;return k||(this._isComplete=!1,k=this._connection=new fe.w,k.add(this.source.subscribe(new de(this.getSubject(),this))),k.closed&&(this._connection=null,k=fe.w.EMPTY)),k}refCount(){return(0,re.x)()(this)}}const J=(()=>{const N=ae.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:N._subscribe},_isComplete:{value:N._isComplete,writable:!0},getSubject:{value:N.getSubject},connect:{value:N.connect},refCount:{value:N.refCount}}})();class de extends v.Yc{constructor(k,B){super(k),this.connectable=B}_error(k){this._unsubscribe(),super._error(k)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const k=this.connectable;if(k){this.connectable=null;const B=k._connection;k._refCount=0,k._subject=null,k._connection=null,B&&B.unsubscribe()}}}},9193:(Ue,pe,x)=>{"use strict";x.d(pe,{E:()=>te,c:()=>fe});var v=x(7574);const te=new v.y(ae=>ae.complete());function fe(ae){return ae?function(ae){return new v.y(J=>ae.schedule(()=>J.complete()))}(ae):te}},4402:(Ue,pe,x)=>{"use strict";x.d(pe,{D:()=>ie});var v=x(7574),te=x(7444),fe=x(5319),re=x(6554),de=x(4087),ue=x(377),k=x(4072),B=x(9489);function ie(oe,se){return se?function(oe,se){if(null!=oe){if(function(oe){return oe&&"function"==typeof oe[re.L]}(oe))return function(oe,se){return new v.y(He=>{const Se=new fe.w;return Se.add(se.schedule(()=>{const we=oe[re.L]();Se.add(we.subscribe({next(Qe){Se.add(se.schedule(()=>He.next(Qe)))},error(Qe){Se.add(se.schedule(()=>He.error(Qe)))},complete(){Se.add(se.schedule(()=>He.complete()))}}))})),Se})}(oe,se);if((0,k.t)(oe))return function(oe,se){return new v.y(He=>{const Se=new fe.w;return Se.add(se.schedule(()=>oe.then(we=>{Se.add(se.schedule(()=>{He.next(we),Se.add(se.schedule(()=>He.complete()))}))},we=>{Se.add(se.schedule(()=>He.error(we)))}))),Se})}(oe,se);if((0,B.z)(oe))return(0,de.r)(oe,se);if(function(oe){return oe&&"function"==typeof oe[ue.hZ]}(oe)||"string"==typeof oe)return function(oe,se){if(!oe)throw new Error("Iterable cannot be null");return new v.y(He=>{const Se=new fe.w;let we;return Se.add(()=>{we&&"function"==typeof we.return&&we.return()}),Se.add(se.schedule(()=>{we=oe[ue.hZ](),Se.add(se.schedule(function(){if(He.closed)return;let Qe,Re;try{const Me=we.next();Qe=Me.value,Re=Me.done}catch(Me){return void He.error(Me)}Re?He.complete():(He.next(Qe),this.schedule())}))})),Se})}(oe,se)}throw new TypeError((null!==oe&&typeof oe||oe)+" is not observable")}(oe,se):oe instanceof v.y?oe:new v.y((0,te.s)(oe))}},6693:(Ue,pe,x)=>{"use strict";x.d(pe,{n:()=>re});var v=x(7574),te=x(5015),fe=x(4087);function re(ae,J){return J?(0,fe.r)(ae,J):new v.y((0,te.V)(ae))}},6682:(Ue,pe,x)=>{"use strict";x.d(pe,{T:()=>ae});var v=x(7574),te=x(4869),fe=x(3282),re=x(6693);function ae(...J){let de=Number.POSITIVE_INFINITY,ue=null,$=J[J.length-1];return(0,te.K)($)?(ue=J.pop(),J.length>1&&"number"==typeof J[J.length-1]&&(de=J.pop())):"number"==typeof $&&(de=J.pop()),null===ue&&1===J.length&&J[0]instanceof v.y?J[0]:(0,fe.J)(de)((0,re.n)(J,ue))}},5917:(Ue,pe,x)=>{"use strict";x.d(pe,{of:()=>re});var v=x(4869),te=x(6693),fe=x(4087);function re(...ae){let J=ae[ae.length-1];return(0,v.K)(J)?(ae.pop(),(0,fe.r)(ae,J)):(0,te.n)(ae)}},8002:(Ue,pe,x)=>{"use strict";x.d(pe,{U:()=>te});var v=x(7393);function te(ae,J){return function(ue){if("function"!=typeof ae)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ue.lift(new fe(ae,J))}}class fe{constructor(J,de){this.project=J,this.thisArg=de}call(J,de){return de.subscribe(new re(J,this.project,this.thisArg))}}class re extends v.L{constructor(J,de,ue){super(J),this.project=de,this.count=0,this.thisArg=ue||this}_next(J){let de;try{de=this.project.call(this.thisArg,J,this.count++)}catch(ue){return void this.destination.error(ue)}this.destination.next(de)}}},3282:(Ue,pe,x)=>{"use strict";x.d(pe,{J:()=>fe});var v=x(9773),te=x(4487);function fe(re=Number.POSITIVE_INFINITY){return(0,v.zg)(te.y,re)}},9773:(Ue,pe,x)=>{"use strict";x.d(pe,{zg:()=>re});var v=x(8002),te=x(4402),fe=x(5345);function re(ue,$,N=Number.POSITIVE_INFINITY){return"function"==typeof $?k=>k.pipe(re((B,P)=>(0,te.D)(ue(B,P)).pipe((0,v.U)((G,ie)=>$(B,G,P,ie))),N)):("number"==typeof $&&(N=$),k=>k.lift(new ae(ue,N)))}class ae{constructor($,N=Number.POSITIVE_INFINITY){this.project=$,this.concurrent=N}call($,N){return N.subscribe(new J($,this.project,this.concurrent))}}class J extends fe.Ds{constructor($,N,k=Number.POSITIVE_INFINITY){super($),this.project=N,this.concurrent=k,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next($){this.active<this.concurrent?this._tryNext($):this.buffer.push($)}_tryNext($){let N;const k=this.index++;try{N=this.project($,k)}catch(B){return void this.destination.error(B)}this.active++,this._innerSub(N)}_innerSub($){const N=new fe.IY(this),k=this.destination;k.add(N);const B=(0,fe.ft)($,N);B!==N&&k.add(B)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext($){this.destination.next($)}notifyComplete(){const $=this.buffer;this.active--,$.length>0?this._next($.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Ue,pe,x)=>{"use strict";x.d(pe,{ht:()=>k,QV:()=>$});var v=x(7393),te=x(9193),fe=x(5917),re=x(7574);class ue{constructor(G,ie,oe){this.kind=G,this.value=ie,this.error=oe,this.hasValue="N"===G}observe(G){switch(this.kind){case"N":return G.next&&G.next(this.value);case"E":return G.error&&G.error(this.error);case"C":return G.complete&&G.complete()}}do(G,ie,oe){switch(this.kind){case"N":return G&&G(this.value);case"E":return ie&&ie(this.error);case"C":return oe&&oe()}}accept(G,ie,oe){return G&&"function"==typeof G.next?this.observe(G):this.do(G,ie,oe)}toObservable(){switch(this.kind){case"N":return(0,fe.of)(this.value);case"E":return P=this.error,new re.y(ie=>ie.error(P));case"C":return(0,te.c)()}var P;throw new Error("unexpected notification kind value")}static createNext(G){return void 0!==G?new ue("N",G):ue.undefinedValueNotification}static createError(G){return new ue("E",void 0,G)}static createComplete(){return ue.completeNotification}}function $(P,G=0){return function(oe){return oe.lift(new N(P,G))}}ue.completeNotification=new ue("C"),ue.undefinedValueNotification=new ue("N",void 0);class N{constructor(G,ie=0){this.scheduler=G,this.delay=ie}call(G,ie){return ie.subscribe(new k(G,this.scheduler,this.delay))}}class k extends v.L{constructor(G,ie,oe=0){super(G),this.scheduler=ie,this.delay=oe}static dispatch(G){const{notification:ie,destination:oe}=G;ie.observe(oe),this.unsubscribe()}scheduleMessage(G){this.destination.add(this.scheduler.schedule(k.dispatch,this.delay,new B(G,this.destination)))}_next(G){this.scheduleMessage(ue.createNext(G))}_error(G){this.scheduleMessage(ue.createError(G)),this.unsubscribe()}_complete(){this.scheduleMessage(ue.createComplete()),this.unsubscribe()}}class B{constructor(G,ie){this.notification=G,this.destination=ie}}},1307:(Ue,pe,x)=>{"use strict";x.d(pe,{x:()=>te});var v=x(7393);function te(){return function(J){return J.lift(new fe(J))}}class fe{constructor(J){this.connectable=J}call(J,de){const{connectable:ue}=this;ue._refCount++;const $=new re(J,ue),N=de.subscribe($);return $.closed||($.connection=ue.connect()),N}}class re extends v.L{constructor(J,de){super(J),this.connectable=de}_unsubscribe(){const{connectable:J}=this;if(!J)return void(this.connection=null);this.connectable=null;const de=J._refCount;if(de<=0)return void(this.connection=null);if(J._refCount=de-1,de>1)return void(this.connection=null);const{connection:ue}=this,$=J._connection;this.connection=null,$&&(!ue||$===ue)&&$.unsubscribe()}}},3101:(Ue,pe,x)=>{"use strict";x.d(pe,{R:()=>se});var v=x(7574);let te=1;const fe=Promise.resolve(),re={};function ae(Se){return Se in re&&(delete re[Se],!0)}const J={setImmediate(Se){const we=te++;return re[we]=!0,fe.then(()=>ae(we)&&Se()),we},clearImmediate(Se){ae(Se)}};var ue=x(6465),N=x(6102);const P=new class extends N.v{flush(we){this.active=!0,this.scheduled=void 0;const{actions:Qe}=this;let Re,Me=-1,Pt=Qe.length;we=we||Qe.shift();do{if(Re=we.execute(we.state,we.delay))break}while(++Me<Pt&&(we=Qe.shift()));if(this.active=!1,Re){for(;++Me<Pt&&(we=Qe.shift());)we.unsubscribe();throw Re}}}(class extends ue.o{constructor(we,Qe){super(we,Qe),this.scheduler=we,this.work=Qe}requestAsyncId(we,Qe,Re=0){return null!==Re&&Re>0?super.requestAsyncId(we,Qe,Re):(we.actions.push(this),we.scheduled||(we.scheduled=J.setImmediate(we.flush.bind(we,null))))}recycleAsyncId(we,Qe,Re=0){if(null!==Re&&Re>0||null===Re&&this.delay>0)return super.recycleAsyncId(we,Qe,Re);0===we.actions.length&&(J.clearImmediate(Qe),we.scheduled=void 0)}});var G=x(9796);class oe extends v.y{constructor(we,Qe=0,Re=P){var Se;super(),this.source=we,this.delayTime=Qe,this.scheduler=Re,(!(!(0,G.k)(Se=Qe)&&Se-parseFloat(Se)+1>=0)||Qe<0)&&(this.delayTime=0),(!Re||"function"!=typeof Re.schedule)&&(this.scheduler=P)}static create(we,Qe=0,Re=P){return new oe(we,Qe,Re)}static dispatch(we){const{source:Qe,subscriber:Re}=we;return this.add(Qe.subscribe(Re))}_subscribe(we){return this.scheduler.schedule(oe.dispatch,this.delayTime,{source:this.source,subscriber:we})}}function se(Se,we=0){return function(Re){return Re.lift(new He(Se,we))}}class He{constructor(we,Qe){this.scheduler=we,this.delay=Qe}call(we,Qe){return new oe(Qe,this.delay,this.scheduler).subscribe(we)}}},3342:(Ue,pe,x)=>{"use strict";x.d(pe,{b:()=>re});var v=x(7393);function te(){}var fe=x(9105);function re(de,ue,$){return function(k){return k.lift(new ae(de,ue,$))}}class ae{constructor(ue,$,N){this.nextOrObserver=ue,this.error=$,this.complete=N}call(ue,$){return $.subscribe(new J(ue,this.nextOrObserver,this.error,this.complete))}}class J extends v.L{constructor(ue,$,N,k){super(ue),this._tapNext=te,this._tapError=te,this._tapComplete=te,this._tapError=N||te,this._tapComplete=k||te,(0,fe.m)($)?(this._context=this,this._tapNext=$):$&&(this._context=$,this._tapNext=$.next||te,this._tapError=$.error||te,this._tapComplete=$.complete||te)}_next(ue){try{this._tapNext.call(this._context,ue)}catch($){return void this.destination.error($)}this.destination.next(ue)}_error(ue){try{this._tapError.call(this._context,ue)}catch($){return void this.destination.error($)}this.destination.error(ue)}_complete(){try{this._tapComplete.call(this._context)}catch(ue){return void this.destination.error(ue)}return this.destination.complete()}}},4087:(Ue,pe,x)=>{"use strict";x.d(pe,{r:()=>fe});var v=x(7574),te=x(5319);function fe(re,ae){return new v.y(J=>{const de=new te.w;let ue=0;return de.add(ae.schedule(function(){ue!==re.length?(J.next(re[ue++]),J.closed||de.add(this.schedule())):J.complete()})),de})}},6465:(Ue,pe,x)=>{"use strict";x.d(pe,{o:()=>fe});var v=x(5319);class te extends v.w{constructor(ae,J){super()}schedule(ae,J=0){return this}}class fe extends te{constructor(ae,J){super(ae,J),this.scheduler=ae,this.work=J,this.pending=!1}schedule(ae,J=0){if(this.closed)return this;this.state=ae;const de=this.id,ue=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(ue,de,J)),this.pending=!0,this.delay=J,this.id=this.id||this.requestAsyncId(ue,this.id,J),this}requestAsyncId(ae,J,de=0){return setInterval(ae.flush.bind(ae,this),de)}recycleAsyncId(ae,J,de=0){if(null!==de&&this.delay===de&&!1===this.pending)return J;clearInterval(J)}execute(ae,J){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(ae,J);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,J){let ue,de=!1;try{this.work(ae)}catch($){de=!0,ue=!!$&&$||new Error($)}if(de)return this.unsubscribe(),ue}_unsubscribe(){const ae=this.id,J=this.scheduler,de=J.actions,ue=de.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ue&&de.splice(ue,1),null!=ae&&(this.id=this.recycleAsyncId(J,ae,null)),this.delay=null}}},6102:(Ue,pe,x)=>{"use strict";x.d(pe,{v:()=>te});let v=(()=>{class fe{constructor(ae,J=fe.now){this.SchedulerAction=ae,this.now=J}schedule(ae,J=0,de){return new this.SchedulerAction(this,ae).schedule(de,J)}}return fe.now=()=>Date.now(),fe})();class te extends v{constructor(re,ae=v.now){super(re,()=>te.delegate&&te.delegate!==this?te.delegate.now():ae()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(re,ae=0,J){return te.delegate&&te.delegate!==this?te.delegate.schedule(re,ae,J):super.schedule(re,ae,J)}flush(re){const{actions:ae}=this;if(this.active)return void ae.push(re);let J;this.active=!0;do{if(J=re.execute(re.state,re.delay))break}while(re=ae.shift());if(this.active=!1,J){for(;re=ae.shift();)re.unsubscribe();throw J}}}},3637:(Ue,pe,x)=>{"use strict";x.d(pe,{z:()=>fe});var v=x(6465);const fe=new(x(6102).v)(v.o)},7771:(Ue,pe,x)=>{"use strict";x.d(pe,{c:()=>J,N:()=>ae});var v=x(6465),fe=x(6102);const ae=new class extends fe.v{}(class extends v.o{constructor(ue,$){super(ue,$),this.scheduler=ue,this.work=$}schedule(ue,$=0){return $>0?super.schedule(ue,$):(this.delay=$,this.state=ue,this.scheduler.flush(this),this)}execute(ue,$){return $>0||this.closed?super.execute(ue,$):this._execute(ue,$)}requestAsyncId(ue,$,N=0){return null!==N&&N>0||null===N&&this.delay>0?super.requestAsyncId(ue,$,N):ue.flush(this)}}),J=ae},377:(Ue,pe,x)=>{"use strict";x.d(pe,{hZ:()=>te});const te="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ue,pe,x)=>{"use strict";x.d(pe,{L:()=>v});const v="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ue,pe,x)=>{"use strict";x.d(pe,{b:()=>v});const v="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ue,pe,x)=>{"use strict";x.d(pe,{N:()=>te});const te=(()=>{function fe(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return fe.prototype=Object.create(Error.prototype),fe})()},4449:(Ue,pe,x)=>{"use strict";function v(te){setTimeout(()=>{throw te},0)}x.d(pe,{z:()=>v})},4487:(Ue,pe,x)=>{"use strict";function v(te){return te}x.d(pe,{y:()=>v})},9796:(Ue,pe,x)=>{"use strict";x.d(pe,{k:()=>v});const v=Array.isArray||(te=>te&&"number"==typeof te.length)},9489:(Ue,pe,x)=>{"use strict";x.d(pe,{z:()=>v});const v=te=>te&&"number"==typeof te.length&&"function"!=typeof te},9105:(Ue,pe,x)=>{"use strict";function v(te){return"function"==typeof te}x.d(pe,{m:()=>v})},1555:(Ue,pe,x)=>{"use strict";function v(te){return null!==te&&"object"==typeof te}x.d(pe,{K:()=>v})},4072:(Ue,pe,x)=>{"use strict";function v(te){return!!te&&"function"!=typeof te.subscribe&&"function"==typeof te.then}x.d(pe,{t:()=>v})},4869:(Ue,pe,x)=>{"use strict";function v(te){return te&&"function"==typeof te.schedule}x.d(pe,{K:()=>v})},7444:(Ue,pe,x)=>{"use strict";x.d(pe,{s:()=>k});var v=x(5015),te=x(4449),re=x(377),J=x(6554),ue=x(9489),$=x(4072),N=x(1555);const k=B=>{if(B&&"function"==typeof B[J.L])return(B=>P=>{const G=B[J.L]();if("function"!=typeof G.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return G.subscribe(P)})(B);if((0,ue.z)(B))return(0,v.V)(B);if((0,$.t)(B))return(B=>P=>(B.then(G=>{P.closed||(P.next(G),P.complete())},G=>P.error(G)).then(null,te.z),P))(B);if(B&&"function"==typeof B[re.hZ])return(B=>P=>{const G=B[re.hZ]();for(;;){let ie;try{ie=G.next()}catch(oe){return P.error(oe),P}if(ie.done){P.complete();break}if(P.next(ie.value),P.closed)break}return"function"==typeof G.return&&P.add(()=>{G.return&&G.return()}),P})(B);{const G=`You provided ${(0,N.K)(B)?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(G)}}},5015:(Ue,pe,x)=>{"use strict";x.d(pe,{V:()=>v});const v=te=>fe=>{for(let re=0,ae=te.length;re<ae&&!fe.closed;re++)fe.next(te[re]);fe.complete()}},8015:(Ue,pe,x)=>{"use strict";var v=x(3018);let te=null;function fe(){return te}const de=new v.OlP("DocumentToken");let ue=(()=>{class t{historyGo(i){throw new Error("Not implemented")}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=(0,v.Yz7)({factory:$,token:t,providedIn:"platform"}),t})();function $(){return(0,v.LFG)(k)}const N=new v.OlP("Location Initialized");let k=(()=>{class t extends ue{constructor(i){super(),this._doc=i,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fe().getBaseHref(this._doc)}onPopState(i){const a=fe().getGlobalEventTarget(this._doc,"window");return a.addEventListener("popstate",i,!1),()=>a.removeEventListener("popstate",i)}onHashChange(i){const a=fe().getGlobalEventTarget(this._doc,"window");return a.addEventListener("hashchange",i,!1),()=>a.removeEventListener("hashchange",i)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(i){this.location.pathname=i}pushState(i,a,c){B()?this._history.pushState(i,a,c):this.location.hash=c}replaceState(i,a,c){B()?this._history.replaceState(i,a,c):this.location.hash=c}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return t.\u0275fac=function(i){return new(i||t)(v.LFG(de))},t.\u0275prov=(0,v.Yz7)({factory:P,token:t,providedIn:"platform"}),t})();function B(){return!!window.history.pushState}function P(){return new k((0,v.LFG)(de))}function G(t,e){if(0==t.length)return e;if(0==e.length)return t;let i=0;return t.endsWith("/")&&i++,e.startsWith("/")&&i++,2==i?t+e.substring(1):1==i?t+e:t+"/"+e}function ie(t){const e=t.match(/#|\?|$/),i=e&&e.index||t.length;return t.slice(0,i-("/"===t[i-1]?1:0))+t.slice(i)}function oe(t){return t&&"?"!==t[0]?"?"+t:t}let se=(()=>{class t{historyGo(i){throw new Error("Not implemented")}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=(0,v.Yz7)({factory:He,token:t,providedIn:"root"}),t})();function He(t){const e=(0,v.LFG)(de).location;return new we((0,v.LFG)(ue),e&&e.origin||"")}const Se=new v.OlP("appBaseHref");let we=(()=>{class t extends se{constructor(i,a){if(super(),this._platformLocation=i,this._removeListenerFns=[],null==a&&(a=this._platformLocation.getBaseHrefFromDOM()),null==a)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=a}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return G(this._baseHref,i)}path(i=!1){const a=this._platformLocation.pathname+oe(this._platformLocation.search),c=this._platformLocation.hash;return c&&i?`${a}${c}`:a}pushState(i,a,c,f){const p=this.prepareExternalUrl(c+oe(f));this._platformLocation.pushState(i,a,p)}replaceState(i,a,c,f){const p=this.prepareExternalUrl(c+oe(f));this._platformLocation.replaceState(i,a,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var a,c;null===(c=(a=this._platformLocation).historyGo)||void 0===c||c.call(a,i)}}return t.\u0275fac=function(i){return new(i||t)(v.LFG(ue),v.LFG(Se,8))},t.\u0275prov=v.Yz7({token:t,factory:t.\u0275fac}),t})(),Qe=(()=>{class t extends se{constructor(i,a){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=a&&(this._baseHref=a)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let a=this._platformLocation.hash;return null==a&&(a="#"),a.length>0?a.substring(1):a}prepareExternalUrl(i){const a=G(this._baseHref,i);return a.length>0?"#"+a:a}pushState(i,a,c,f){let p=this.prepareExternalUrl(c+oe(f));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(i,a,p)}replaceState(i,a,c,f){let p=this.prepareExternalUrl(c+oe(f));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(i,a,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var a,c;null===(c=(a=this._platformLocation).historyGo)||void 0===c||c.call(a,i)}}return t.\u0275fac=function(i){return new(i||t)(v.LFG(ue),v.LFG(Se,8))},t.\u0275prov=v.Yz7({token:t,factory:t.\u0275fac}),t})(),Re=(()=>{class t{constructor(i,a){this._subject=new v.vpe,this._urlChangeListeners=[],this._platformStrategy=i;const c=this._platformStrategy.getBaseHref();this._platformLocation=a,this._baseHref=ie(Ft(c)),this._platformStrategy.onPopState(f=>{this._subject.emit({url:this.path(!0),pop:!0,state:f.state,type:f.type})})}path(i=!1){return this.normalize(this._platformStrategy.path(i))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(i,a=""){return this.path()==this.normalize(i+oe(a))}normalize(i){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Ft(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._platformStrategy.prepareExternalUrl(i)}go(i,a="",c=null){this._platformStrategy.pushState(c,"",i,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+oe(a)),c)}replaceState(i,a="",c=null){this._platformStrategy.replaceState(c,"",i,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+oe(a)),c)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(i=0){var a,c;null===(c=(a=this._platformStrategy).historyGo)||void 0===c||c.call(a,i)}onUrlChange(i){this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(a=>{this._notifyUrlChangeListeners(a.url,a.state)}))}_notifyUrlChangeListeners(i="",a){this._urlChangeListeners.forEach(c=>c(i,a))}subscribe(i,a,c){return this._subject.subscribe({next:i,error:a,complete:c})}}return t.\u0275fac=function(i){return new(i||t)(v.LFG(se),v.LFG(ue))},t.normalizeQueryParams=oe,t.joinWithSlash=G,t.stripTrailingSlash=ie,t.\u0275prov=(0,v.Yz7)({factory:Me,token:t,providedIn:"root"}),t})();function Me(){return new Re((0,v.LFG)(se),(0,v.LFG)(ue))}function Ft(t){return t.replace(/\/index.html$/,"")}var Z=(()=>((Z=Z||{})[Z.Zero=0]="Zero",Z[Z.One=1]="One",Z[Z.Two=2]="Two",Z[Z.Few=3]="Few",Z[Z.Many=4]="Many",Z[Z.Other=5]="Other",Z))();const lt=v.kL8;class Ci{}let hc=(()=>{class t extends Ci{constructor(i){super(),this.locale=i}getPluralCategory(i,a){switch(lt(a||this.locale)(i)){case Z.Zero:return"zero";case Z.One:return"one";case Z.Two:return"two";case Z.Few:return"few";case Z.Many:return"many";default:return"other"}}}return t.\u0275fac=function(i){return new(i||t)(v.LFG(v.soG))},t.\u0275prov=v.Yz7({token:t,factory:t.\u0275fac}),t})();class Wh{constructor(e,i,a,c){this.$implicit=e,this.ngForOf=i,this.index=a,this.count=c}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let cs=(()=>{class t{constructor(i,a,c){this._viewContainer=i,this._template=a,this._differs=c,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.ngForTrackBy)}catch(a){throw new Error(`Cannot find a differ supporting object '${i}' of type '${function(t){return t.name||typeof t}(i)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const a=[];i.forEachOperation((c,f,p)=>{if(null==c.previousIndex){const m=this._viewContainer.createEmbeddedView(this._template,new Wh(null,this._ngForOf,-1,-1),null===p?void 0:p),b=new Yn(c,m);a.push(b)}else if(null==p)this._viewContainer.remove(null===f?void 0:f);else if(null!==f){const m=this._viewContainer.get(f);this._viewContainer.move(m,p);const b=new Yn(c,m);a.push(b)}});for(let c=0;c<a.length;c++)this._perViewChange(a[c].view,a[c].record);for(let c=0,f=this._viewContainer.length;c<f;c++){const p=this._viewContainer.get(c);p.context.index=c,p.context.count=f,p.context.ngForOf=this._ngForOf}i.forEachIdentityChange(c=>{this._viewContainer.get(c.currentIndex).context.$implicit=c.item})}_perViewChange(i,a){i.context.$implicit=a.item}static ngTemplateContextGuard(i,a){return!0}}return t.\u0275fac=function(i){return new(i||t)(v.Y36(v.s_b),v.Y36(v.Rgc),v.Y36(v.ZZ4))},t.\u0275dir=v.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Yn{constructor(e,i){this.record=e,this.view=i}}let ls=(()=>{class t{constructor(i,a){this._viewContainer=i,this._context=new ni,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=a}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Rt("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Rt("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,a){return!0}}return t.\u0275fac=function(i){return new(i||t)(v.Y36(v.s_b),v.Y36(v.Rgc))},t.\u0275dir=v.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class ni{constructor(){this.$implicit=null,this.ngIf=null}}function Rt(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,v.AaK)(e)}'.`)}let eC=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=v.oAB({type:t}),t.\u0275inj=v.cJS({providers:[{provide:Ci,useClass:hc}]}),t})();let Zh=(()=>{class t{}return t.\u0275prov=(0,v.Yz7)({token:t,providedIn:"root",factory:()=>new rC((0,v.LFG)(de),window)}),t})();class rC{constructor(e,i){this.document=e,this.window=i,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const i=function(t,e){const i=t.getElementById(e)||t.getElementsByName(e)[0];if(i)return i;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const a=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let c=a.currentNode;for(;c;){const f=c.shadowRoot;if(f){const p=f.getElementById(e)||f.querySelector(`[name="${e}"]`);if(p)return p}c=a.nextNode()}}return null}(this.document,e);i&&(this.scrollToElement(i),this.attemptFocus(i))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const i=this.window.history;i&&i.scrollRestoration&&(i.scrollRestoration=e)}}scrollToElement(e){const i=e.getBoundingClientRect(),a=i.left+this.window.pageXOffset,c=i.top+this.window.pageYOffset,f=this.offset();this.window.scrollTo(a-f[0],c-f[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=yd(this.window.history)||yd(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function yd(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class yc extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new yc,te||(te=t)}onAndCancel(e,i,a){return e.addEventListener(i,a,!1),()=>{e.removeEventListener(i,a,!1)}}dispatchEvent(e,i){e.dispatchEvent(i)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,i){return(i=i||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,i){return"window"===i?window:"document"===i?e:"body"===i?e.body:null}getBaseHref(e){const i=(vc=vc||document.querySelector("base"),vc?vc.getAttribute("href"):null);return null==i?null:function(t){ep=ep||document.createElement("a"),ep.setAttribute("href",t);const e=ep.pathname;return"/"===e.charAt(0)?e:`/${e}`}(i)}resetBaseElement(){vc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(t,e){e=encodeURIComponent(e);for(const i of t.split(";")){const a=i.indexOf("="),[c,f]=-1==a?[i,""]:[i.slice(0,a),i.slice(a+1)];if(c.trim()===e)return decodeURIComponent(f)}return null}(document.cookie,e)}}let ep,vc=null;const oC=new v.OlP("TRANSITION_ID"),sC=[{provide:v.ip1,useFactory:function(t,e,i){return()=>{i.get(v.CZH).donePromise.then(()=>{const a=fe();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(f=>f.getAttribute("ng-transition")===t).forEach(f=>a.remove(f))})}},deps:[oC,de,v.zs3],multi:!0}];class Jt{static init(){(0,v.VLi)(new Jt)}addToWindow(e){v.dqk.getAngularTestability=(a,c=!0)=>{const f=e.findTestabilityInTree(a,c);if(null==f)throw new Error("Could not find testability for element.");return f},v.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),v.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),v.dqk.frameworkStabilizers||(v.dqk.frameworkStabilizers=[]),v.dqk.frameworkStabilizers.push(a=>{const c=v.dqk.getAllAngularTestabilities();let f=c.length,p=!1;const m=function(b){p=p||b,f--,0==f&&a(p)};c.forEach(function(b){b.whenStable(m)})})}findTestabilityInTree(e,i,a){if(null==i)return null;const c=e.getTestability(i);return null!=c?c:a?fe().isShadowRoot(i)?this.findTestabilityInTree(e,i.host,!0):this.findTestabilityInTree(e,i.parentElement,!0):null}}let aC=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=v.Yz7({token:t,factory:t.\u0275fac}),t})();const bc=new v.OlP("EventManagerPlugins");let _d=(()=>{class t{constructor(i,a){this._zone=a,this._eventNameToPlugin=new Map,i.forEach(c=>c.manager=this),this._plugins=i.slice().reverse()}addEventListener(i,a,c){return this._findPluginFor(a).addEventListener(i,a,c)}addGlobalEventListener(i,a,c){return this._findPluginFor(a).addGlobalEventListener(i,a,c)}getZone(){return this._zone}_findPluginFor(i){const a=this._eventNameToPlugin.get(i);if(a)return a;const c=this._plugins;for(let f=0;f<c.length;f++){const p=c[f];if(p.supports(i))return this._eventNameToPlugin.set(i,p),p}throw new Error(`No event manager plugin found for event ${i}`)}}return t.\u0275fac=function(i){return new(i||t)(v.LFG(bc),v.LFG(v.R0b))},t.\u0275prov=v.Yz7({token:t,factory:t.\u0275fac}),t})();class rp{constructor(e){this._doc=e}addGlobalEventListener(e,i,a){const c=fe().getGlobalEventTarget(this._doc,e);if(!c)throw new Error(`Unsupported event target ${c} for event ${i}`);return this.addEventListener(c,i,a)}}let ip=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(i){const a=new Set;i.forEach(c=>{this._stylesSet.has(c)||(this._stylesSet.add(c),a.add(c))}),this.onStylesAdded(a)}onStylesAdded(i){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=v.Yz7({token:t,factory:t.\u0275fac}),t})(),wc=(()=>{class t extends ip{constructor(i){super(),this._doc=i,this._hostNodes=new Map,this._hostNodes.set(i.head,[])}_addStylesToHost(i,a,c){i.forEach(f=>{const p=this._doc.createElement("style");p.textContent=f,c.push(a.appendChild(p))})}addHost(i){const a=[];this._addStylesToHost(this._stylesSet,i,a),this._hostNodes.set(i,a)}removeHost(i){const a=this._hostNodes.get(i);a&&a.forEach(Ev),this._hostNodes.delete(i)}onStylesAdded(i){this._hostNodes.forEach((a,c)=>{this._addStylesToHost(i,c,a)})}ngOnDestroy(){this._hostNodes.forEach(i=>i.forEach(Ev))}}return t.\u0275fac=function(i){return new(i||t)(v.LFG(de))},t.\u0275prov=v.Yz7({token:t,factory:t.\u0275fac}),t})();function Ev(t){fe().remove(t)}const he={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},pt=/%COMP%/g;function Sa(t,e,i){for(let a=0;a<e.length;a++){let c=e[a];Array.isArray(c)?Sa(t,c,i):(c=c.replace(pt,t),i.push(c))}return i}function uC(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Aa=(()=>{class t{constructor(i,a,c){this.eventManager=i,this.sharedStylesHost=a,this.appId=c,this.rendererByCompId=new Map,this.defaultRenderer=new Ma(i)}createRenderer(i,a){if(!i||!a)return this.defaultRenderer;switch(a.encapsulation){case v.ifc.Emulated:{let c=this.rendererByCompId.get(a.id);return c||(c=new Na(this.eventManager,this.sharedStylesHost,a,this.appId),this.rendererByCompId.set(a.id,c)),c.applyToHost(i),c}case 1:case v.ifc.ShadowDom:return new Qi(this.eventManager,this.sharedStylesHost,i,a);default:if(!this.rendererByCompId.has(a.id)){const c=Sa(a.id,a.styles,[]);this.sharedStylesHost.addStyles(c),this.rendererByCompId.set(a.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(i){return new(i||t)(v.LFG(_d),v.LFG(wc),v.LFG(v.AFp))},t.\u0275prov=v.Yz7({token:t,factory:t.\u0275fac}),t})();class Ma{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,i){return i?document.createElementNS(he[i]||i,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,i){e.appendChild(i)}insertBefore(e,i,a){e&&e.insertBefore(i,a)}removeChild(e,i){e&&e.removeChild(i)}selectRootElement(e,i){let a="string"==typeof e?document.querySelector(e):e;if(!a)throw new Error(`The selector "${e}" did not match any elements`);return i||(a.textContent=""),a}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,i,a,c){if(c){i=c+":"+i;const f=he[c];f?e.setAttributeNS(f,i,a):e.setAttribute(i,a)}else e.setAttribute(i,a)}removeAttribute(e,i,a){if(a){const c=he[a];c?e.removeAttributeNS(c,i):e.removeAttribute(`${a}:${i}`)}else e.removeAttribute(i)}addClass(e,i){e.classList.add(i)}removeClass(e,i){e.classList.remove(i)}setStyle(e,i,a,c){c&(v.JOm.DashCase|v.JOm.Important)?e.style.setProperty(i,a,c&v.JOm.Important?"important":""):e.style[i]=a}removeStyle(e,i,a){a&v.JOm.DashCase?e.style.removeProperty(i):e.style[i]=""}setProperty(e,i,a){e[i]=a}setValue(e,i){e.nodeValue=i}listen(e,i,a){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,i,uC(a)):this.eventManager.addEventListener(e,i,uC(a))}}class Na extends Ma{constructor(e,i,a,c){super(e),this.component=a;const f=Sa(c+"-"+a.id,a.styles,[]);i.addStyles(f),this.contentAttr="_ngcontent-%COMP%".replace(pt,c+"-"+a.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(pt,t)}(c+"-"+a.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,i){const a=super.createElement(e,i);return super.setAttribute(a,this.contentAttr,""),a}}class Qi extends Ma{constructor(e,i,a,c){super(e),this.sharedStylesHost=i,this.hostEl=a,this.shadowRoot=a.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=Sa(c.id,c.styles,[]);for(let p=0;p<f.length;p++){const m=document.createElement("style");m.textContent=f[p],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,i){return super.appendChild(this.nodeOrShadowRoot(e),i)}insertBefore(e,i,a){return super.insertBefore(this.nodeOrShadowRoot(e),i,a)}removeChild(e,i){return super.removeChild(this.nodeOrShadowRoot(e),i)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let cC=(()=>{class t extends rp{constructor(i){super(i)}supports(i){return!0}addEventListener(i,a,c){return i.addEventListener(a,c,!1),()=>this.removeEventListener(i,a,c)}removeEventListener(i,a,c){return i.removeEventListener(a,c)}}return t.\u0275fac=function(i){return new(i||t)(v.LFG(de))},t.\u0275prov=v.Yz7({token:t,factory:t.\u0275fac}),t})();const Cc=["alt","control","meta","shift"],Mv={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dp={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Jn={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Co=(()=>{class t extends rp{constructor(i){super(i)}supports(i){return null!=t.parseEventName(i)}addEventListener(i,a,c){const f=t.parseEventName(a),p=t.eventCallback(f.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fe().onAndCancel(i,f.domEventName,p))}static parseEventName(i){const a=i.toLowerCase().split("."),c=a.shift();if(0===a.length||"keydown"!==c&&"keyup"!==c)return null;const f=t._normalizeKey(a.pop());let p="";if(Cc.forEach(b=>{const E=a.indexOf(b);E>-1&&(a.splice(E,1),p+=b+".")}),p+=f,0!=a.length||0===f.length)return null;const m={};return m.domEventName=c,m.fullKey=p,m}static getEventFullKey(i){let a="",c=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&dp.hasOwnProperty(e)&&(e=dp[e]))}return Mv[e]||e}(i);return c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),Cc.forEach(f=>{f!=c&&Jn[f](i)&&(a+=f+".")}),a+=c,a}static eventCallback(i,a,c){return f=>{t.getEventFullKey(f)===i&&c.runGuarded(()=>a(f))}}static _normalizeKey(i){switch(i){case"esc":return"escape";default:return i}}}return t.\u0275fac=function(i){return new(i||t)(v.LFG(de))},t.\u0275prov=v.Yz7({token:t,factory:t.\u0275fac}),t})();const yC=(0,v.eFA)(v._c5,"browser",[{provide:v.Lbi,useValue:"browser"},{provide:v.g9A,useValue:function(){yc.makeCurrent(),Jt.init()},multi:!0},{provide:de,useFactory:function(){return(0,v.RDi)(document),document},deps:[]}]),Do=[[],{provide:v.zSh,useValue:"root"},{provide:v.qLn,useFactory:function(){return new v.qLn},deps:[]},{provide:bc,useClass:cC,multi:!0,deps:[de,v.R0b,v.Lbi]},{provide:bc,useClass:Co,multi:!0,deps:[de]},[],{provide:Aa,useClass:Aa,deps:[_d,wc,v.AFp]},{provide:v.FYo,useExisting:Aa},{provide:ip,useExisting:wc},{provide:wc,useClass:wc,deps:[de]},{provide:v.dDg,useClass:v.dDg,deps:[v.R0b]},{provide:_d,useClass:_d,deps:[bc,v.R0b]},{provide:class{},useClass:aC,deps:[]},[]];let Dc=(()=>{class t{constructor(i){if(i)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(i){return{ngModule:t,providers:[{provide:v.AFp,useValue:i.appId},{provide:oC,useExisting:v.AFp},sC]}}}return t.\u0275fac=function(i){return new(i||t)(v.LFG(t,12))},t.\u0275mod=v.oAB({type:t}),t.\u0275inj=v.cJS({providers:Do,imports:[eC,v.hGG]}),t})();"undefined"!=typeof window&&window;var Wt=x(4402),Ti=x(7574),_p=x(9796),it=x(8002),bp=x(1555);function hs(t,e){return new Ti.y(i=>{const a=t.length;if(0===a)return void i.complete();const c=new Array(a);let f=0,p=0;for(let m=0;m<a;m++){const b=(0,Wt.D)(t[m]);let E=!1;i.add(b.subscribe({next:D=>{E||(E=!0,p++),c[m]=D},error:D=>i.error(D),complete:()=>{f++,(f===a||!E)&&(p===a&&i.next(e?e.reduce((D,I,M)=>(D[I]=c[M],D),{}):c),i.complete())}}))}})}let Sc=(()=>{class t{constructor(i,a){this._renderer=i,this._elementRef=a,this.onChange=c=>{},this.onTouched=()=>{}}setProperty(i,a){this._renderer.setProperty(this._elementRef.nativeElement,i,a)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}}return t.\u0275fac=function(i){return new(i||t)(v.Y36(v.Qsj),v.Y36(v.SBq))},t.\u0275dir=v.lG2({type:t}),t})(),ps=(()=>{class t extends Sc{}return t.\u0275fac=function(){let e;return function(a){return(e||(e=v.n5z(t)))(a||t)}}(),t.\u0275dir=v.lG2({type:t,features:[v.qOj]}),t})();const si=new v.OlP("NgValueAccessor"),Lv={provide:si,useExisting:(0,v.Gpc)(()=>To),multi:!0},DC=new v.OlP("CompositionEventMode");let To=(()=>{class t extends Sc{constructor(i,a,c){super(i,a),this._compositionMode=c,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=fe()?fe().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(i){this.setProperty("value",null==i?"":i)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}}return t.\u0275fac=function(i){return new(i||t)(v.Y36(v.Qsj),v.Y36(v.SBq),v.Y36(DC,8))},t.\u0275dir=v.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,a){1&i&&v.NdJ("input",function(f){return a._handleInput(f.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(f){return a._compositionEnd(f.target.value)})},features:[v._Bn([Lv]),v.qOj]}),t})();const Mn=new v.OlP("NgValidators"),Yi=new v.OlP("NgAsyncValidators");function TC(t){return null!=t}function Uv(t){const e=(0,v.QGY)(t)?(0,Wt.D)(t):t;return(0,v.CqO)(e),e}function SC(t){let e={};return t.forEach(i=>{e=null!=i?Object.assign(Object.assign({},e),i):e}),0===Object.keys(e).length?null:e}function jv(t,e){return e.map(i=>i(t))}function Bv(t){return t.map(e=>function(t){return!t.validate}(e)?e:i=>e.validate(i))}function Gv(t){return null!=t?function(t){if(!t)return null;const e=t.filter(TC);return 0==e.length?null:function(i){return SC(jv(i,e))}}(Bv(t)):null}function Hv(t){return null!=t?function(t){if(!t)return null;const e=t.filter(TC);return 0==e.length?null:function(i){return function(...t){if(1===t.length){const e=t[0];if((0,_p.k)(e))return hs(e,null);if((0,bp.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const i=Object.keys(e);return hs(i.map(a=>e[a]),i)}}if("function"==typeof t[t.length-1]){const e=t.pop();return hs(t=1===t.length&&(0,_p.k)(t[0])?t[0]:t,null).pipe((0,it.U)(i=>e(...i)))}return hs(t,null)}(jv(i,e).map(Uv)).pipe((0,it.U)(SC))}}(Bv(t)):null}function MC(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function $v(t){return t?Array.isArray(t)?t:[t]:[]}function Dp(t,e){return Array.isArray(t)?t.includes(e):t===e}function RC(t,e){const i=$v(e);return $v(t).forEach(c=>{Dp(i,c)||i.push(c)}),i}function Pa(t,e){return $v(e).filter(i=>!Dp(t,i))}let OC=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=Gv(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=Hv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i){this.control&&this.control.reset(i)}hasError(i,a){return!!this.control&&this.control.hasError(i,a)}getError(i,a){return this.control?this.control.getError(i,a):null}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=v.lG2({type:t}),t})(),bt=(()=>{class t extends OC{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(a){return(e||(e=v.n5z(t)))(a||t)}}(),t.\u0275dir=v.lG2({type:t,features:[v.qOj]}),t})();class ai extends OC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ac{constructor(e){this._cd=e}is(e){var i,a,c;return"submitted"===e?!!(null===(i=this._cd)||void 0===i?void 0:i.submitted):!!(null===(c=null===(a=this._cd)||void 0===a?void 0:a.control)||void 0===c?void 0:c[e])}}let dr=(()=>{class t extends Ac{constructor(i){super(i)}}return t.\u0275fac=function(i){return new(i||t)(v.Y36(ai,2))},t.\u0275dir=v.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,a){2&i&&v.ekj("ng-untouched",a.is("untouched"))("ng-touched",a.is("touched"))("ng-pristine",a.is("pristine"))("ng-dirty",a.is("dirty"))("ng-valid",a.is("valid"))("ng-invalid",a.is("invalid"))("ng-pending",a.is("pending"))},features:[v.qOj]}),t})(),Vr=(()=>{class t extends Ac{constructor(i){super(i)}}return t.\u0275fac=function(i){return new(i||t)(v.Y36(bt,10))},t.\u0275dir=v.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,a){2&i&&v.ekj("ng-untouched",a.is("untouched"))("ng-touched",a.is("touched"))("ng-pristine",a.is("pristine"))("ng-dirty",a.is("dirty"))("ng-valid",a.is("valid"))("ng-invalid",a.is("invalid"))("ng-pending",a.is("pending"))("ng-submitted",a.is("submitted"))},features:[v.qOj]}),t})();function Fa(t,e){qv(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(i=>{t._pendingValue=i,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&bs(t,e)})}(t,e),function(t,e){const i=(a,c)=>{e.valueAccessor.writeValue(a),c&&e.viewToModelUpdate(a)};t.registerOnChange(i),e._registerOnDestroy(()=>{t._unregisterOnChange(i)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&bs(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const i=a=>{e.valueAccessor.setDisabledState(a)};t.registerOnDisabledChange(i),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(i)})}}(t,e)}function Sd(t,e){t.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(e)})}function qv(t,e){const i=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(MC(i,e.validator)):"function"==typeof i&&t.setValidators([i]);const a=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(MC(a,e.asyncValidator)):"function"==typeof a&&t.setAsyncValidators([a]);const c=()=>t.updateValueAndValidity();Sd(e._rawValidators,c),Sd(e._rawAsyncValidators,c)}function bs(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ws(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}const Ji="VALID",La="INVALID",ci="PENDING",xc="DISABLED";function Ap(t){return(Es(t)?t.validators:t)||null}function Ad(t){return Array.isArray(t)?Gv(t):t||null}function Wv(t,e){return(Es(e)?e.asyncValidators:t)||null}function Md(t){return Array.isArray(t)?Hv(t):t||null}function Es(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Ao{constructor(e,i){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=i,this._composedValidatorFn=Ad(this._rawValidators),this._composedAsyncValidatorFn=Md(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ji}get invalid(){return this.status===La}get pending(){return this.status==ci}get disabled(){return this.status===xc}get enabled(){return this.status!==xc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Ad(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Md(e)}addValidators(e){this.setValidators(RC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(RC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Pa(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Pa(e,this._rawAsyncValidators))}hasValidator(e){return Dp(this._rawValidators,e)}hasAsyncValidator(e){return Dp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ci,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const i=this._parentMarkedDirty(e.onlySelf);this.status=xc,this.errors=null,this._forEachChild(a=>{a.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:i})),this._onDisabledChange.forEach(a=>a(!0))}enable(e={}){const i=this._parentMarkedDirty(e.onlySelf);this.status=Ji,this._forEachChild(a=>{a.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:i})),this._onDisabledChange.forEach(a=>a(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ji||this.status===ci)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xc:Ji}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ci,this._hasOwnPendingAsyncValidator=!0;const i=Uv(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(a=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(a,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,i={}){this.errors=e,this._updateControlsErrors(!1!==i.emitEvent)}get(e){return function(t,e,i){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let a=t;return e.forEach(c=>{a=a instanceof en?a.controls.hasOwnProperty(c)?a.controls[c]:null:a instanceof zv&&a.at(c)||null}),a}(this,e)}getError(e,i){const a=i?this.get(i):this;return a&&a.errors?a.errors[e]:null}hasError(e,i){return!!this.getError(e,i)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new v.vpe,this.statusChanges=new v.vpe}_calculateStatus(){return this._allControlsDisabled()?xc:this.errors?La:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ci)?ci:this._anyControlsHaveStatus(La)?La:Ji}_anyControlsHaveStatus(e){return this._anyControls(i=>i.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Es(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Nd extends Ao{constructor(e=null,i,a){super(Ap(i),Wv(a,i)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,i={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(a=>a(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(e,i={}){this.setValue(e,i)}reset(e=null,i={}){this._applyFormState(e),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ws(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ws(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class en extends Ao{constructor(e,i,a){super(Ap(i),Wv(a,i)),this.controls=e,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,i){return this.controls[e]?this.controls[e]:(this.controls[e]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(e,i,a={}){this.registerControl(e,i),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}removeControl(e,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(e,i,a={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],i&&this.registerControl(e,i),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,i={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(a=>{this._throwIfControlMissing(a),this.controls[a].setValue(e[a],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(e,i={}){null!=e&&(Object.keys(e).forEach(a=>{this.controls[a]&&this.controls[a].patchValue(e[a],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(e={},i={}){this._forEachChild((a,c)=>{a.reset(e[c],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(e,i,a)=>(e[a]=i instanceof Nd?i.value:i.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(i,a)=>!!a._syncPendingControls()||i);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(i=>{const a=this.controls[i];a&&e(a,i)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const i of Object.keys(this.controls)){const a=this.controls[i];if(this.contains(i)&&e(a))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,i,a)=>((i.enabled||this.disabled)&&(e[a]=i.value),e))}_reduceChildren(e,i){let a=e;return this._forEachChild((c,f)=>{a=i(a,c,f)}),a}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((i,a)=>{if(void 0===e[a])throw new Error(`Must supply a value for form control with name: '${a}'.`)})}}class zv extends Ao{constructor(e,i,a){super(Ap(i),Wv(a,i)),this.controls=e,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,i={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(e,i,a={}){this.controls.splice(e,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:a.emitEvent})}removeAt(e,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(e,i,a={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),i&&(this.controls.splice(e,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,i={}){this._checkAllValuesPresent(e),e.forEach((a,c)=>{this._throwIfControlMissing(c),this.at(c).setValue(a,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(e,i={}){null!=e&&(e.forEach((a,c)=>{this.at(c)&&this.at(c).patchValue(a,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(e=[],i={}){this._forEachChild((a,c)=>{a.reset(e[c],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(e=>e instanceof Nd?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((i,a)=>!!a._syncPendingControls()||i,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((i,a)=>{e(i,a)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(i=>i.enabled&&e(i))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((i,a)=>{if(void 0===e[a])throw new Error(`Must supply a value for form control at index: ${a}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const IA={provide:bt,useExisting:(0,v.Gpc)(()=>Rc)},Zi=(()=>Promise.resolve(null))();let Rc=(()=>{class t extends bt{constructor(i,a){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new v.vpe,this.form=new en({},Gv(i),Hv(a))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){Zi.then(()=>{const a=this._findContainer(i.path);i.control=a.registerControl(i.name,i.control),Fa(i.control,i),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){Zi.then(()=>{const a=this._findContainer(i.path);a&&a.removeControl(i.name),ws(this._directives,i)})}addFormGroup(i){Zi.then(()=>{const a=this._findContainer(i.path),c=new en({});(function(t,e){qv(t,e)})(c,i),a.registerControl(i.name,c),c.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){Zi.then(()=>{const a=this._findContainer(i.path);a&&a.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,a){Zi.then(()=>{this.form.get(i.path).setValue(a)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,function(t,e){t._syncPendingControls(),e.forEach(i=>{const a=i.control;"submit"===a.updateOn&&a._pendingChange&&(i.viewToModelUpdate(a._pendingValue),a._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(i),!1}onReset(){this.resetForm()}resetForm(i){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}}return t.\u0275fac=function(i){return new(i||t)(v.Y36(Mn,10),v.Y36(Yi,10))},t.\u0275dir=v.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,a){1&i&&v.NdJ("submit",function(f){return a.onSubmit(f)})("reset",function(){return a.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[v._Bn([IA]),v.qOj]}),t})();const Xi={provide:ai,useExisting:(0,v.Gpc)(()=>xd)},eo=(()=>Promise.resolve(null))();let xd=(()=>{class t extends ai{constructor(i,a,c,f){super(),this.control=new Nd,this._registered=!1,this.update=new v.vpe,this._parent=i,this._setValidators(a),this._setAsyncValidators(c),this.valueAccessor=function(t,e){if(!e)return null;let i,a,c;return Array.isArray(e),e.forEach(f=>{f.constructor===To?i=f:function(t){return Object.getPrototypeOf(t.constructor)===ps}(f)?a=f:c=f}),c||a||i||null}(0,f)}ngOnChanges(i){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in i&&this._updateDisabled(i),function(t,e){if(!t.hasOwnProperty("model"))return!1;const i=t.model;return!!i.isFirstChange()||!Object.is(e,i.currentValue)}(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Fa(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(i){eo.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1})})}_updateDisabled(i){const a=i.isDisabled.currentValue,c=""===a||a&&"false"!==a;eo.then(()=>{c&&!this.control.disabled?this.control.disable():!c&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(i){return new(i||t)(v.Y36(bt,9),v.Y36(Mn,10),v.Y36(Yi,10),v.Y36(si,10))},t.\u0275dir=v.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[v._Bn([Xi]),v.qOj,v.TTD]}),t})(),Rd=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=v.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),Qv=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=v.oAB({type:t}),t.\u0275inj=v.cJS({}),t})(),Fp=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=v.oAB({type:t}),t.\u0275inj=v.cJS({imports:[[Qv]]}),t})(),MA=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=v.oAB({type:t}),t.\u0275inj=v.cJS({imports:[Fp]}),t})();var We=x(5917),Ts=x(9765),iD=x(7971);class Ur extends Ts.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const i=super._subscribe(e);return i&&!i.closed&&e.next(this._value),i}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new iD.N;return this._value}next(e){super.next(this._value=e)}}var u_=x(4869),di=x(7393);class oD extends di.L{notifyNext(e,i,a,c,f){this.destination.next(i)}notifyError(e,i){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class sD extends di.L{constructor(e,i,a){super(),this.parent=e,this.outerValue=i,this.outerIndex=a,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var c_=x(7444);function Ud(t,e,i,a,c=new sD(t,i,a)){if(!c.closed)return e instanceof Ti.y?e.subscribe(c):(0,c_.s)(e)(c)}var l_=x(6693);const jd={};class tn{constructor(e){this.resultSelector=e}call(e,i){return i.subscribe(new uD(e,this.resultSelector))}}class uD extends oD{constructor(e,i){super(e),this.resultSelector=i,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(jd),this.observables.push(e)}_complete(){const e=this.observables,i=e.length;if(0===i)this.destination.complete();else{this.active=i,this.toRespond=i;for(let a=0;a<i;a++)this.add(Ud(this,e[a],void 0,a))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,i,a){const c=this.values,p=this.toRespond?c[a]===jd?--this.toRespond:this.toRespond:0;c[a]=i,0===p&&(this.resultSelector?this._tryResultSelector(c):this.destination.next(c.slice()))}_tryResultSelector(e){let i;try{i=this.resultSelector.apply(this,e)}catch(a){return void this.destination.error(a)}this.destination.next(i)}}const Ha=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Pc=x(3282);function kp(...t){return(0,Pc.J)(1)((0,We.of)(...t))}var No=x(9193);function d_(t){return new Ti.y(e=>{let i;try{i=t()}catch(c){return void e.error(c)}return(i?(0,Wt.D)(i):(0,No.c)()).subscribe(e)})}var lD=x(2441),Fc=x(5345);function Xn(t,e){return"function"==typeof e?i=>i.pipe(Xn((a,c)=>(0,Wt.D)(t(a,c)).pipe((0,it.U)((f,p)=>e(a,f,c,p))))):i=>i.lift(new kc(t))}class kc{constructor(e){this.project=e}call(e,i){return i.subscribe(new er(e,this.project))}}class er extends Fc.Ds{constructor(e,i){super(e),this.project=i,this.index=0}_next(e){let i;const a=this.index++;try{i=this.project(e,a)}catch(c){return void this.destination.error(c)}this._innerSub(i)}_innerSub(e){const i=this.innerSubscription;i&&i.unsubscribe();const a=new Fc.IY(this),c=this.destination;c.add(a),this.innerSubscription=(0,Fc.ft)(e,a),this.innerSubscription!==a&&c.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const Lp=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Bd(t){return e=>0===t?(0,No.c)():e.lift(new Bn(t))}class Bn{constructor(e){if(this.total=e,this.total<0)throw new Lp}call(e,i){return i.subscribe(new Lc(e,this.total))}}class Lc extends di.L{constructor(e,i){super(e),this.total=i,this.count=0}_next(e){const i=this.total,a=++this.count;a<=i&&(this.destination.next(e),a===i&&(this.destination.complete(),this.unsubscribe()))}}function $a(...t){const e=t[t.length-1];return(0,u_.K)(e)?(t.pop(),i=>kp(t,i,e)):i=>kp(t,i)}function Vc(t,e){let i=!1;return arguments.length>=2&&(i=!0),function(c){return c.lift(new dD(t,e,i))}}class dD{constructor(e,i,a=!1){this.accumulator=e,this.seed=i,this.hasSeed=a}call(e,i){return i.subscribe(new h_(e,this.accumulator,this.seed,this.hasSeed))}}class h_ extends di.L{constructor(e,i,a,c){super(e),this.accumulator=i,this._seed=a,this.hasSeed=c,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const i=this.index++;let a;try{a=this.accumulator(this.seed,e,i)}catch(c){this.destination.error(c)}this.seed=a,this.destination.next(a)}}function to(t,e){return function(a){return a.lift(new p_(t,e))}}class p_{constructor(e,i){this.predicate=e,this.thisArg=i}call(e,i){return i.subscribe(new fD(e,this.predicate,this.thisArg))}}class fD extends di.L{constructor(e,i,a){super(e),this.predicate=i,this.thisArg=a,this.count=0}_next(e){let i;try{i=this.predicate.call(this.thisArg,e,this.count++)}catch(a){return void this.destination.error(a)}i&&this.destination.next(e)}}function xo(t){return function(i){const a=new hD(t),c=i.lift(a);return a.caught=c}}class hD{constructor(e){this.selector=e}call(e,i){return i.subscribe(new pD(e,this.selector,this.caught))}}class pD extends Fc.Ds{constructor(e,i,a){super(e),this.selector=i,this.caught=a}error(e){if(!this.isStopped){let i;try{i=this.selector(e,this.caught)}catch(f){return void super.error(f)}this._unsubscribeAndRecycle();const a=new Fc.IY(this);this.add(a);const c=(0,Fc.ft)(i,a);c!==a&&this.add(c)}}}var tr=x(9773);function qa(t,e){return(0,tr.zg)(t,e,1)}function Uc(t){return function(i){return 0===t?(0,No.c)():i.lift(new g_(t))}}class g_{constructor(e){if(this.total=e,this.total<0)throw new Lp}call(e,i){return i.subscribe(new gD(e,this.total))}}class gD extends di.L{constructor(e,i){super(e),this.total=i,this.ring=new Array,this.count=0}_next(e){const i=this.ring,a=this.total,c=this.count++;i.length<a?i.push(e):i[c%a]=e}_complete(){const e=this.destination;let i=this.count;if(i>0){const a=this.count>=this.total?this.total:this.count,c=this.ring;for(let f=0;f<a;f++){const p=i++%a;e.next(c[p])}}e.complete()}}function mD(t=yD){return e=>e.lift(new m_(t))}class m_{constructor(e){this.errorFactory=e}call(e,i){return i.subscribe(new Gd(e,this.errorFactory))}}class Gd extends di.L{constructor(e,i){super(e),this.errorFactory=i,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(i){e=i}this.destination.error(e)}}}function yD(){return new Ha}function y_(t=null){return e=>e.lift(new Wa(t))}class Wa{constructor(e){this.defaultValue=e}call(e,i){return i.subscribe(new vD(e,this.defaultValue))}}class vD extends di.L{constructor(e,i){super(e),this.defaultValue=i,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var v_=x(4487);function Ss(t,e){const i=arguments.length>=2;return a=>a.pipe(t?to((c,f)=>t(c,f,a)):v_.y,Bd(1),i?y_(e):mD(()=>new Ha))}var Dr=x(3342),Hd=x(1307),Ir=x(5319);class bD{constructor(e){this.callback=e}call(e,i){return i.subscribe(new wD(e,this.callback))}}class wD extends di.L{constructor(e,i){super(e),this.add(new Ir.w(i))}}class Ai{constructor(e,i){this.id=e,this.url=i}}class b_ extends Ai{constructor(e,i,a="imperative",c=null){super(e,i),this.navigationTrigger=a,this.restoredState=c}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class za extends Ai{constructor(e,i,a){super(e,i),this.urlAfterRedirects=a}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class w_ extends Ai{constructor(e,i,a){super(e,i),this.reason=a}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ED extends Ai{constructor(e,i,a){super(e,i),this.error=a}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class CD extends Ai{constructor(e,i,a,c){super(e,i),this.urlAfterRedirects=a,this.state=c}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ka extends Ai{constructor(e,i,a,c){super(e,i),this.urlAfterRedirects=a,this.state=c}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mi extends Ai{constructor(e,i,a,c,f){super(e,i),this.urlAfterRedirects=a,this.state=c,this.shouldActivate=f}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xA extends Ai{constructor(e,i,a,c){super(e,i),this.urlAfterRedirects=a,this.state=c}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RA extends Ai{constructor(e,i,a,c){super(e,i),this.urlAfterRedirects=a,this.state=c}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vp{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class DD{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ni{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Up{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jp{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ID{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bp{constructor(e,i,a){this.routerEvent=e,this.position=i,this.anchor=a}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const at="primary";class E_{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){const i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function As(t){return new E_(t)}const $d="ngNavigationCancelingError";function jc(t){const e=Error("NavigationCancelingError: "+t);return e[$d]=!0,e}function OA(t,e,i){const a=i.path.split("/");if(a.length>t.length||"full"===i.pathMatch&&(e.hasChildren()||a.length<t.length))return null;const c={};for(let f=0;f<a.length;f++){const p=a[f],m=t[f];if(p.startsWith(":"))c[p.substring(1)]=m;else if(p!==m.path)return null}return{consumed:t.slice(0,a.length),posParams:c}}function jr(t,e){const i=t?Object.keys(t):void 0,a=e?Object.keys(e):void 0;if(!i||!a||i.length!=a.length)return!1;let c;for(let f=0;f<i.length;f++)if(c=i[f],!Gp(t[c],e[c]))return!1;return!0}function Gp(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const i=[...t].sort(),a=[...e].sort();return i.every((c,f)=>a[f]===c)}return t===e}function D_(t){return Array.prototype.concat.apply([],t)}function qd(t){return t.length>0?t[t.length-1]:null}function Nn(t,e){for(const i in t)t.hasOwnProperty(i)&&e(t[i],i)}function xi(t){return(0,v.CqO)(t)?t:(0,v.QGY)(t)?(0,Wt.D)(Promise.resolve(t)):(0,We.of)(t)}const SD={exact:function qp(t,e,i){if(!Ms(t.segments,e.segments)||!Bc(t.segments,e.segments,i)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const a in e.children)if(!t.children[a]||!qp(t.children[a],e.children[a],i))return!1;return!0},subset:T_},I_={exact:function(t,e){return jr(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(i=>Gp(t[i],e[i]))},ignored:()=>!0};function Hp(t,e,i){return SD[i.paths](t.root,e.root,i.matrixParams)&&I_[i.queryParams](t.queryParams,e.queryParams)&&!("exact"===i.fragment&&t.fragment!==e.fragment)}function T_(t,e,i){return S_(t,e,e.segments,i)}function S_(t,e,i,a){if(t.segments.length>i.length){const c=t.segments.slice(0,i.length);return!(!Ms(c,i)||e.hasChildren()||!Bc(c,i,a))}if(t.segments.length===i.length){if(!Ms(t.segments,i)||!Bc(t.segments,i,a))return!1;for(const c in e.children)if(!t.children[c]||!T_(t.children[c],e.children[c],a))return!1;return!0}{const c=i.slice(0,t.segments.length),f=i.slice(t.segments.length);return!!(Ms(t.segments,c)&&Bc(t.segments,c,a)&&t.children[at])&&S_(t.children[at],e,f,a)}}function Bc(t,e,i){return e.every((a,c)=>I_[i](t[c].parameters,a.parameters))}class Ro{constructor(e,i,a){this.root=e,this.queryParams=i,this.fragment=a}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=As(this.queryParams)),this._queryParamMap}toString(){return M_.serialize(this)}}class ut{constructor(e,i){this.segments=e,this.children=i,this.parent=null,Nn(i,(a,c)=>a.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gc(this)}}class Ya{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=As(this.parameters)),this._parameterMap}toString(){return Qd(this)}}function Ms(t,e){return t.length===e.length&&t.every((i,a)=>i.path===e[a].path)}class zp{}class Kp{parse(e){const i=new FA(e);return new Ro(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){var t;return`${`/${Ns(e.root,!0)}`}${function(t){const e=Object.keys(t).map(i=>{const a=t[i];return Array.isArray(a)?a.map(c=>`${xs(i)}=${xs(c)}`).join("&"):`${xs(i)}=${xs(a)}`}).filter(i=>!!i);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const M_=new Kp;function Gc(t){return t.segments.map(e=>Qd(e)).join("/")}function Ns(t,e){if(!t.hasChildren())return Gc(t);if(e){const i=t.children[at]?Ns(t.children[at],!1):"",a=[];return Nn(t.children,(c,f)=>{f!==at&&a.push(`${f}:${Ns(c,!1)}`)}),a.length>0?`${i}(${a.join("//")})`:i}{const i=function(t,e){let i=[];return Nn(t.children,(a,c)=>{c===at&&(i=i.concat(e(a,c)))}),Nn(t.children,(a,c)=>{c!==at&&(i=i.concat(e(a,c)))}),i}(t,(a,c)=>c===at?[Ns(t.children[at],!1)]:[`${c}:${Ns(a,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[at]?`${Gc(t)}/${i[0]}`:`${Gc(t)}/(${i.join("//")})`}}function Qp(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xs(t){return Qp(t).replace(/%3B/gi,";")}function Kd(t){return Qp(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ja(t){return decodeURIComponent(t)}function Yp(t){return Ja(t.replace(/\+/g,"%20"))}function Qd(t){return`${Kd(t.path)}${function(t){return Object.keys(t).map(e=>`;${Kd(e)}=${Kd(t[e])}`).join("")}(t.parameters)}`}const N_=/^[^\/()?;=#]+/;function Yd(t){const e=t.match(N_);return e?e[0]:""}const MD=/^[^=?&#]+/,Jp=/^[^?&#]+/;class FA{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ut([],{}):new ut([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let a={};return this.peekStartsWith("(")&&(a=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(a[at]=new ut(e,i)),a}parseSegment(){const e=Yd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ya(Ja(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const i=Yd(this.remaining);if(!i)return;this.capture(i);let a="";if(this.consumeOptional("=")){const c=Yd(this.remaining);c&&(a=c,this.capture(a))}e[Ja(i)]=Ja(a)}parseQueryParam(e){const i=function(t){const e=t.match(MD);return e?e[0]:""}(this.remaining);if(!i)return;this.capture(i);let a="";if(this.consumeOptional("=")){const p=function(t){const e=t.match(Jp);return e?e[0]:""}(this.remaining);p&&(a=p,this.capture(a))}const c=Yp(i),f=Yp(a);if(e.hasOwnProperty(c)){let p=e[c];Array.isArray(p)||(p=[p],e[c]=p),p.push(f)}else e[c]=f}parseParens(e){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const a=Yd(this.remaining),c=this.remaining[a.length];if("/"!==c&&")"!==c&&";"!==c)throw new Error(`Cannot parse url '${this.url}'`);let f;a.indexOf(":")>-1?(f=a.substr(0,a.indexOf(":")),this.capture(f),this.capture(":")):e&&(f=at);const p=this.parseChildren();i[f]=1===Object.keys(p).length?p[at]:new ut([],p),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Zp{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){const i=Xp(e,this._root);return i?i.children.map(a=>a.value):[]}firstChild(e){const i=Xp(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){const i=Jd(e,this._root);return i.length<2?[]:i[i.length-2].children.map(c=>c.value).filter(c=>c!==e)}pathFromRoot(e){return Jd(e,this._root).map(i=>i.value)}}function Xp(t,e){if(t===e.value)return e;for(const i of e.children){const a=Xp(t,i);if(a)return a}return null}function Jd(t,e){if(t===e.value)return[e];for(const i of e.children){const a=Jd(t,i);if(a.length)return a.unshift(e),a}return[]}class no{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}}function $c(t){const e={};return t&&t.children.forEach(i=>e[i.value.outlet]=i),e}class Br extends Zp{constructor(e,i){super(e),this.snapshot=i,tg(this,e)}toString(){return this.snapshot.toString()}}function O_(t,e){const i=function(t,e){const p=new Zd([],{},{},"",{},at,e,null,t.root,-1,{});return new eg("",new no(p,[]))}(t,e),a=new Ur([new Ya("",{})]),c=new Ur({}),f=new Ur({}),p=new Ur({}),m=new Ur(""),b=new Za(a,c,p,m,f,at,e,i.root);return b.snapshot=i.root,new Br(new no(b,[]),i)}class Za{constructor(e,i,a,c,f,p,m,b){this.url=e,this.params=i,this.queryParams=a,this.fragment=c,this.data=f,this.outlet=p,this.component=m,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,it.U)(e=>As(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,it.U)(e=>As(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function F_(t,e="emptyOnly"){const i=t.pathFromRoot;let a=0;if("always"!==e)for(a=i.length-1;a>=1;){const c=i[a],f=i[a-1];if(c.routeConfig&&""===c.routeConfig.path)a--;else{if(f.component)break;a--}}return function(t){return t.reduce((e,i)=>({params:Object.assign(Object.assign({},e.params),i.params),data:Object.assign(Object.assign({},e.data),i.data),resolve:Object.assign(Object.assign({},e.resolve),i._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(a))}class Zd{constructor(e,i,a,c,f,p,m,b,E,D,I){this.url=e,this.params=i,this.queryParams=a,this.fragment=c,this.data=f,this.outlet=p,this.component=m,this.routeConfig=b,this._urlSegment=E,this._lastPathIndex=D,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=As(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=As(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(a=>a.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class eg extends Zp{constructor(e,i){super(i),this.url=e,tg(this,i)}toString(){return k_(this._root)}}function tg(t,e){e.value._routerState=t,e.children.forEach(i=>tg(t,i))}function k_(t){const e=t.children.length>0?` { ${t.children.map(k_).join(", ")} } `:"";return`${t.value}${e}`}function ng(t){if(t.snapshot){const e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,jr(e.queryParams,i.queryParams)||t.queryParams.next(i.queryParams),e.fragment!==i.fragment&&t.fragment.next(i.fragment),jr(e.params,i.params)||t.params.next(i.params),function(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!jr(t[i],e[i]))return!1;return!0}(e.url,i.url)||t.url.next(i.url),jr(e.data,i.data)||t.data.next(i.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Ze(t,e){return jr(t.params,e.params)&&function(t,e){return Ms(t,e)&&t.every((i,a)=>jr(i.parameters,e[a].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Ze(t.parent,e.parent))}function qc(t,e,i){if(i&&t.shouldReuseRoute(e.value,i.value.snapshot)){const a=i.value;a._futureSnapshot=e.value;const c=function(t,e,i){return e.children.map(a=>{for(const c of i.children)if(t.shouldReuseRoute(a.value,c.value.snapshot))return qc(t,a,c);return qc(t,a)})}(t,e,i);return new no(a,c)}{if(t.shouldAttach(e.value)){const f=t.retrieve(e.value);if(null!==f){const p=f.route;return Wc(e,p),p}}const a=function(t){return new Za(new Ur(t.url),new Ur(t.params),new Ur(t.queryParams),new Ur(t.fragment),new Ur(t.data),t.outlet,t.component,t)}(e.value),c=e.children.map(f=>qc(t,f));return new no(a,c)}}function Wc(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let i=0;i<t.children.length;++i)Wc(t.children[i],e.children[i])}function Xa(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Tr(t){return"object"==typeof t&&null!=t&&t.outlets}function zc(t,e,i,a,c){let f={};return a&&Nn(a,(p,m)=>{f[m]=Array.isArray(p)?p.map(b=>`${b}`):`${p}`}),new Ro(i.root===t?e:rg(i.root,t,e),f,c)}function rg(t,e,i){const a={};return Nn(t.children,(c,f)=>{a[f]=c===e?i:rg(c,e,i)}),new ut(t.segments,a)}class Xd{constructor(e,i,a){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=a,e&&a.length>0&&Xa(a[0]))throw new Error("Root segment cannot have matrix parameters");const c=a.find(Tr);if(c&&c!==qd(a))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ef{constructor(e,i,a){this.segmentGroup=e,this.processChildren=i,this.index=a}}function Kc(t,e,i){if(t||(t=new ut([],{})),0===t.segments.length&&t.hasChildren())return eu(t,e,i);const a=function(t,e,i){let a=0,c=e;const f={match:!1,pathIndex:0,commandIndex:0};for(;c<t.segments.length;){if(a>=i.length)return f;const p=t.segments[c],m=i[a];if(Tr(m))break;const b=`${m}`,E=a<i.length-1?i[a+1]:null;if(c>0&&void 0===b)break;if(b&&E&&"object"==typeof E&&void 0===E.outlets){if(!j_(b,E,p))return f;a+=2}else{if(!j_(b,{},p))return f;a++}c++}return{match:!0,pathIndex:c,commandIndex:a}}(t,e,i),c=i.slice(a.commandIndex);if(a.match&&a.pathIndex<t.segments.length){const f=new ut(t.segments.slice(0,a.pathIndex),{});return f.children[at]=new ut(t.segments.slice(a.pathIndex),t.children),eu(f,0,c)}return a.match&&0===c.length?new ut(t.segments,{}):a.match&&!t.hasChildren()?ig(t,e,i):a.match?eu(t,0,c):ig(t,e,i)}function eu(t,e,i){if(0===i.length)return new ut(t.segments,{});{const a=function(t){return Tr(t[0])?t[0].outlets:{[at]:t}}(i),c={};return Nn(a,(f,p)=>{"string"==typeof f&&(f=[f]),null!==f&&(c[p]=Kc(t.children[p],e,f))}),Nn(t.children,(f,p)=>{void 0===a[p]&&(c[p]=f)}),new ut(t.segments,c)}}function ig(t,e,i){const a=t.segments.slice(0,e);let c=0;for(;c<i.length;){const f=i[c];if(Tr(f)){const b=U_(f.outlets);return new ut(a,b)}if(0===c&&Xa(i[0])){a.push(new Ya(t.segments[e].path,RD(i[0]))),c++;continue}const p=Tr(f)?f.outlets[at]:`${f}`,m=c<i.length-1?i[c+1]:null;p&&m&&Xa(m)?(a.push(new Ya(p,RD(m))),c+=2):(a.push(new Ya(p,{})),c++)}return new ut(a,{})}function U_(t){const e={};return Nn(t,(i,a)=>{"string"==typeof i&&(i=[i]),null!==i&&(e[a]=ig(new ut([],{}),0,i))}),e}function RD(t){const e={};return Nn(t,(i,a)=>e[a]=`${i}`),e}function j_(t,e,i){return t==i.path&&jr(e,i.parameters)}class B_{constructor(e,i,a,c){this.routeReuseStrategy=e,this.futureState=i,this.currState=a,this.forwardEvent=c}activate(e){const i=this.futureState._root,a=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,a,e),ng(this.futureState.root),this.activateChildRoutes(i,a,e)}deactivateChildRoutes(e,i,a){const c=$c(i);e.children.forEach(f=>{const p=f.value.outlet;this.deactivateRoutes(f,c[p],a),delete c[p]}),Nn(c,(f,p)=>{this.deactivateRouteAndItsChildren(f,a)})}deactivateRoutes(e,i,a){const c=e.value,f=i?i.value:null;if(c===f)if(c.component){const p=a.getContext(c.outlet);p&&this.deactivateChildRoutes(e,i,p.children)}else this.deactivateChildRoutes(e,i,a);else f&&this.deactivateRouteAndItsChildren(i,a)}deactivateRouteAndItsChildren(e,i){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){const a=i.getContext(e.value.outlet);if(a&&a.outlet){const c=a.outlet.detach(),f=a.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,i){const a=i.getContext(e.value.outlet),c=a&&e.value.component?a.children:i,f=$c(e);for(const p of Object.keys(f))this.deactivateRouteAndItsChildren(f[p],c);a&&a.outlet&&(a.outlet.deactivate(),a.children.onOutletDeactivated(),a.attachRef=null,a.resolver=null,a.route=null)}activateChildRoutes(e,i,a){const c=$c(i);e.children.forEach(f=>{this.activateRoutes(f,c[f.value.outlet],a),this.forwardEvent(new ID(f.value.snapshot))}),e.children.length&&this.forwardEvent(new Up(e.value.snapshot))}activateRoutes(e,i,a){const c=e.value,f=i?i.value:null;if(ng(c),c===f)if(c.component){const p=a.getOrCreateContext(c.outlet);this.activateChildRoutes(e,i,p.children)}else this.activateChildRoutes(e,i,a);else if(c.component){const p=a.getOrCreateContext(c.outlet);if(this.routeReuseStrategy.shouldAttach(c.snapshot)){const m=this.routeReuseStrategy.retrieve(c.snapshot);this.routeReuseStrategy.store(c.snapshot,null),p.children.onOutletReAttached(m.contexts),p.attachRef=m.componentRef,p.route=m.route.value,p.outlet&&p.outlet.attach(m.componentRef,m.route.value),og(m.route)}else{const m=function(t){for(let e=t.parent;e;e=e.parent){const i=e.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig;if(i&&i.component)return null}return null}(c.snapshot),b=m?m.module.componentFactoryResolver:null;p.attachRef=null,p.route=c,p.resolver=b,p.outlet&&p.outlet.activateWith(c,b),this.activateChildRoutes(e,null,p.children)}}else this.activateChildRoutes(e,null,a)}}function og(t){ng(t.value),t.children.forEach(og)}class Qc{constructor(e,i){this.routes=e,this.module=i}}function Rs(t){return"function"==typeof t}function tu(t){return t instanceof Ro}const nf=Symbol("INITIAL_VALUE");function rf(){return Xn(t=>function(...t){let e,i;return(0,u_.K)(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,_p.k)(t[0])&&(t=t[0]),(0,l_.n)(t,i).lift(new tn(e))}(t.map(e=>e.pipe(Bd(1),$a(nf)))).pipe(Vc((e,i)=>{let a=!1;return i.reduce((c,f,p)=>c!==nf?c:(f===nf&&(a=!0),a||!1!==f&&p!==i.length-1&&!tu(f)?c:f),e)},nf),to(e=>e!==nf),(0,it.U)(e=>tu(e)?e:!0===e),Bd(1)))}let PD=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=v.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,a){1&i&&v._UZ(0,"router-outlet")},directives:function(){return[bg]},encapsulation:2}),t})();function FD(t,e=""){for(let i=0;i<t.length;i++){const a=t[i];Oo(a,sg(e,a))}}function Oo(t,e){t.children&&FD(t.children,e)}function sg(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function ag(t){const e=t.children&&t.children.map(ag),i=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!i.component&&(e||i.loadChildren)&&i.outlet&&i.outlet!==at&&(i.component=PD),i}function Sr(t){return t.outlet||at}function of(t,e){const i=t.filter(a=>Sr(a)===e);return i.push(...t.filter(a=>Sr(a)!==e)),i}const ug={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function nu(t,e,i){var a;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||i.length>0)?Object.assign({},ug):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const f=(e.matcher||OA)(i,t,e);if(!f)return Object.assign({},ug);const p={};Nn(f.posParams,(b,E)=>{p[E]=b.path});const m=f.consumed.length>0?Object.assign(Object.assign({},p),f.consumed[f.consumed.length-1].parameters):p;return{matched:!0,consumedSegments:f.consumed,lastChild:f.consumed.length,parameters:m,positionalParamSegments:null!==(a=f.posParams)&&void 0!==a?a:{}}}function sf(t,e,i,a,c="corrected"){if(i.length>0&&function(t,e,i){return i.some(a=>ru(t,e,a)&&Sr(a)!==at)}(t,i,a)){const p=new ut(e,function(t,e,i,a){const c={};c[at]=a,a._sourceSegment=t,a._segmentIndexShift=e.length;for(const f of i)if(""===f.path&&Sr(f)!==at){const p=new ut([],{});p._sourceSegment=t,p._segmentIndexShift=e.length,c[Sr(f)]=p}return c}(t,e,a,new ut(i,t.children)));return p._sourceSegment=t,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:[]}}if(0===i.length&&function(t,e,i){return i.some(a=>ru(t,e,a))}(t,i,a)){const p=new ut(t.segments,function(t,e,i,a,c,f){const p={};for(const m of a)if(ru(t,i,m)&&!c[Sr(m)]){const b=new ut([],{});b._sourceSegment=t,b._segmentIndexShift="legacy"===f?t.segments.length:e.length,p[Sr(m)]=b}return Object.assign(Object.assign({},c),p)}(t,e,i,a,t.children,c));return p._sourceSegment=t,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:i}}const f=new ut(t.segments,t.children);return f._sourceSegment=t,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:i}}function ru(t,e,i){return(!(t.hasChildren()||e.length>0)||"full"!==i.pathMatch)&&""===i.path}function H_(t,e,i,a){return!!(Sr(t)===a||a!==at&&ru(e,i,t))&&("**"===t.path||nu(e,t,i).matched)}function cg(t,e,i){return 0===e.length&&!t.children[i]}class Yc{constructor(e){this.segmentGroup=e||null}}class $_{constructor(e){this.urlTree=e}}function Fo(t){return new Ti.y(e=>e.error(new Yc(t)))}function Os(t){return new Ti.y(e=>e.error(new $_(t)))}function lg(t){return new Ti.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class ou{constructor(e,i,a,c,f){this.configLoader=i,this.urlSerializer=a,this.urlTree=c,this.config=f,this.allowRedirects=!0,this.ngModule=e.get(v.h0i)}apply(){const e=sf(this.urlTree.root,[],[],this.config).segmentGroup,i=new ut(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,i,at).pipe((0,it.U)(f=>this.createUrlTree(af(f),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xo(f=>{if(f instanceof $_)return this.allowRedirects=!1,this.match(f.urlTree);throw f instanceof Yc?this.noMatchError(f):f}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,at).pipe((0,it.U)(c=>this.createUrlTree(af(c),e.queryParams,e.fragment))).pipe(xo(c=>{throw c instanceof Yc?this.noMatchError(c):c}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,i,a){const c=e.segments.length>0?new ut([],{[at]:e}):e;return new Ro(c,i,a)}expandSegmentGroup(e,i,a,c){return 0===a.segments.length&&a.hasChildren()?this.expandChildren(e,i,a).pipe((0,it.U)(f=>new ut([],f))):this.expandSegment(e,a,i,a.segments,c,!0)}expandChildren(e,i,a){const c=[];for(const f of Object.keys(a.children))"primary"===f?c.unshift(f):c.push(f);return(0,Wt.D)(c).pipe(qa(f=>{const p=a.children[f],m=of(i,f);return this.expandSegmentGroup(e,m,p,f).pipe((0,it.U)(b=>({segment:b,outlet:f})))}),Vc((f,p)=>(f[p.outlet]=p.segment,f),{}),function(t,e){const i=arguments.length>=2;return a=>a.pipe(t?to((c,f)=>t(c,f,a)):v_.y,Uc(1),i?y_(e):mD(()=>new Ha))}())}expandSegment(e,i,a,c,f,p){return(0,Wt.D)(a).pipe(qa(m=>this.expandSegmentAgainstRoute(e,i,a,m,c,f,p).pipe(xo(E=>{if(E instanceof Yc)return(0,We.of)(null);throw E}))),Ss(m=>!!m),xo((m,b)=>{if(m instanceof Ha||"EmptyError"===m.name){if(cg(i,c,f))return(0,We.of)(new ut([],{}));throw new Yc(i)}throw m}))}expandSegmentAgainstRoute(e,i,a,c,f,p,m){return H_(c,i,f,p)?void 0===c.redirectTo?this.matchSegmentAgainstRoute(e,i,c,f,p):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,a,c,f,p):Fo(i):Fo(i)}expandSegmentAgainstRouteUsingRedirect(e,i,a,c,f,p){return"**"===c.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,a,c,p):this.expandRegularSegmentAgainstRouteUsingRedirect(e,i,a,c,f,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,a,c){const f=this.applyRedirectCommands([],a.redirectTo,{});return a.redirectTo.startsWith("/")?Os(f):this.lineralizeSegments(a,f).pipe((0,tr.zg)(p=>{const m=new ut(p,{});return this.expandSegment(e,m,i,p,c,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,i,a,c,f,p){const{matched:m,consumedSegments:b,lastChild:E,positionalParamSegments:D}=nu(i,c,f);if(!m)return Fo(i);const I=this.applyRedirectCommands(b,c.redirectTo,D);return c.redirectTo.startsWith("/")?Os(I):this.lineralizeSegments(c,I).pipe((0,tr.zg)(M=>this.expandSegment(e,i,a,M.concat(f.slice(E)),p,!1)))}matchSegmentAgainstRoute(e,i,a,c,f){if("**"===a.path)return a.loadChildren?(a._loadedConfig?(0,We.of)(a._loadedConfig):this.configLoader.load(e.injector,a)).pipe((0,it.U)(M=>(a._loadedConfig=M,new ut(c,{})))):(0,We.of)(new ut(c,{}));const{matched:p,consumedSegments:m,lastChild:b}=nu(i,a,c);if(!p)return Fo(i);const E=c.slice(b);return this.getChildConfig(e,a,c).pipe((0,tr.zg)(I=>{const M=I.module,O=I.routes,{segmentGroup:j,slicedSegments:z}=sf(i,m,E,O),le=new ut(j.segments,j.children);if(0===z.length&&le.hasChildren())return this.expandChildren(M,O,le).pipe((0,it.U)(Ke=>new ut(m,Ke)));if(0===O.length&&0===z.length)return(0,We.of)(new ut(m,{}));const me=Sr(a)===f;return this.expandSegment(M,le,O,z,me?at:f,!0).pipe((0,it.U)(Ie=>new ut(m.concat(Ie.segments),Ie.children)))}))}getChildConfig(e,i,a){return i.children?(0,We.of)(new Qc(i.children,e)):i.loadChildren?void 0!==i._loadedConfig?(0,We.of)(i._loadedConfig):this.runCanLoadGuards(e.injector,i,a).pipe((0,tr.zg)(c=>{return c?this.configLoader.load(e.injector,i).pipe((0,it.U)(f=>(i._loadedConfig=f,f))):(t=i,new Ti.y(e=>e.error(jc(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))));var t})):(0,We.of)(new Qc([],e))}runCanLoadGuards(e,i,a){const c=i.canLoad;if(!c||0===c.length)return(0,We.of)(!0);const f=c.map(p=>{const m=e.get(p);let b;if((t=m)&&Rs(t.canLoad))b=m.canLoad(i,a);else{if(!Rs(m))throw new Error("Invalid CanLoad guard");b=m(i,a)}var t;return xi(b)});return(0,We.of)(f).pipe(rf(),(0,Dr.b)(p=>{if(!tu(p))return;const m=jc(`Redirecting to "${this.urlSerializer.serialize(p)}"`);throw m.url=p,m}),(0,it.U)(p=>!0===p))}lineralizeSegments(e,i){let a=[],c=i.root;for(;;){if(a=a.concat(c.segments),0===c.numberOfChildren)return(0,We.of)(a);if(c.numberOfChildren>1||!c.children[at])return lg(e.redirectTo);c=c.children[at]}}applyRedirectCommands(e,i,a){return this.applyRedirectCreatreUrlTree(i,this.urlSerializer.parse(i),e,a)}applyRedirectCreatreUrlTree(e,i,a,c){const f=this.createSegmentGroup(e,i.root,a,c);return new Ro(f,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){const a={};return Nn(e,(c,f)=>{if("string"==typeof c&&c.startsWith(":")){const m=c.substring(1);a[f]=i[m]}else a[f]=c}),a}createSegmentGroup(e,i,a,c){const f=this.createSegments(e,i.segments,a,c);let p={};return Nn(i.children,(m,b)=>{p[b]=this.createSegmentGroup(e,m,a,c)}),new ut(f,p)}createSegments(e,i,a,c){return i.map(f=>f.path.startsWith(":")?this.findPosParam(e,f,c):this.findOrReturn(f,a))}findPosParam(e,i,a){const c=a[i.path.substring(1)];if(!c)throw new Error(`Cannot redirect to '${e}'. Cannot find '${i.path}'.`);return c}findOrReturn(e,i){let a=0;for(const c of i){if(c.path===e.path)return i.splice(a),c;a++}return e}}function af(t){const e={};for(const a of Object.keys(t.children)){const f=af(t.children[a]);(f.segments.length>0||f.hasChildren())&&(e[a]=f)}return function(t){if(1===t.numberOfChildren&&t.children[at]){const e=t.children[at];return new ut(t.segments.concat(e.segments),e.children)}return t}(new ut(t.segments,e))}class uf{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class su{constructor(e,i){this.component=e,this.route=i}}function W_(t,e,i){const a=t._root;return df(a,e?e._root:null,i,[a.value])}function lf(t,e,i){const a=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const i=e.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig}return null}(e);return(a?a.module.injector:i).get(t)}function df(t,e,i,a,c={canDeactivateChecks:[],canActivateChecks:[]}){const f=$c(e);return t.children.forEach(p=>{(function(t,e,i,a,c={canDeactivateChecks:[],canActivateChecks:[]}){const f=t.value,p=e?e.value:null,m=i?i.getContext(t.value.outlet):null;if(p&&f.routeConfig===p.routeConfig){const b=function(t,e,i){if("function"==typeof i)return i(t,e);switch(i){case"pathParamsChange":return!Ms(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ms(t.url,e.url)||!jr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ze(t,e)||!jr(t.queryParams,e.queryParams);case"paramsChange":default:return!Ze(t,e)}}(p,f,f.routeConfig.runGuardsAndResolvers);b?c.canActivateChecks.push(new uf(a)):(f.data=p.data,f._resolvedData=p._resolvedData),df(t,e,f.component?m?m.children:null:i,a,c),b&&m&&m.outlet&&m.outlet.isActivated&&c.canDeactivateChecks.push(new su(m.outlet.component,p))}else p&&Zc(e,m,c),c.canActivateChecks.push(new uf(a)),df(t,null,f.component?m?m.children:null:i,a,c)})(p,f[p.value.outlet],i,a.concat([p.value]),c),delete f[p.value.outlet]}),Nn(f,(p,m)=>Zc(p,i.getContext(m),c)),c}function Zc(t,e,i){const a=$c(t),c=t.value;Nn(a,(f,p)=>{Zc(f,c.component?e?e.children.getContext(p):null:e,i)}),i.canDeactivateChecks.push(new su(c.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,c))}class J_{}function GD(t){return new Ti.y(e=>e.error(t))}class dg{constructor(e,i,a,c,f,p){this.rootComponentType=e,this.config=i,this.urlTree=a,this.url=c,this.paramsInheritanceStrategy=f,this.relativeLinkResolution=p}recognize(){const e=sf(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,i=this.processSegmentGroup(this.config,e,at);if(null===i)return null;const a=new Zd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},at,this.rootComponentType,null,this.urlTree.root,-1,{}),c=new no(a,i),f=new eg(this.url,c);return this.inheritParamsAndData(f._root),f}inheritParamsAndData(e){const i=e.value,a=F_(i,this.paramsInheritanceStrategy);i.params=Object.freeze(a.params),i.data=Object.freeze(a.data),e.children.forEach(c=>this.inheritParamsAndData(c))}processSegmentGroup(e,i,a){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,i):this.processSegment(e,i,i.segments,a)}processChildren(e,i){const a=[];for(const f of Object.keys(i.children)){const p=i.children[f],m=of(e,f),b=this.processSegmentGroup(m,p,f);if(null===b)return null;a.push(...b)}const c=X_(a);return c.sort((e,i)=>e.value.outlet===at?-1:i.value.outlet===at?1:e.value.outlet.localeCompare(i.value.outlet)),c}processSegment(e,i,a,c){for(const f of e){const p=this.processSegmentAgainstRoute(f,i,a,c);if(null!==p)return p}return cg(i,a,c)?[]:null}processSegmentAgainstRoute(e,i,a,c){if(e.redirectTo||!H_(e,i,a,c))return null;let f,p=[],m=[];if("**"===e.path){const O=a.length>0?qd(a).parameters:{};f=new Zd(a,O,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,t0(e),Sr(e),e.component,e,e0(i),fg(i)+a.length,n0(e))}else{const O=nu(i,e,a);if(!O.matched)return null;p=O.consumedSegments,m=a.slice(O.lastChild),f=new Zd(p,O.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,t0(e),Sr(e),e.component,e,e0(i),fg(i)+p.length,n0(e))}const b=(t=e).children?t.children:t.loadChildren?t._loadedConfig.routes:[],{segmentGroup:E,slicedSegments:D}=sf(i,p,m,b.filter(O=>void 0===O.redirectTo),this.relativeLinkResolution);var t;if(0===D.length&&E.hasChildren()){const O=this.processChildren(b,E);return null===O?null:[new no(f,O)]}if(0===b.length&&0===D.length)return[new no(f,[])];const I=Sr(e)===c,M=this.processSegment(b,E,D,I?at:c);return null===M?null:[new no(f,M)]}}function qD(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function X_(t){const e=[],i=new Set;for(const a of t){if(!qD(a)){e.push(a);continue}const c=e.find(f=>a.value.routeConfig===f.value.routeConfig);void 0!==c?(c.children.push(...a.children),i.add(c)):e.push(a)}for(const a of i){const c=X_(a.children);e.push(new no(a.value,c))}return e.filter(a=>!i.has(a))}function e0(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function fg(t){let e=t,i=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,i+=e._segmentIndexShift?e._segmentIndexShift:0;return i-1}function t0(t){return t.data||{}}function n0(t){return t.resolve||{}}function pg(t){return Xn(e=>{const i=t(e);return i?(0,Wt.D)(i).pipe((0,it.U)(()=>e)):(0,We.of)(e)})}class o0 extends class{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}}{}const gg=new v.OlP("ROUTES");class s0{constructor(e,i,a,c){this.loader=e,this.compiler=i,this.onLoadStartListener=a,this.onLoadEndListener=c}load(e,i){if(i._loader$)return i._loader$;this.onLoadStartListener&&this.onLoadStartListener(i);const c=this.loadModuleFactory(i.loadChildren).pipe((0,it.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);const p=f.create(e);return new Qc(D_(p.injector.get(gg,void 0,v.XFs.Self|v.XFs.Optional)).map(ag),p)}),xo(f=>{throw i._loader$=void 0,f}));return i._loader$=new lD.c(c,()=>new Ts.xQ).pipe((0,Hd.x)()),i._loader$}loadModuleFactory(e){return"string"==typeof e?(0,Wt.D)(this.loader.load(e)):xi(e()).pipe((0,tr.zg)(i=>i instanceof v.YKP?(0,We.of)(i):(0,Wt.D)(this.compiler.compileModuleAsync(i))))}}class QD{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ko,this.attachRef=null}}class ko{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const a=this.getOrCreateContext(e);a.outlet=i,this.contexts.set(e,a)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new QD,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}class JD{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}function ff(t){throw t}function mg(t,e,i){return e.parse("/")}function a0(t,e){return(0,We.of)(null)}const yg={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let nr=(()=>{class t{constructor(i,a,c,f,p,m,b,E){this.rootComponentType=i,this.urlSerializer=a,this.rootContexts=c,this.location=f,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ts.xQ,this.errorHandler=ff,this.malformedUriErrorHandler=mg,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:a0,afterPreactivation:a0},this.urlHandlingStrategy=new JD,this.routeReuseStrategy=new o0,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=p.get(v.h0i),this.console=p.get(v.c2e);const M=p.get(v.R0b);this.isNgZoneEnabled=M instanceof v.R0b&&v.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=new Ro(new ut([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new s0(m,b,O=>this.triggerEvent(new Vp(O)),O=>this.triggerEvent(new DD(O))),this.routerState=O_(this.currentUrlTree,this.rootComponentType),this.transitions=new Ur({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var i;return null===(i=this.location.getState())||void 0===i?void 0:i.\u0275routerPageId}setupNavigations(i){const a=this.events;return i.pipe(to(c=>0!==c.id),(0,it.U)(c=>Object.assign(Object.assign({},c),{extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),Xn(c=>{let f=!1,p=!1;return(0,We.of)(c).pipe((0,Dr.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Xn(m=>{const b=!this.navigated||m.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return(0,We.of)(m).pipe(Xn(D=>{const I=this.transitions.getValue();return a.next(new b_(D.id,this.serializeUrl(D.extractedUrl),D.source,D.restoredState)),I!==this.transitions.getValue()?No.E:Promise.resolve(D)}),function(t,e,i,a){return Xn(c=>function(t,e,i,a,c){return new ou(t,e,i,a,c).apply()}(t,e,i,c.extractedUrl,a).pipe((0,it.U)(f=>Object.assign(Object.assign({},c),{urlAfterRedirects:f}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Dr.b)(D=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:D.urlAfterRedirects})}),function(t,e,i,a,c){return(0,tr.zg)(f=>function(t,e,i,a,c="emptyOnly",f="legacy"){try{const p=new dg(t,e,i,a,c,f).recognize();return null===p?GD(new J_):(0,We.of)(p)}catch(p){return GD(p)}}(t,e,f.urlAfterRedirects,i(f.urlAfterRedirects),a,c).pipe((0,it.U)(p=>Object.assign(Object.assign({},f),{targetSnapshot:p}))))}(this.rootComponentType,this.config,D=>this.serializeUrl(D),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Dr.b)(D=>{"eager"===this.urlUpdateStrategy&&(D.extras.skipLocationChange||this.setBrowserUrl(D.urlAfterRedirects,D),this.browserUrlTree=D.urlAfterRedirects);const I=new CD(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);a.next(I)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:I,extractedUrl:M,source:O,restoredState:j,extras:z}=m,le=new b_(I,this.serializeUrl(M),O,j);a.next(le);const me=O_(M,this.rootComponentType).snapshot;return(0,We.of)(Object.assign(Object.assign({},m),{targetSnapshot:me,urlAfterRedirects:M,extras:Object.assign(Object.assign({},z),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,this.browserUrlTree=m.urlAfterRedirects,m.resolve(null),No.E}),pg(m=>{const{targetSnapshot:b,id:E,extractedUrl:D,rawUrl:I,extras:{skipLocationChange:M,replaceUrl:O}}=m;return this.hooks.beforePreactivation(b,{navigationId:E,appliedUrlTree:D,rawUrlTree:I,skipLocationChange:!!M,replaceUrl:!!O})}),(0,Dr.b)(m=>{const b=new Ka(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),(0,it.U)(m=>Object.assign(Object.assign({},m),{guards:W_(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function(t,e){return(0,tr.zg)(i=>{const{targetSnapshot:a,currentSnapshot:c,guards:{canActivateChecks:f,canDeactivateChecks:p}}=i;return 0===p.length&&0===f.length?(0,We.of)(Object.assign(Object.assign({},i),{guardsResult:!0})):function(t,e,i,a){return(0,Wt.D)(t).pipe((0,tr.zg)(c=>function(t,e,i,a,c){const f=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!f||0===f.length)return(0,We.of)(!0);const p=f.map(m=>{const b=lf(m,e,c);let E;if(function(t){return t&&Rs(t.canDeactivate)}(b))E=xi(b.canDeactivate(t,e,i,a));else{if(!Rs(b))throw new Error("Invalid CanDeactivate guard");E=xi(b(t,e,i,a))}return E.pipe(Ss())});return(0,We.of)(p).pipe(rf())}(c.component,c.route,i,e,a)),Ss(c=>!0!==c,!0))}(p,a,c,t).pipe((0,tr.zg)(m=>m&&function(t){return"boolean"==typeof t}(m)?function(t,e,i,a){return(0,Wt.D)(e).pipe(qa(c=>kp(function(t,e){return null!==t&&e&&e(new Ni(t)),(0,We.of)(!0)}(c.route.parent,a),function(t,e){return null!==t&&e&&e(new jp(t)),(0,We.of)(!0)}(c.route,a),function(t,e,i){const a=e[e.length-1],f=e.slice(0,e.length-1).reverse().map(p=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(p)).filter(p=>null!==p).map(p=>d_(()=>{const m=p.guards.map(b=>{const E=lf(b,p.node,i);let D;if(function(t){return t&&Rs(t.canActivateChild)}(E))D=xi(E.canActivateChild(a,t));else{if(!Rs(E))throw new Error("Invalid CanActivateChild guard");D=xi(E(a,t))}return D.pipe(Ss())});return(0,We.of)(m).pipe(rf())}));return(0,We.of)(f).pipe(rf())}(t,c.path,i),function(t,e,i){const a=e.routeConfig?e.routeConfig.canActivate:null;if(!a||0===a.length)return(0,We.of)(!0);const c=a.map(f=>d_(()=>{const p=lf(f,e,i);let m;if(function(t){return t&&Rs(t.canActivate)}(p))m=xi(p.canActivate(e,t));else{if(!Rs(p))throw new Error("Invalid CanActivate guard");m=xi(p(e,t))}return m.pipe(Ss())}));return(0,We.of)(c).pipe(rf())}(t,c.route,i))),Ss(c=>!0!==c,!0))}(a,f,t,e):(0,We.of)(m)),(0,it.U)(m=>Object.assign(Object.assign({},i),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Dr.b)(m=>{if(tu(m.guardsResult)){const E=jc(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw E.url=m.guardsResult,E}const b=new Mi(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(b)}),to(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),pg(m=>{if(m.guards.canActivateChecks.length)return(0,We.of)(m).pipe((0,Dr.b)(b=>{const E=new xA(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(E)}),Xn(b=>{let E=!1;return(0,We.of)(b).pipe(function(t,e){return(0,tr.zg)(i=>{const{targetSnapshot:a,guards:{canActivateChecks:c}}=i;if(!c.length)return(0,We.of)(i);let f=0;return(0,Wt.D)(c).pipe(qa(p=>function(t,e,i,a){return function(t,e,i,a){const c=Object.keys(t);if(0===c.length)return(0,We.of)({});const f={};return(0,Wt.D)(c).pipe((0,tr.zg)(p=>function(t,e,i,a){const c=lf(t,e,a);return xi(c.resolve?c.resolve(e,i):c(e,i))}(t[p],e,i,a).pipe((0,Dr.b)(m=>{f[p]=m}))),Uc(1),(0,tr.zg)(()=>Object.keys(f).length===c.length?(0,We.of)(f):No.E))}(t._resolve,t,e,a).pipe((0,it.U)(f=>(t._resolvedData=f,t.data=Object.assign(Object.assign({},t.data),F_(t,i).resolve),null)))}(p.route,a,t,e)),(0,Dr.b)(()=>f++),Uc(1),(0,tr.zg)(p=>f===c.length?(0,We.of)(i):No.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Dr.b)({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,Dr.b)(b=>{const E=new RA(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(E)}))}),pg(m=>{const{targetSnapshot:b,id:E,extractedUrl:D,rawUrl:I,extras:{skipLocationChange:M,replaceUrl:O}}=m;return this.hooks.afterPreactivation(b,{navigationId:E,appliedUrlTree:D,rawUrlTree:I,skipLocationChange:!!M,replaceUrl:!!O})}),(0,it.U)(m=>{const b=function(t,e,i){const a=qc(t,e._root,i?i._root:void 0);return new Br(a,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:b})}),(0,Dr.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((t,e,i)=>(0,it.U)(a=>(new B_(e,a.targetRouterState,a.currentRouterState,i).activate(t),a)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Dr.b)({next(){f=!0},complete(){f=!0}}),function(t){return e=>e.lift(new bD(t))}(()=>{if(!f&&!p){const m=`Navigation ID ${c.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(c),this.cancelNavigationTransition(c,m)):this.cancelNavigationTransition(c,m)}this.currentNavigation=null}),xo(m=>{if(p=!0,function(t){return t&&t[$d]}(m)){const b=tu(m.url);b||(this.navigated=!0,this.restoreHistory(c,!0));const E=new w_(c.id,this.serializeUrl(c.extractedUrl),m.message);a.next(E),b?setTimeout(()=>{const D=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree);this.scheduleNavigation(D,"imperative",null,{skipLocationChange:c.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:c.resolve,reject:c.reject,promise:c.promise})},0):c.resolve(!1)}else{this.restoreHistory(c,!0);const b=new ED(c.id,this.serializeUrl(c.extractedUrl),m);a.next(b);try{c.resolve(this.errorHandler(m))}catch(E){c.reject(E)}}return No.E}))}))}resetRootComponentType(i){this.rootComponentType=i,this.routerState.root.component=this.rootComponentType}getTransition(){const i=this.transitions.value;return i.urlAfterRedirects=this.browserUrlTree,i}setTransition(i){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),i))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const a=this.extractLocationChangeInfoFromEvent(i);this.shouldScheduleNavigation(this.lastLocationChangeInfo,a)&&setTimeout(()=>{const{source:c,state:f,urlTree:p}=a,m={replaceUrl:!0};if(f){const b=Object.assign({},f);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(m.state=b)}this.scheduleNavigation(p,c,f,m)},0),this.lastLocationChangeInfo=a}))}extractLocationChangeInfoFromEvent(i){var a;return{source:"popstate"===i.type?"popstate":"hashchange",urlTree:this.parseUrl(i.url),state:(null===(a=i.state)||void 0===a?void 0:a.navigationId)?i.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(i,a){if(!i)return!0;const c=a.urlTree.toString()===i.urlTree.toString();return a.transitionId!==i.transitionId||!c||!("hashchange"===a.source&&"popstate"===i.source||"popstate"===a.source&&"hashchange"===i.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(i){this.events.next(i)}resetConfig(i){FD(i),this.config=i.map(ag),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,a={}){const{relativeTo:c,queryParams:f,fragment:p,queryParamsHandling:m,preserveFragment:b}=a,E=c||this.routerState.root,D=b?this.currentUrlTree.fragment:p;let I=null;switch(m){case"merge":I=Object.assign(Object.assign({},this.currentUrlTree.queryParams),f);break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=f||null}return null!==I&&(I=this.removeEmptyProps(I)),function(t,e,i,a,c){if(0===i.length)return zc(e.root,e.root,e,a,c);const f=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Xd(!0,0,t);let e=0,i=!1;const a=t.reduce((c,f,p)=>{if("object"==typeof f&&null!=f){if(f.outlets){const m={};return Nn(f.outlets,(b,E)=>{m[E]="string"==typeof b?b.split("/"):b}),[...c,{outlets:m}]}if(f.segmentPath)return[...c,f.segmentPath]}return"string"!=typeof f?[...c,f]:0===p?(f.split("/").forEach((m,b)=>{0==b&&"."===m||(0==b&&""===m?i=!0:".."===m?e++:""!=m&&c.push(m))}),c):[...c,f]},[]);return new Xd(i,e,a)}(i);if(f.toRoot())return zc(e.root,new ut([],{}),e,a,c);const p=function(t,e,i){if(t.isAbsolute)return new ef(e.root,!0,0);if(-1===i.snapshot._lastPathIndex){const f=i.snapshot._urlSegment;return new ef(f,f===e.root,0)}const a=Xa(t.commands[0])?0:1;return function(t,e,i){let a=t,c=e,f=i;for(;f>c;){if(f-=c,a=a.parent,!a)throw new Error("Invalid number of '../'");c=a.segments.length}return new ef(a,!1,c-f)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+a,t.numberOfDoubleDots)}(f,e,t),m=p.processChildren?eu(p.segmentGroup,p.index,f.commands):Kc(p.segmentGroup,p.index,f.commands);return zc(p.segmentGroup,m,e,a,c)}(E,this.currentUrlTree,i,I,null!=D?D:null)}navigateByUrl(i,a={skipLocationChange:!1}){const c=tu(i)?i:this.parseUrl(i),f=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(f,"imperative",null,a)}navigate(i,a={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const i=t[e];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${e}`)}}(i),this.navigateByUrl(this.createUrlTree(i,a),a)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let a;try{a=this.urlSerializer.parse(i)}catch(c){a=this.malformedUriErrorHandler(c,this.urlSerializer,i)}return a}isActive(i,a){let c;if(c=!0===a?Object.assign({},yg):!1===a?Object.assign({},vg):a,tu(i))return Hp(this.currentUrlTree,i,c);const f=this.parseUrl(i);return Hp(this.currentUrlTree,f,c)}removeEmptyProps(i){return Object.keys(i).reduce((a,c)=>{const f=i[c];return null!=f&&(a[c]=f),a},{})}processNavigations(){this.navigations.subscribe(i=>{this.navigated=!0,this.lastSuccessfulId=i.id,this.currentPageId=i.targetPageId,this.events.next(new za(i.id,this.serializeUrl(i.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,i.resolve(!0)},i=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(i,a,c,f,p){var m,b;if(this.disposed)return Promise.resolve(!1);const E=this.getTransition(),D="imperative"!==a&&"imperative"===(null==E?void 0:E.source),O=(this.lastSuccessfulId===E.id||this.currentNavigation?E.rawUrl:E.urlAfterRedirects).toString()===i.toString();if(D&&O)return Promise.resolve(!0);let j,z,le;p?(j=p.resolve,z=p.reject,le=p.promise):le=new Promise((Ie,Ke)=>{j=Ie,z=Ke});const me=++this.navigationId;let De;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(c=this.location.getState()),De=c&&c.\u0275routerPageId?c.\u0275routerPageId:f.replaceUrl||f.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):De=0,this.setTransition({id:me,targetPageId:De,source:a,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:i,extras:f,resolve:j,reject:z,promise:le,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),le.catch(Ie=>Promise.reject(Ie))}setBrowserUrl(i,a){const c=this.urlSerializer.serialize(i),f=Object.assign(Object.assign({},a.extras.state),this.generateNgRouterState(a.id,a.targetPageId));this.location.isCurrentPathEqualTo(c)||a.extras.replaceUrl?this.location.replaceState(c,"",f):this.location.go(c,"",f)}restoreHistory(i,a=!1){var c,f;if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-i.targetPageId;"popstate"!==i.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)||0===p?this.currentUrlTree===(null===(f=this.currentNavigation)||void 0===f?void 0:f.finalUrl)&&0===p&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(p)}else"replace"===this.canceledNavigationResolution&&(a&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(i,a){const c=new w_(i.id,this.serializeUrl(i.extractedUrl),a);this.triggerEvent(c),i.resolve(!1)}generateNgRouterState(i,a){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:a}:{navigationId:i}}}return t.\u0275fac=function(i){return new(i||t)(v.LFG(v.DyG),v.LFG(zp),v.LFG(ko),v.LFG(Re),v.LFG(v.zs3),v.LFG(v.v3s),v.LFG(v.Sil),v.LFG(void 0))},t.\u0275prov=v.Yz7({token:t,factory:t.\u0275fac}),t})(),bg=(()=>{class t{constructor(i,a,c,f,p){this.parentContexts=i,this.location=a,this.resolver=c,this.changeDetector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new v.vpe,this.deactivateEvents=new v.vpe,this.name=f||at,i.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const i=this.parentContexts.getContext(this.name);i&&i.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,i}attach(i,a){this.activated=i,this._activatedRoute=a,this.location.insert(i.hostView)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,a){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=i;const p=(a=a||this.resolver).resolveComponentFactory(i._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,b=new c0(i,m,this.location.injector);this.activated=this.location.createComponent(p,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(i){return new(i||t)(v.Y36(ko),v.Y36(v.s_b),v.Y36(v._Vd),v.$8M("name"),v.Y36(v.sBO))},t.\u0275dir=v.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class c0{constructor(e,i,a){this.route=e,this.childContexts=i,this.parent=a}get(e,i){return e===Za?this.route:e===ko?this.childContexts:this.parent.get(e,i)}}class wg{}class Oi{preload(e,i){return(0,We.of)(null)}}let tl=(()=>{class t{constructor(i,a,c,f,p){this.router=i,this.injector=f,this.preloadingStrategy=p,this.loader=new s0(a,c,E=>i.triggerEvent(new Vp(E)),E=>i.triggerEvent(new DD(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(to(i=>i instanceof za),qa(()=>this.preload())).subscribe(()=>{})}preload(){const i=this.injector.get(v.h0i);return this.processRoutes(i,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,a){const c=[];for(const f of a)if(f.loadChildren&&!f.canLoad&&f._loadedConfig){const p=f._loadedConfig;c.push(this.processRoutes(p.module,p.routes))}else f.loadChildren&&!f.canLoad?c.push(this.preloadConfig(i,f)):f.children&&c.push(this.processRoutes(i,f.children));return(0,Wt.D)(c).pipe((0,Pc.J)(),(0,it.U)(f=>{}))}preloadConfig(i,a){return this.preloadingStrategy.preload(a,()=>(a._loadedConfig?(0,We.of)(a._loadedConfig):this.loader.load(i.injector,a)).pipe((0,tr.zg)(f=>(a._loadedConfig=f,this.processRoutes(f.module,f.routes)))))}}return t.\u0275fac=function(i){return new(i||t)(v.LFG(nr),v.LFG(v.v3s),v.LFG(v.Sil),v.LFG(v.zs3),v.LFG(wg))},t.\u0275prov=v.Yz7({token:t,factory:t.\u0275fac}),t})(),Eg=(()=>{class t{constructor(i,a,c={}){this.router=i,this.viewportScroller=a,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(i=>{i instanceof b_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof za&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.router.parseUrl(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(i=>{i instanceof Bp&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,a){this.router.triggerEvent(new Bp(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,a))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(i){return new(i||t)(v.LFG(nr),v.LFG(Zh),v.LFG(void 0))},t.\u0275prov=v.Yz7({token:t,factory:t.\u0275fac}),t})();const au=new v.OlP("ROUTER_CONFIGURATION"),Ps=new v.OlP("ROUTER_FORROOT_GUARD"),nl=[Re,{provide:zp,useClass:Kp},{provide:nr,useFactory:function(t,e,i,a,c,f,p,m={},b,E){const D=new nr(null,t,e,i,a,c,f,D_(p));return b&&(D.urlHandlingStrategy=b),E&&(D.routeReuseStrategy=E),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(m,D),m.enableTracing&&D.events.subscribe(I=>{var M,O;null===(M=console.group)||void 0===M||M.call(console,`Router Event: ${I.constructor.name}`),console.log(I.toString()),console.log(I),null===(O=console.groupEnd)||void 0===O||O.call(console)}),D},deps:[zp,ko,Re,v.zs3,v.v3s,v.Sil,gg,au,[class{},new v.FiY],[class{},new v.FiY]]},ko,{provide:Za,useFactory:function(t){return t.routerState.root},deps:[nr]},{provide:v.v3s,useClass:v.EAV},tl,Oi,class{preload(e,i){return i().pipe(xo(()=>(0,We.of)(null)))}},{provide:au,useValue:{enableTracing:!1}}];function rl(){return new v.PXZ("Router",nr)}let f0=(()=>{class t{constructor(i,a){}static forRoot(i,a){return{ngModule:t,providers:[nl,Dg(i),{provide:Ps,useFactory:eI,deps:[[nr,new v.FiY,new v.tp0]]},{provide:au,useValue:a||{}},{provide:se,useFactory:h0,deps:[ue,[new v.tBr(Se),new v.FiY],au]},{provide:Eg,useFactory:Cg,deps:[nr,Zh,au]},{provide:wg,useExisting:a&&a.preloadingStrategy?a.preloadingStrategy:Oi},{provide:v.PXZ,multi:!0,useFactory:rl},[Tg,{provide:v.ip1,multi:!0,useFactory:p0,deps:[Tg]},{provide:Sg,useFactory:uu,deps:[Tg]},{provide:v.tb,multi:!0,useExisting:Sg}]]}}static forChild(i){return{ngModule:t,providers:[Dg(i)]}}}return t.\u0275fac=function(i){return new(i||t)(v.LFG(Ps,8),v.LFG(nr,8))},t.\u0275mod=v.oAB({type:t}),t.\u0275inj=v.cJS({}),t})();function Cg(t,e,i){return i.scrollOffset&&e.setOffset(i.scrollOffset),new Eg(t,e,i)}function h0(t,e,i={}){return i.useHash?new Qe(t,e):new we(t,e)}function eI(t){return"guarded"}function Dg(t){return[{provide:v.deG,multi:!0,useValue:t},{provide:gg,multi:!0,useValue:t}]}let Tg=(()=>{class t{constructor(i){this.injector=i,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ts.xQ}appInitializer(){return this.injector.get(N,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let a=null;const c=new Promise(m=>a=m),f=this.injector.get(nr),p=this.injector.get(au);return"disabled"===p.initialNavigation?(f.setUpLocationChangeListener(),a(!0)):"enabled"===p.initialNavigation||"enabledBlocking"===p.initialNavigation?(f.hooks.afterPreactivation=()=>this.initNavigation?(0,We.of)(null):(this.initNavigation=!0,a(!0),this.resultOfPreactivationDone),f.initialNavigation()):a(!0),c})}bootstrapListener(i){const a=this.injector.get(au),c=this.injector.get(tl),f=this.injector.get(Eg),p=this.injector.get(nr),m=this.injector.get(v.z2F);i===m.components[0]&&(("enabledNonBlocking"===a.initialNavigation||void 0===a.initialNavigation)&&p.initialNavigation(),c.setUpPreloading(),f.init(),p.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(i){return new(i||t)(v.LFG(v.zs3))},t.\u0275prov=v.Yz7({token:t,factory:t.\u0275fac}),t})();function p0(t){return t.appInitializer.bind(t)}function uu(t){return t.bootstrapListener.bind(t)}const Sg=new v.OlP("Router Initializer"),cu=[];let iI=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=v.oAB({type:t}),t.\u0275inj=v.cJS({imports:[[f0.forRoot(cu)],f0]}),t})(),oI=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=v.Xpm({type:t,selectors:[["app-navbar"]],decls:4,vars:0,consts:[[1,"nav-wrapper","black"],["href","/",1,"brand-logo","center"]],template:function(i,a){1&i&&(v.TgZ(0,"nav"),v.TgZ(1,"div",0),v.TgZ(2,"a",1),v._uU(3,"My Todo App"),v.qZA(),v.qZA(),v.qZA())},styles:[""]}),t})();var sI=x(3637);function Ag(){return t=>t.lift(new JA)}class JA{call(e,i){return i.subscribe(new aI(e))}}class aI extends di.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let i;this.hasPrev?i=[this.prev,e]:this.hasPrev=!0,this.prev=e,i&&this.destination.next(i)}}class At{constructor(e,i){this.compare=e,this.keySelector=i}call(e,i){return i.subscribe(new Mg(e,this.compare,this.keySelector))}}class Mg extends di.L{constructor(e,i,a){super(e),this.keySelector=a,this.hasKey=!1,"function"==typeof i&&(this.compare=i)}compare(e,i){return e===i}_next(e){let i;try{const{keySelector:c}=this;i=c?c(e):e}catch(c){return this.destination.error(c)}let a=!1;if(this.hasKey)try{const{compare:c}=this;a=c(this.key,i)}catch(c){return this.destination.error(c)}else this.hasKey=!0;a||(this.key=i,this.destination.next(e))}}var Fs=x(309),xt=x(57),Ng=x(2329),xg=x(9759),A=x(4762),Dt=x(4685),ks=x(300),hf=function(t,e){return(hf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(i[c]=a[c])})(t,e)};function Rg(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],a=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var xe,y0="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Og=Og||{},Ye=y0||self;function lu(){}function pf(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function du(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var gf="closure_uid_"+(1e9*Math.random()>>>0),uI=0;function cI(t,e,i){return t.call.apply(t.bind,arguments)}function lI(t,e,i){if(!t)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,a),t.apply(e,c)}}return function(){return t.apply(e,arguments)}}function xn(t,e,i){return(xn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?cI:lI).apply(null,arguments)}function il(t,e){var i=Array.prototype.slice.call(arguments,1);return function(){var a=i.slice();return a.push.apply(a,arguments),t.apply(this,a)}}function Gn(t,e){function i(){}i.prototype=e.prototype,t.Z=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.Vb=function(a,c,f){for(var p=Array(arguments.length-2),m=2;m<arguments.length;m++)p[m-2]=arguments[m];return e.prototype[c].apply(a,p)}}function io(){this.s=this.s,this.o=this.o}var fI={};io.prototype.s=!1,io.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,gf)&&t[gf]||(t[gf]=++uI)}(this);delete fI[t]}},io.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var hI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var i=0;i<t.length;i++)if(i in t&&t[i]===e)return i;return-1},pI=Array.prototype.forEach?function(t,e,i){Array.prototype.forEach.call(t,e,i)}:function(t,e,i){for(var a=t.length,c="string"==typeof t?t.split(""):t,f=0;f<a;f++)f in c&&e.call(i,c[f],f,t)};function _0(t){return Array.prototype.concat.apply([],arguments)}function mf(t){var e=t.length;if(0<e){for(var i=Array(e),a=0;a<e;a++)i[a]=t[a];return i}return[]}function ol(t){return/^[\s\xa0]*$/.test(t)}var fr,gI=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Gt(t,e){return-1!=t.indexOf(e)}function b0(t,e){return t<e?-1:t>e?1:0}e:{var mI=Ye.navigator;if(mI){var Fg=mI.userAgent;if(Fg){fr=Fg;break e}}fr=""}function yf(t,e,i){for(var a in t)e.call(i,t[a],a,t)}function kg(t){var e={};for(var i in t)e[i]=t[i];return e}var w0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yI(t,e){for(var i,a,c=1;c<arguments.length;c++){for(i in a=arguments[c])t[i]=a[i];for(var f=0;f<w0.length;f++)i=w0[f],Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}}function vf(t){return vf[" "](t),t}vf[" "]=lu;var _f,t,vI=Gt(fr,"Opera"),Lo=Gt(fr,"Trident")||Gt(fr,"MSIE"),E0=Gt(fr,"Edge"),Vg=E0||Lo,C0=Gt(fr,"Gecko")&&!(Gt(fr.toLowerCase(),"webkit")&&!Gt(fr,"Edge"))&&!(Gt(fr,"Trident")||Gt(fr,"MSIE"))&&!Gt(fr,"Edge"),_I=Gt(fr.toLowerCase(),"webkit")&&!Gt(fr,"Edge");function D0(){var t=Ye.document;return t?t.documentMode:void 0}e:{var fu="",Vo=(t=fr,C0?/rv:([^\);]+)(\)|;)/.exec(t):E0?/Edge\/([\d\.]+)/.exec(t):Lo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):_I?/WebKit\/(\S+)/.exec(t):vI?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(Vo&&(fu=Vo?Vo[1]:""),Lo){var bf=D0();if(null!=bf&&bf>parseFloat(fu)){_f=String(bf);break e}}_f=fu}var hi={};function sl(){return e=hi,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var t=0,e=gI(String(_f)).split("."),i=gI("9").split("."),a=Math.max(e.length,i.length),c=0;0==t&&c<a;c++){var f=e[c]||"",p=i[c]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==f[0].length&&0==p[0].length)break;t=b0(0==f[1].length?0:parseInt(f[1],10),0==p[1].length?0:parseInt(p[1],10))||b0(0==f[2].length,0==p[2].length)||b0(f[2],p[2]),f=f[3],p=p[3]}while(0==t)}return 0<=t}();var e}var jg=Ye.document&&Lo&&(D0()||parseInt(_f,10))||void 0,Pi=function(){if(!Ye.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ye.addEventListener("test",lu,e),Ye.removeEventListener("test",lu,e)}catch(i){}return t}();function gn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function mn(t,e){if(gn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var i=this.type=t.type,a=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(C0){e:{try{vf(e.nodeName);var c=!0;break e}catch(f){}c=!1}c||(e=null)}}else"mouseover"==i?e=t.fromElement:"mouseout"==i&&(e=t.toElement);this.relatedTarget=e,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ls[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&mn.Z.h.call(this)}}gn.prototype.h=function(){this.defaultPrevented=!0},Gn(mn,gn);var Ls={2:"touch",3:"pen",4:"mouse"};mn.prototype.h=function(){mn.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Uo="closure_listenable_"+(1e6*Math.random()|0),Gr=0;function Bg(t,e,i,a,c){this.listener=t,this.proxy=null,this.src=e,this.type=i,this.capture=!!a,this.ia=c,this.key=++Gr,this.ca=this.fa=!1}function oo(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function so(t){this.src=t,this.g={},this.h=0}function jo(t,e){var i=e.type;if(i in t.g){var f,a=t.g[i],c=hI(a,e);(f=0<=c)&&Array.prototype.splice.call(a,c,1),f&&(oo(e),0==t.g[i].length&&(delete t.g[i],t.h--))}}function Bo(t,e,i,a){for(var c=0;c<t.length;++c){var f=t[c];if(!f.ca&&f.listener==e&&f.capture==!!i&&f.ia==a)return c}return-1}so.prototype.add=function(t,e,i,a,c){var f=t.toString();(t=this.g[f])||(t=this.g[f]=[],this.h++);var p=Bo(t,e,a,c);return-1<p?(e=t[p],i||(e.fa=!1)):((e=new Bg(e,this.src,f,!!a,c)).fa=i,t.push(e)),e};var Go="closure_lm_"+(1e6*Math.random()|0),Ho={};function Vs(t,e,i,a,c){if(a&&a.once)return Gg(t,e,i,a,c);if(Array.isArray(e)){for(var f=0;f<e.length;f++)Vs(t,e[f],i,a,c);return null}return i=Df(i),t&&t[Uo]?t.N(e,i,du(a)?!!a.capture:!!a,c):Us(t,e,i,!1,a,c)}function Us(t,e,i,a,c,f){if(!e)throw Error("Invalid event type");var p=du(c)?!!c.capture:!!c,m=Ef(t);if(m||(t[Go]=m=new so(t)),(i=m.add(e,i,a,p,f)).proxy)return i;if(a=function(){var e=T0;return function t(i){return e.call(t.src,t.listener,i)}}(),i.proxy=a,a.src=t,a.listener=i,t.addEventListener)Pi||(c=p),void 0===c&&(c=!1),t.addEventListener(e.toString(),a,c);else if(t.attachEvent)t.attachEvent($g(e.toString()),a);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(a)}return i}function Gg(t,e,i,a,c){if(Array.isArray(e)){for(var f=0;f<e.length;f++)Gg(t,e[f],i,a,c);return null}return i=Df(i),t&&t[Uo]?t.O(e,i,du(a)?!!a.capture:!!a,c):Us(t,e,i,!0,a,c)}function Hg(t,e,i,a,c){if(Array.isArray(e))for(var f=0;f<e.length;f++)Hg(t,e[f],i,a,c);else a=du(a)?!!a.capture:!!a,i=Df(i),t&&t[Uo]?(t=t.i,(e=String(e).toString())in t.g&&-1<(i=Bo(f=t.g[e],i,a,c))&&(oo(f[i]),Array.prototype.splice.call(f,i,1),0==f.length&&(delete t.g[e],t.h--))):t&&(t=Ef(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Bo(e,i,a,c)),(i=-1<t?e[t]:null)&&wf(i))}function wf(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Uo])jo(e.i,t);else{var i=t.type,a=t.proxy;e.removeEventListener?e.removeEventListener(i,a,t.capture):e.detachEvent?e.detachEvent($g(i),a):e.addListener&&e.removeListener&&e.removeListener(a),(i=Ef(e))?(jo(i,t),0==i.h&&(i.src=null,e[Go]=null)):oo(t)}}}function $g(t){return t in Ho?Ho[t]:Ho[t]="on"+t}function T0(t,e){if(t.ca)t=!0;else{e=new mn(e,this);var i=t.listener,a=t.ia||t.src;t.fa&&wf(t),t=i.call(a,e)}return t}function Ef(t){return(t=t[Go])instanceof so?t:null}var Cf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Df(t){return"function"==typeof t?t:(t[Cf]||(t[Cf]=function(e){return t.handleEvent(e)}),t[Cf])}function Dn(){io.call(this),this.i=new so(this),this.P=this,this.I=null}function Rn(t,e){var i,a=t.I;if(a)for(i=[];a;a=a.I)i.push(a);if(t=t.P,a=e.type||e,"string"==typeof e)e=new gn(e,t);else if(e instanceof gn)e.target=e.target||t;else{var c=e;yI(e=new gn(a,t),c)}if(c=!0,i)for(var f=i.length-1;0<=f;f--){var p=e.g=i[f];c=al(p,a,!0,e)&&c}if(c=al(p=e.g=t,a,!0,e)&&c,c=al(p,a,!1,e)&&c,i)for(f=0;f<i.length;f++)c=al(p=e.g=i[f],a,!1,e)&&c}function al(t,e,i,a){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,f=0;f<e.length;++f){var p=e[f];if(p&&!p.ca&&p.capture==i){var m=p.listener,b=p.ia||p.src;p.fa&&jo(t.i,p),c=!1!==m.call(b,a)&&c}}return c&&!a.defaultPrevented}Gn(Dn,io),Dn.prototype[Uo]=!0,Dn.prototype.removeEventListener=function(t,e,i,a){Hg(this,t,e,i,a)},Dn.prototype.M=function(){if(Dn.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var i=t.g[e],a=0;a<i.length;a++)oo(i[a]);delete t.g[e],t.h--}}this.I=null},Dn.prototype.N=function(t,e,i,a){return this.i.add(String(t),e,!1,i,a)},Dn.prototype.O=function(t,e,i,a){return this.i.add(String(t),e,!0,i,a)};var qg=Ye.JSON.stringify;function S0(){var t=x0,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Wg,A0=function(){function t(){this.h=this.g=null}return t.prototype.add=function(e,i){var a=M0.get();a.set(e,i),this.h?this.h.next=a:this.g=a,this.h=a},t}(),M0=new(function(){function t(e,i){this.i=e,this.j=i,this.h=0,this.g=null}return t.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},t}())(function(){return new ZA},function(t){return t.reset()}),ZA=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(e,i){this.h=e,this.g=i,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function bI(t){Ye.setTimeout(function(){throw t},0)}function If(t,e){Wg||function(){var t=Ye.Promise.resolve(void 0);Wg=function(){t.then(XA)}}(),zg||(Wg(),zg=!0),x0.add(t,e)}var zg=!1,x0=new A0;function XA(){for(var t;t=S0();){try{t.h.call(t.g)}catch(i){bI(i)}var e=M0;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}zg=!1}function Tf(t,e){Dn.call(this),this.h=t||1,this.g=e||Ye,this.j=xn(this.kb,this),this.l=Date.now()}function Sf(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function R0(t,e,i){if("function"==typeof t)i&&(t=xn(t,i));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=xn(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ye.setTimeout(t,e||0)}function wI(t){t.g=R0(function(){t.g=null,t.i&&(t.i=!1,wI(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}Gn(Tf,Dn),(xe=Tf.prototype).da=!1,xe.S=null,xe.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Rn(this,"tick"),this.da&&(Sf(this),this.start()))}},xe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xe.M=function(){Tf.Z.M.call(this),Sf(this),delete this.g};var e1=function(t){function e(i,a){var c=t.call(this)||this;return c.m=i,c.j=a,c.h=null,c.i=!1,c.g=null,c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}hf(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype.l=function(i){this.h=arguments,this.g?this.i=!0:wI(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(io);function ul(t){io.call(this),this.h=t,this.g={}}Gn(ul,io);var EI=[];function O0(t,e,i,a){Array.isArray(i)||(i&&(EI[0]=i.toString()),i=EI);for(var c=0;c<i.length;c++){var f=Vs(e,i[c],a||t.handleEvent,!1,t.h||t);if(!f)break;t.g[f.key]=f}}function P0(t){yf(t.g,function(e,i){this.g.hasOwnProperty(i)&&wf(e)},t),t.g={}}function pu(){this.g=!0}function cl(t,e,i,a){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i)for(t=0;t<i.length;t++)if(Array.isArray(i[t])){var a=i[t];if(!(2>a.length)){var c=a[1];if(Array.isArray(c)&&!(1>c.length)){var f=c[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var p=1;p<c.length;p++)c[p]=""}}}return qg(i)}catch(m){return e}}(t,i)+(a?" "+a:"")})}ul.prototype.M=function(){ul.Z.M.call(this),P0(this)},ul.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pu.prototype.Aa=function(){this.g=!1},pu.prototype.info=function(){};var js={},Qg=null;function Yg(){return Qg=Qg||new Dn}function F0(t){gn.call(this,js.Ma,t)}function Fi(t){var e=Yg();Rn(e,new F0(e,t))}function k0(t,e){gn.call(this,js.STAT_EVENT,t),this.stat=e}function Hn(t){var e=Yg();Rn(e,new k0(e,t))}function L0(t,e){gn.call(this,js.Na,t),this.size=e}function gu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ye.setTimeout(function(){t()},e)}js.Ma="serverreachability",Gn(F0,gn),js.STAT_EVENT="statevent",Gn(k0,gn),js.Na="timingevent",Gn(L0,gn);var Bs={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},V0={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Af(){}function j0(){}Af.prototype.h=null;var Mf,ll={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Jg(){gn.call(this,"d")}function Zg(){gn.call(this,"c")}function Nf(){}function mu(t,e,i,a){this.l=t,this.j=e,this.m=i,this.X=a||1,this.V=new ul(this),this.P=em,this.W=new Tf(t=Vg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Xg}function Xg(){this.i=null,this.g="",this.h=!1}Gn(Jg,gn),Gn(Zg,gn),Gn(Nf,Af),Nf.prototype.g=function(){return new XMLHttpRequest},Nf.prototype.i=function(){return{}},Mf=new Nf;var em=45e3,B0={},yu={};function tm(t,e,i){t.K=1,t.v=hl(pi(e)),t.s=i,t.U=!0,DI(t,null)}function DI(t,e){t.F=Date.now(),Gs(t),t.A=pi(t.v);var i=t.A,a=t.X;Array.isArray(a)||(a=[String(a)]),Y0(i.h,"t",a),t.C=0,i=t.l.H,t.h=new Xg,t.g=fb(t.l,i?e:null,!t.s),0<t.O&&(t.L=new e1(xn(t.Ia,t,t.g),t.O)),O0(t.V,t.g,"readystatechange",t.gb),e=t.H?kg(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Fi(1),function(t,e,i,a,c,f){t.info(function(){if(t.g)if(f)for(var p="",m=f.split("&"),b=0;b<m.length;b++){var E=m[b].split("=");if(1<E.length){var D=E[0];E=E[1];var I=D.split("_");p=2<=I.length&&"type"==I[1]?p+(D+"=")+E+"&":p+(D+"=redacted&")}}else p=null;else p=f;return"XMLHTTP REQ ("+a+") [attempt "+c+"]: "+e+"\n"+i+"\n"+p})}(t.j,t.u,t.A,t.m,t.X,t.s)}function vu(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function G0(t,e,i){for(var c,a=!0;!t.I&&t.C<i.length;){if((c=nm(t,i))==yu){4==e&&(t.o=4,Hn(14),a=!1),cl(t.j,t.m,null,"[Incomplete Response]");break}if(c==B0){t.o=4,Hn(15),cl(t.j,t.m,i,"[Invalid Chunk]"),a=!1;break}cl(t.j,t.m,c,null),$0(t,c)}vu(t)&&c!=yu&&c!=B0&&(t.h.g="",t.C=0),4!=e||0!=i.length||t.h.h||(t.o=1,Hn(16),a=!1),t.i=t.i&&a,a?0<i.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),Bf(e),e.L=!0,Hn(11))):(cl(t.j,t.m,i,"[Invalid Chunked Response]"),$o(t),Hs(t))}function nm(t,e){var i=t.C,a=e.indexOf("\n",i);return-1==a?yu:(i=Number(e.substring(i,a)),isNaN(i)?B0:(a+=1)+i>e.length?yu:(e=e.substr(a,i),t.C=a+i,e))}function Gs(t){t.Y=Date.now()+t.P,H0(t,t.P)}function H0(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=gu(xn(t.eb,t),e)}function _u(t){t.B&&(Ye.clearTimeout(t.B),t.B=null)}function Hs(t){0==t.l.G||t.I||ub(t.l,t)}function $o(t){_u(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Sf(t.W),P0(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function $0(t,e){try{var i=t.l;if(0!=i.G&&(i.g==t||Pf(i.i,t)))if(i.I=t.N,!t.J&&Pf(i.i,t)&&3==i.G){try{var a=i.Ca.g.parse(e)}catch(le){a=null}if(Array.isArray(a)&&3==a.length){var c=a;if(0==c[0])e:if(i.u)i.ta=c[1],0<i.ta-i.U&&37500>c[2]&&i.N&&0==i.A&&!i.v&&(i.v=gu(xn(i.ab,i),6e3));else{if(i.g){if(!(i.g.F+3e3<t.F))break e;Gf(i),yl(i)}jf(i),Hn(18)}if(1>=eb(i.i)&&i.ka){try{i.ka()}catch(le){}i.ka=void 0}}else Ws(i,11)}else if((t.J||i.g==t)&&Gf(i),!ol(e))for(c=i.Ca.g.parse(e),e=0;e<c.length;e++){var f=c[e];if(i.U=f[0],f=f[1],2==i.G)if("c"==f[0]){i.J=f[1],i.la=f[2];var p=f[3];null!=p&&(i.ma=p,i.h.info("VER="+i.ma));var m=f[4];null!=m&&(i.za=m,i.h.info("SVER="+i.za));var b=f[5];null!=b&&"number"==typeof b&&0<b&&(i.K=a=1.5*b,i.h.info("backChannelRequestTimeoutMs_="+a)),a=i;var E=t.g;if(E){var D=E.g?E.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(D){var I=a.i;!I.g&&(Gt(D,"spdy")||Gt(D,"quic")||Gt(D,"h2"))&&(I.j=I.l,I.g=new Set,I.h&&(um(I,I.h),I.h=null))}if(a.D){var M=E.g?E.g.getResponseHeader("X-HTTP-Session-Id"):null;M&&(a.sa=M,Ut(a.F,a.D,M))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-t.F,i.h.info("Handshake RTT: "+i.O+"ms"));var O=t;if((a=i).oa=db(a,a.H?a.la:null,a.W),O.J){cm(a.i,O);var j=O,z=a.K;z&&j.setTimeout(z),j.B&&(_u(j),Gs(j)),a.g=O}else ym(a);0<i.l.length&&qs(i)}else"stop"!=f[0]&&"close"!=f[0]||Ws(i,7);else 3==i.G&&("stop"==f[0]||"close"==f[0]?"stop"==f[0]?Ws(i,7):hm(i):"noop"!=f[0]&&i.j&&i.j.wa(f),i.A=0)}Fi(4)}catch(le){}}function xf(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(pf(t)||"string"==typeof t)pI(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var i=t.T();else if(t.R&&"function"==typeof t.R)i=void 0;else if(pf(t)||"string"==typeof t){i=[];for(var a=t.length,c=0;c<a;c++)i.push(c)}else for(c in i=[],a=0,t)i[a++]=c;c=(a=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(pf(t)){for(var e=[],i=t.length,a=0;a<i;a++)e.push(t[a]);return e}for(a in e=[],i=0,t)e[i++]=t[a];return e}(t)).length;for(var f=0;f<c;f++)e.call(void 0,a[f],i&&i[f],t)}}function $s(t,e){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var a=0;a<i;a+=2)this.set(arguments[a],arguments[a+1])}else if(t)if(t instanceof $s)for(i=t.T(),a=0;a<i.length;a++)this.set(i[a],t.get(i[a]));else for(a in t)this.set(a,t[a])}function rm(t){if(t.i!=t.g.length){for(var e=0,i=0;e<t.g.length;){var a=t.g[e];qo(t.h,a)&&(t.g[i++]=a),e++}t.g.length=i}if(t.i!=t.g.length){var c={};for(i=e=0;e<t.g.length;)qo(c,a=t.g[e])||(t.g[i++]=a,c[a]=1),e++;t.g.length=i}}function qo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(xe=mu.prototype).setTimeout=function(t){this.P=t},xe.gb=function(t){t=t.target;var e=this.L;e&&3==co(t)?e.l():this.Ia(t)},xe.Ia=function(t){try{if(t==this.g)e:{var e=co(this.g),i=this.g.Da(),a=this.g.ba();if(!(3>e)&&(3!=e||Vg||this.g&&(this.h.h||this.g.ga()||fm(this.g)))){this.I||4!=e||7==i||Fi(8==i||0>=a?3:2),_u(this);var c=this.g.ba();this.N=c;t:if(vu(this)){var f=fm(this.g);t="";var p=f.length,m=4==co(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){$o(this),Hs(this);var b="";break t}this.h.i=new Ye.TextDecoder}for(i=0;i<p;i++)this.h.h=!0,t+=this.h.i.decode(f[i],{stream:m&&i==p-1});f.splice(0,p),this.h.g+=t,this.C=0,b=this.h.g}else b=this.g.ga();if(this.i=200==c,function(t,e,i,a,c,f,p){t.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+c+"]: "+e+"\n"+i+"\n"+f+" "+p})}(this.j,this.u,this.A,this.m,this.X,e,c),this.i){if(this.$&&!this.J){t:{if(this.g){var E,D=this.g;if((E=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ol(E)){var I=E;break t}}I=null}if(!(c=I)){this.i=!1,this.o=3,Hn(12),$o(this),Hs(this);break e}cl(this.j,this.m,c,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,$0(this,c)}this.U?(G0(this,e,b),Vg&&this.i&&3==e&&(O0(this.V,this.W,"tick",this.fb),this.W.start())):(cl(this.j,this.m,b,null),$0(this,b)),4==e&&$o(this),this.i&&!this.I&&(4==e?ub(this.l,this):(this.i=!1,Gs(this)))}else 400==c&&0<b.indexOf("Unknown SID")?(this.o=3,Hn(12)):(this.o=0,Hn(13)),$o(this),Hs(this)}}}catch(M){}},xe.fb=function(){if(this.g){var t=co(this.g),e=this.g.ga();this.C<e.length&&(_u(this),G0(this,t,e),this.i&&4!=t&&Gs(this))}},xe.cancel=function(){this.I=!0,$o(this)},xe.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Fi(3),Hn(17)),$o(this),this.o=2,Hs(this)):H0(this,this.Y-t)},(xe=$s.prototype).R=function(){rm(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},xe.T=function(){return rm(this),this.g.concat()},xe.get=function(t,e){return qo(this.h,t)?this.h[t]:e},xe.set=function(t,e){qo(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},xe.forEach=function(t,e){for(var i=this.T(),a=0;a<i.length;a++){var c=i[a],f=this.get(c);t.call(e,f,c,this)}};var Rf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ao(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof ao){this.g=void 0!==e?e:t.g,dl(this,t.j),this.s=t.s,Of(this,t.i),fl(this,t.m),this.l=t.l,e=t.h;var i=new wu;i.i=e.i,e.g&&(i.g=new $s(e.g),i.h=e.h),im(this,i),this.o=t.o}else t&&(i=String(t).match(Rf))?(this.g=!!e,dl(this,i[1]||"",!0),this.s=pl(i[2]||""),Of(this,i[3]||"",!0),fl(this,i[4]),this.l=pl(i[5]||"",!0),im(this,i[6]||"",!0),this.o=pl(i[7]||"")):(this.g=!!e,this.h=new wu(null,this.g))}function pi(t){return new ao(t)}function dl(t,e,i){t.j=i?pl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Of(t,e,i){t.i=i?pl(e,!0):e}function fl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function im(t,e,i){e instanceof wu?(t.h=e,function(t,e){e&&!t.j&&(uo(t),t.i=null,t.g.forEach(function(i,a){var c=a.toLowerCase();a!=c&&(am(this,a),Y0(this,c,i))},t)),t.j=e}(t.h,t.g)):(i||(e=bu(e,K0)),t.h=new wu(e,t.g))}function Ut(t,e,i){t.h.set(e,i)}function hl(t){return Ut(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function pl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function bu(t,e,i){return"string"==typeof t?(t=encodeURI(t).replace(e,om),i&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function om(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ao.prototype.toString=function(){var t=[],e=this.j;e&&t.push(bu(e,sm,!0),":");var i=this.i;return(i||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(bu(e,sm,!0),"@"),t.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&t.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&t.push("/"),t.push(bu(i,"/"==i.charAt(0)?z0:W0,!0))),(i=this.h.toString())&&t.push("?",i),(i=this.o)&&t.push("#",bu(i,Q0)),t.join("")};var sm=/[#\/\?@]/g,W0=/[#\?:]/g,z0=/[#\?]/g,K0=/[#\?@]/g,Q0=/#/g;function wu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function uo(t){t.g||(t.g=new $s,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var i=0;i<t.length;i++){var a=t[i].indexOf("="),c=null;if(0<=a){var f=t[i].substring(0,a);c=t[i].substring(a+1)}else f=t[i];e(f,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(t.i,function(e,i){t.add(decodeURIComponent(e.replace(/\+/g," ")),i)}))}function am(t,e){uo(t),e=Eu(t,e),qo(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,qo((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&rm(t)))}function AI(t,e){return uo(t),e=Eu(t,e),qo(t.g.h,e)}function Y0(t,e,i){am(t,e),0<i.length&&(t.i=null,t.g.set(Eu(t,e),mf(i)),t.h+=i.length)}function Eu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(xe=wu.prototype).add=function(t,e){uo(this),this.i=null,t=Eu(this,t);var i=this.g.get(t);return i||this.g.set(t,i=[]),i.push(e),this.h+=1,this},xe.forEach=function(t,e){uo(this),this.g.forEach(function(i,a){pI(i,function(c){t.call(e,c,a,this)},this)},this)},xe.T=function(){uo(this);for(var t=this.g.R(),e=this.g.T(),i=[],a=0;a<e.length;a++)for(var c=t[a],f=0;f<c.length;f++)i.push(e[a]);return i},xe.R=function(t){uo(this);var e=[];if("string"==typeof t)AI(this,t)&&(e=_0(e,this.g.get(Eu(this,t))));else{t=this.g.R();for(var i=0;i<t.length;i++)e=_0(e,t[i])}return e},xe.set=function(t,e){return uo(this),this.i=null,AI(this,t=Eu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},xe.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),i=0;i<e.length;i++){var a=e[i],c=encodeURIComponent(String(a));a=this.R(a);for(var f=0;f<a.length;f++){var p=c;""!==a[f]&&(p+="="+encodeURIComponent(String(a[f]))),t.push(p)}}return this.i=t.join("&")};var MI=function(e,i){this.h=e,this.g=i};function yn(t){this.l=t||Z0,t=Ye.PerformanceNavigationTiming?0<(t=Ye.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ye.g&&Ye.g.Ea&&Ye.g.Ea()&&Ye.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Z0=10;function X0(t){return!!t.h||!!t.g&&t.g.size>=t.j}function eb(t){return t.h?1:t.g?t.g.size:0}function Pf(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function um(t,e){t.g?t.g.add(e):t.h=e}function cm(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function lm(t){var e,i;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var a=t.i;try{for(var c=Rg(t.g.values()),f=c.next();!f.done;f=c.next())a=a.concat(f.value.D)}catch(m){e={error:m}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(e)throw e.error}}return a}return mf(t.i)}function Wo(){}function NI(){this.g=new Wo}function xI(t,e,i){var a=i||"";try{xf(t,function(c,f){var p=c;du(c)&&(p=qg(c)),e.push(a+f+"="+encodeURIComponent(p))})}catch(c){throw e.push(a+"type="+encodeURIComponent("_badmap")),c}}function Ff(t,e,i,a,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(a)}catch(f){}}function Cu(t){this.l=t.$b||null,this.j=t.ib||!1}function dm(t,e){Dn.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=kf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yn.prototype.cancel=function(){var t,e;if(this.i=lm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var i=Rg(this.g.values()),a=i.next();!a.done;a=i.next())a.value.cancel()}catch(f){t={error:f}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}this.g.clear()}},Wo.prototype.stringify=function(t){return Ye.JSON.stringify(t,void 0)},Wo.prototype.parse=function(t){return Ye.JSON.parse(t,void 0)},Gn(Cu,Af),Cu.prototype.g=function(){return new dm(this.l,this.j)},Cu.prototype.i=function(t){return function(){return t}}({}),Gn(dm,Dn);var kf=0;function Lf(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function hr(t){t.readyState=4,t.l=null,t.j=null,t.A=null,gl(t)}function gl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(xe=dm.prototype).open=function(t,e){if(this.readyState!=kf)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,gl(this)},xe.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Ye).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hr(this)),this.readyState=kf},xe.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,gl(this)),this.g&&(this.readyState=3,gl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ye.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Lf(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},xe.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?hr(this):gl(this),3==this.readyState&&Lf(this)}},xe.Ua=function(t){this.g&&(this.response=this.responseText=t,hr(this))},xe.Ta=function(t){this.g&&(this.response=t,hr(this))},xe.ha=function(){this.g&&hr(this)},xe.setRequestHeader=function(t,e){this.v.append(t,e)},xe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},xe.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),i=e.next();!i.done;)t.push((i=i.value)[0]+": "+i[1]),i=e.next();return t.join("\r\n")},Object.defineProperty(dm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var RI=Ye.JSON.parse;function Mt(t){Dn.call(this),this.headers=new $s,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Hr,this.K=this.L=!1}Gn(Mt,Dn);var Hr="",gi=/^https?$/i,nb=["POST","PUT"];function OI(t){return"content-type"==t.toLowerCase()}function ib(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ob(t),Du(t)}function ob(t){t.D||(t.D=!0,Rn(t,"complete"),Rn(t,"error"))}function sb(t){if(t.h&&void 0!==Og&&(!t.C[1]||4!=co(t)||2!=t.ba()))if(t.v&&4==co(t))R0(t.Fa,0,t);else if(Rn(t,"readystatechange"),4==co(t)){t.h=!1;try{var a,e=t.ba();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}if(!(a=i)){var c;if(c=0===e){var f=String(t.H).match(Rf)[1]||null;if(!f&&Ye.self&&Ye.self.location){var p=Ye.self.location.protocol;f=p.substr(0,p.length-1)}c=!gi.test(f?f.toLowerCase():"")}a=c}if(a)Rn(t,"complete"),Rn(t,"success");else{t.m=6;try{var m=2<co(t)?t.g.statusText:""}catch(b){m=""}t.j=m+" ["+t.ba()+"]",ob(t)}}finally{Du(t)}}}function Du(t,e){if(t.g){Iu(t);var i=t.g,a=t.C[0]?lu:null;t.g=null,t.C=null,e||Rn(t,"ready");try{i.onreadystatechange=a}catch(c){}}}function Iu(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Ye.clearTimeout(t.A),t.A=null)}function co(t){return t.g?t.g.readyState:0}function fm(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Hr:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Vf(t,e,i){e:{for(a in i){var a=!1;break e}a=!0}a||(i=function(t){var e="";return yf(t,function(i,a){e+=a,e+=":",e+=i,e+="\r\n"}),e}(i),"string"==typeof t?null!=i&&encodeURIComponent(String(i)):Ut(t,e,i))}function Tu(t,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[t]||e}function ml(t){this.za=0,this.l=[],this.h=new pu,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Tu("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Tu("baseRetryDelayMs",5e3,t),this.$a=Tu("retryDelaySeedMs",1e4,t),this.Ya=Tu("forwardChannelMaxRetries",2,t),this.ra=Tu("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new yn(t&&t.concurrentRequestLimit),this.Ca=new NI,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function hm(t){if(pm(t),3==t.G){var e=t.V++,i=pi(t.F);Ut(i,"SID",t.J),Ut(i,"RID",e),Ut(i,"TYPE","terminate"),Su(t,i),(e=new mu(t,t.h,e,void 0)).K=2,e.v=hl(pi(i)),i=!1,Ye.navigator&&Ye.navigator.sendBeacon&&(i=Ye.navigator.sendBeacon(e.v.toString(),"")),!i&&Ye.Image&&((new Image).src=e.v,i=!0),i||(e.g=fb(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Gs(e)}lb(t)}function yl(t){t.g&&(Bf(t),t.g.cancel(),t.g=null)}function pm(t){yl(t),t.u&&(Ye.clearTimeout(t.u),t.u=null),Gf(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Ye.clearTimeout(t.m),t.m=null)}function Uf(t,e){t.l.push(new MI(t.Za++,e)),3==t.G&&qs(t)}function qs(t){X0(t.i)||t.m||(t.m=!0,If(t.Ha,t),t.C=0)}function gm(t,e){var i;i=e?e.m:t.V++;var a=pi(t.F);Ut(a,"SID",t.J),Ut(a,"RID",i),Ut(a,"AID",t.U),Su(t,a),t.o&&t.s&&Vf(a,t.o,t.s),i=new mu(t,t.h,i,t.C+1),null===t.o&&(i.H=t.s),e&&(t.l=e.D.concat(t.l)),e=mm(t,i,1e3),i.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),um(t.i,i),tm(i,a,e)}function Su(t,e){t.j&&xf({},function(i,a){Ut(e,a,i)})}function mm(t,e,i){i=Math.min(t.l.length,i);var a=t.j?xn(t.j.Oa,t.j,t):null;e:for(var c=t.l,f=-1;;){var p=["count="+i];-1==f?0<i?p.push("ofs="+(f=c[0].h)):f=0:p.push("ofs="+f);for(var m=!0,b=0;b<i;b++){var E=c[b].h,D=c[b].g;if(0>(E-=f))f=Math.max(0,c[b].h-100),m=!1;else try{xI(D,p,"req"+E+"_")}catch(I){a&&a(D)}}if(m){a=p.join("&");break e}}return t=t.l.splice(0,i),e.D=t,a}function ym(t){t.g||t.u||(t.Y=1,If(t.Ga,t),t.A=0)}function jf(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=gu(xn(t.Ga,t),cb(t,t.A)),t.A++,0))}function Bf(t){null!=t.B&&(Ye.clearTimeout(t.B),t.B=null)}function vm(t){t.g=new mu(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=pi(t.oa);Ut(e,"RID","rpc"),Ut(e,"SID",t.J),Ut(e,"CI",t.N?"0":"1"),Ut(e,"AID",t.U),Su(t,e),Ut(e,"TYPE","xmlhttp"),t.o&&t.s&&Vf(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var i=t.g;t=t.la,i.K=1,i.v=hl(pi(e)),i.s=null,i.U=!0,DI(i,t)}function Gf(t){null!=t.v&&(Ye.clearTimeout(t.v),t.v=null)}function ub(t,e){var i=null;if(t.g==e){Gf(t),Bf(t),t.g=null;var a=2}else{if(!Pf(t.i,e))return;i=e.D,cm(t.i,e),a=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==a){i=e.s?e.s.length:0,e=Date.now()-e.F;var c=t.C;Rn(a=Yg(),new L0(a,i,e,c)),qs(t)}else ym(t);else if(3==(c=e.o)||0==c&&0<t.I||!(1==a&&function(t,e){return!(eb(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=gu(xn(t.Ha,t,e),cb(t,t.C)),t.C++,0)))}(t,e)||2==a&&jf(t)))switch(i&&0<i.length&&(e=t.i,e.i=e.i.concat(i)),c){case 1:Ws(t,5);break;case 4:Ws(t,10);break;case 3:Ws(t,6);break;default:Ws(t,2)}}function cb(t,e){var i=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(i*=2),i*e}function Ws(t,e){if(t.h.info("Error code "+e),2==e){var i=null;t.j&&(i=null);var a=xn(t.jb,t);i||(i=new ao("//www.google.com/images/cleardot.gif"),Ye.location&&"http"==Ye.location.protocol||dl(i,"https"),hl(i)),function(t,e){var i=new pu;if(Ye.Image){var a=new Image;a.onload=il(Ff,i,a,"TestLoadImage: loaded",!0,e),a.onerror=il(Ff,i,a,"TestLoadImage: error",!1,e),a.onabort=il(Ff,i,a,"TestLoadImage: abort",!1,e),a.ontimeout=il(Ff,i,a,"TestLoadImage: timeout",!1,e),Ye.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=t}else e(!1)}(i.toString(),a)}else Hn(2);t.G=0,t.j&&t.j.va(e),lb(t),pm(t)}function lb(t){t.G=0,t.I=-1,t.j&&((0!=lm(t.i).length||0!=t.l.length)&&(t.i.i.length=0,mf(t.l),t.l.length=0),t.j.ua())}function db(t,e,i){var a=function(t){return t instanceof ao?pi(t):new ao(t,void 0)}(i);if(""!=a.i)e&&Of(a,e+"."+a.i),fl(a,a.m);else{var c=Ye.location;a=function(t,e,i,a){var c=new ao(null,void 0);return t&&dl(c,t),e&&Of(c,e),i&&fl(c,i),a&&(c.l=a),c}(c.protocol,e?e+"."+c.hostname:c.hostname,+c.port,i)}return t.aa&&yf(t.aa,function(f,p){Ut(a,p,f)}),i=t.sa,(e=t.D)&&i&&Ut(a,e,i),Ut(a,"VER",t.ma),Su(t,a),a}function fb(t,e,i){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Mt(i&&t.Ba&&!t.qa?new Cu({ib:!0}):t.qa)).L=t.H,e}function hb(){}function Hf(){if(Lo&&!(10<=Number(jg)))throw Error("Environmental error: no available transport.")}function Mr(t,e){Dn.call(this),this.g=new ml(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!ol(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ol(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Au(this)}function pb(t){Jg.call(this);var e=t.__sm__;if(e){e:{for(var i in e){t=i;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function gb(){Zg.call(this),this.status=1}function Au(t){this.g=t}(xe=Mt.prototype).ea=function(t,e,i,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Mf.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Mf),this.g.onreadystatechange=xn(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(f){return void ib(this,f)}t=i||"";var c=new $s(this.headers);a&&xf(a,function(f,p){c.set(p,f)}),a=function(t){e:{for(var e=OI,i=t.length,a="string"==typeof t?t.split(""):t,c=0;c<i;c++)if(c in a&&e.call(void 0,a[c],c,t)){e=c;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(c.T()),i=Ye.FormData&&t instanceof Ye.FormData,!(0<=hI(nb,e))||a||i||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(f,p){this.g.setRequestHeader(p,f)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Iu(this),0<this.B&&((this.K=function(t){return Lo&&sl()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xn(this.pa,this)):this.A=R0(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(f){ib(this,f)}},xe.pa=function(){void 0!==Og&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rn(this,"timeout"),this.abort(8))},xe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Rn(this,"complete"),Rn(this,"abort"),Du(this))},xe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Du(this,!0)),Mt.Z.M.call(this)},xe.Fa=function(){this.s||(this.F||this.v||this.l?sb(this):this.cb())},xe.cb=function(){sb(this)},xe.ba=function(){try{return 2<co(this)?this.g.status:-1}catch(t){return-1}},xe.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},xe.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),RI(e)}},xe.Da=function(){return this.m},xe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(xe=ml.prototype).ma=8,xe.G=1,xe.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},xe.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new mu(this,this.h,t,void 0),i=this.s;if(this.P&&(i?yI(i=kg(i),this.P):i=this.P),null===this.o&&(e.H=i),this.ja)e:{for(var a=0,c=0;c<this.l.length;c++){var f=this.l[c];if(void 0===(f="__data__"in f.g&&"string"==typeof(f=f.g.__data__)?f.length:void 0))break;if(4096<(a+=f)){a=c;break e}if(4096===a||c===this.l.length-1){a=c+1;break e}}a=1e3}else a=1e3;a=mm(this,e,a),Ut(c=pi(this.F),"RID",t),Ut(c,"CVER",22),this.D&&Ut(c,"X-HTTP-Session-Id",this.D),Su(this,c),this.o&&i&&Vf(c,this.o,i),um(this.i,e),this.Ra&&Ut(c,"TYPE","init"),this.ja?(Ut(c,"$req",a),Ut(c,"SID","null"),e.$=!0,tm(e,c,null)):tm(e,c,a),this.G=2}}else 3==this.G&&(t?gm(this,t):0==this.l.length||X0(this.i)||gm(this))},xe.Ga=function(){if(this.u=null,vm(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=gu(xn(this.bb,this),t)}},xe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Hn(10),yl(this),vm(this))},xe.ab=function(){null!=this.v&&(this.v=null,yl(this),jf(this),Hn(19))},xe.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Hn(2)):(this.h.info("Failed to ping google.com"),Hn(1))},(xe=hb.prototype).xa=function(){},xe.wa=function(){},xe.va=function(){},xe.ua=function(){},xe.Oa=function(){},Hf.prototype.g=function(t,e){return new Mr(t,e)},Gn(Mr,Dn),Mr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,i=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),If(xn(t.hb,t,e))),Hn(0),t.W=e,t.aa=i||{},t.N=t.X,t.F=db(t,null,t.W),qs(t)},Mr.prototype.close=function(){hm(this.g)},Mr.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Uf(this.g,e)}else this.v?((e={}).__data__=qg(t),Uf(this.g,e)):Uf(this.g,t)},Mr.prototype.M=function(){this.g.j=null,delete this.j,hm(this.g),delete this.g,Mr.Z.M.call(this)},Gn(pb,Jg),Gn(gb,Zg),Gn(Au,hb),Au.prototype.xa=function(){Rn(this.g,"a")},Au.prototype.wa=function(t){Rn(this.g,new pb(t))},Au.prototype.va=function(t){Rn(this.g,new gb(t))},Au.prototype.ua=function(){Rn(this.g,"b")},Hf.prototype.createWebChannel=Hf.prototype.g,Mr.prototype.send=Mr.prototype.u,Mr.prototype.open=Mr.prototype.m,Mr.prototype.close=Mr.prototype.close,Bs.NO_ERROR=0,Bs.TIMEOUT=8,Bs.HTTP_ERROR=6,V0.COMPLETE="complete",j0.EventType=ll,ll.OPEN="a",ll.CLOSE="b",ll.ERROR="c",ll.MESSAGE="d",Dn.prototype.listen=Dn.prototype.N,Mt.prototype.listenOnce=Mt.prototype.O,Mt.prototype.getLastError=Mt.prototype.La,Mt.prototype.getLastErrorCode=Mt.prototype.Da,Mt.prototype.getStatus=Mt.prototype.ba,Mt.prototype.getResponseJson=Mt.prototype.Qa,Mt.prototype.getResponseText=Mt.prototype.ga,Mt.prototype.send=Mt.prototype.ea;var $f=Bs,vb=V0,_b=js,qf_PROXY=10,qf_NOPROXY=11,_m=Cu,Mu=j0,bm=Mt,pr=function(){function t(e,i){var a=this;this.previousValue=e,i&&(i.sequenceNumberHandler=function(c){return a.t(c)},this.i=function(c){return i.writeSequenceNumber(c)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();pr.o=-1;var ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ge=function(t){function e(i,a){var c=this;return(c=t.call(this,a)||this).code=i,c.message=a,c.name="FirebaseError",c.toString=function(){return c.name+": [code="+c.code+"]: "+c.message},c}return(0,A.ZT)(e,t),e}(Error),Nr=new ks.Yd("@firebase/firestore");function Wf(){return Nr.logLevel}function be(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(Nr.logLevel<=ks.in.DEBUG){var a=e.map(zo);Nr.debug.apply(Nr,(0,A.ev)(["Firestore (8.8.1): "+t],a))}}function vn(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(Nr.logLevel<=ks.in.ERROR){var a=e.map(zo);Nr.error.apply(Nr,(0,A.ev)(["Firestore (8.8.1): "+t],a))}}function vl(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(Nr.logLevel<=ks.in.WARN){var a=e.map(zo);Nr.warn.apply(Nr,(0,A.ev)(["Firestore (8.8.1): "+t],a))}}function zo(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(i){return t}}function Fe(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+t;throw vn(e),new Error(e)}function ze(t,e){t||Fe()}function Te(t,e){return t}function bb(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(i);else for(var a=0;a<t;a++)i[a]=Math.floor(256*Math.random());return i}var wm=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length,a="";a.length<20;)for(var c=bb(40),f=0;f<c.length;++f)a.length<20&&c[f]<i&&(a+=e.charAt(c[f]%e.length));return a},t}();function mt(t,e){return t<e?-1:t>e?1:0}function ke(t,e,i){return t.length===e.length&&t.every(function(a,c){return i(a,e[c])})}function wb(t){return t+"\0"}var gr=function(){function t(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ge(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ge(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new ge(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var i=Math.floor(e/1e3);return new t(i,Math.floor(1e6*(e-1e3*i)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?mt(this.nanoseconds,e.nanoseconds):mt(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ft=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new gr(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function _l(t){var e=0;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e++;return e}function zs(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(i,t[i])}function bl(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var wl=function(){function t(e,i,a){void 0===i?i=0:i>e.length&&Fe(),void 0===a?a=e.length-i:a>e.length-i&&Fe(),this.segments=e,this.offset=i,this.len=a}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var i=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(a){i.push(a)}):i.push(e),this.construct(i)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0},t.prototype.forEach=function(e){for(var i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,i){for(var a=Math.min(e.length,i.length),c=0;c<a;c++){var f=e.get(c),p=i.get(c);if(f<p)return-1;if(f>p)return 1}return e.length<i.length?-1:e.length>i.length?1:0},t}(),Be=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(e,t),e.prototype.construct=function(i,a,c){return new e(i,a,c)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];for(var c=[],f=0,p=i;f<p.length;f++){var m=p[f];if(m.indexOf("//")>=0)throw new ge(ee.INVALID_ARGUMENT,"Invalid segment ("+m+"). Paths must not contain // in them.");c.push.apply(c,m.split("/").filter(function(b){return b.length>0}))}return new e(c)},e.emptyPath=function(){return new e([])},e}(wl),r1=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(e,t),e.prototype.construct=function(i,a,c){return new e(i,a,c)},e.isValidIdentifier=function(i){return r1.test(i)},e.prototype.canonicalString=function(){return this.toArray().map(function(i){return i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(i)||(i="`"+i+"`"),i}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(i){for(var a=[],c="",f=0,p=function(){if(0===c.length)throw new ge(ee.INVALID_ARGUMENT,"Invalid field path ("+i+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");a.push(c),c=""},m=!1;f<i.length;){var b=i[f];if("\\"===b){if(f+1===i.length)throw new ge(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+i);var E=i[f+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new ge(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);c+=E,f+=2}else"`"===b?(m=!m,f++):"."!==b||m?(c+=b,f++):(p(),f++)}if(p(),m)throw new ge(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new e(a)},e.emptyPath=function(){return new e([])},e}(wl),Ko=function(){function t(e){this.fields=e,e.sort($r.comparator)}return t.prototype.covers=function(e){for(var i=0,a=this.fields;i<a.length;i++)if(a[i].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return ke(this.fields,e.fields,function(i,a){return i.isEqual(a)})},t}(),rr=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(i){for(var a="",c=0;c<i.length;++c)a+=String.fromCharCode(i[c]);return a}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(e){for(var i=new Uint8Array(e.length),a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return mt(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();rr.EMPTY_BYTE_STRING=new rr("");var Eb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lo(t){if(ze(!!t),"string"==typeof t){var e=0,i=Eb.exec(t);if(ze(!!i),i[1]){var a=i[1];a=(a+"000000000").substr(0,9),e=Number(a)}var c=new Date(t);return{seconds:Math.floor(c.getTime()/1e3),nanos:e}}return{seconds:cn(t.seconds),nanos:cn(t.nanos)}}function cn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ks(t){return"string"==typeof t?rr.fromBase64String(t):rr.fromUint8Array(t)}function Em(t){var e,i;return"server_timestamp"===(null===(i=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Cb(t){var e=t.mapValue.fields.__previous_value__;return Em(e)?Cb(e):e}function El(t){var e=lo(t.mapValue.fields.__local_write_time__.timestampValue);return new gr(e.seconds,e.nanos)}function mi(t){return null==t}function zf(t){return 0===t&&1/t==-1/0}function Db(t){return"number"==typeof t&&Number.isInteger(t)&&!zf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Ve=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(Be.fromString(e))},t.fromName=function(e){return new t(Be.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return null!==e&&0===Be.comparator(this.path,e.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,i){return Be.comparator(e.path,i.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new Be(e.slice()))},t}();function ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Em(t)?4:10:Fe()}function yi(t,e){var c,i=ki(t);if(i!==ki(e))return!1;switch(i){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return El(t).isEqual(El(e));case 3:return function(a,c){if("string"==typeof a.timestampValue&&"string"==typeof c.timestampValue&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;var f=lo(a.timestampValue),p=lo(c.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return c=e,Ks(t.bytesValue).isEqual(Ks(c.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,c){return cn(a.geoPointValue.latitude)===cn(c.geoPointValue.latitude)&&cn(a.geoPointValue.longitude)===cn(c.geoPointValue.longitude)}(t,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return cn(a.integerValue)===cn(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){var f=cn(a.doubleValue),p=cn(c.doubleValue);return f===p?zf(f)===zf(p):isNaN(f)&&isNaN(p)}return!1}(t,e);case 9:return ke(t.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:return function(a,c){var f=a.mapValue.fields||{},p=c.mapValue.fields||{};if(_l(f)!==_l(p))return!1;for(var m in f)if(f.hasOwnProperty(m)&&(void 0===p[m]||!yi(f[m],p[m])))return!1;return!0}(t,e);default:return Fe()}}function Nu(t,e){return void 0!==(t.values||[]).find(function(i){return yi(i,e)})}function Qs(t,e){var c,f,p,m,i=ki(t),a=ki(e);if(i!==a)return mt(i,a);switch(i){case 0:return 0;case 1:return mt(t.booleanValue,e.booleanValue);case 2:return f=e,(p=cn((c=t).integerValue||c.doubleValue))<(m=cn(f.integerValue||f.doubleValue))?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1;case 3:return Ib(t.timestampValue,e.timestampValue);case 4:return Ib(El(t),El(e));case 5:return mt(t.stringValue,e.stringValue);case 6:return function(c,f){var p=Ks(c),m=Ks(f);return p.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(c,f){for(var p=c.split("/"),m=f.split("/"),b=0;b<p.length&&b<m.length;b++){var E=mt(p[b],m[b]);if(0!==E)return E}return mt(p.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(c,f){var p=mt(cn(c.latitude),cn(f.latitude));return 0!==p?p:mt(cn(c.longitude),cn(f.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(c,f){for(var p=c.values||[],m=f.values||[],b=0;b<p.length&&b<m.length;++b){var E=Qs(p[b],m[b]);if(E)return E}return mt(p.length,m.length)}(t.arrayValue,e.arrayValue);case 10:return function(c,f){var p=c.fields||{},m=Object.keys(p),b=f.fields||{},E=Object.keys(b);m.sort(),E.sort();for(var D=0;D<m.length&&D<E.length;++D){var I=mt(m[D],E[D]);if(0!==I)return I;var M=Qs(p[m[D]],b[E[D]]);if(0!==M)return M}return mt(m.length,E.length)}(t.mapValue,e.mapValue);default:throw Fe()}}function Ib(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return mt(t,e);var i=lo(t),a=lo(e),c=mt(i.seconds,a.seconds);return 0!==c?c:mt(i.nanos,a.nanos)}function Ys(t){return Js(t)}function Js(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?"time("+(c=lo(t.timestampValue)).seconds+","+c.nanos+")":"stringValue"in t?t.stringValue:"bytesValue"in t?Ks(t.bytesValue).toBase64():"referenceValue"in t?Ve.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(a){for(var c="[",f=!0,p=0,m=a.values||[];p<m.length;p++)f?f=!1:c+=",",c+=Js(m[p]);return c+"]"}(t.arrayValue):"mapValue"in t?function(a){for(var c="{",f=!0,p=0,m=Object.keys(a.fields||{}).sort();p<m.length;p++){var b=m[p];f?f=!1:c+=",",c+=b+":"+Js(a.fields[b])}return c+"}"}(t.mapValue):Fe();var c,e}function Kf(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Cm(t){return!!t&&"integerValue"in t}function Dm(t){return!!t&&"arrayValue"in t}function Im(t){return!!t&&"nullValue"in t}function Tm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cl(t){return!!t&&"mapValue"in t}function Dl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return zs(t.mapValue.fields,function(c,f){return e.mapValue.fields[c]=Dl(f)}),e}if(t.arrayValue){for(var i={arrayValue:{values:[]}},a=0;a<(t.arrayValue.values||[]).length;++a)i.arrayValue.values[a]=Dl(t.arrayValue.values[a]);return i}return Object.assign({},t)}var mr=function(){function t(e){this.value=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.isEmpty())return this.value;for(var i=this.value,a=0;a<e.length-1;++a)if(!Cl(i=(i.mapValue.fields||{})[e.get(a)]))return null;return(i=(i.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.set=function(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dl(i)},t.prototype.setAll=function(e){var i=this,a=$r.emptyPath(),c={},f=[];e.forEach(function(m,b){if(!a.isImmediateParentOf(b)){var E=i.getFieldsMap(a);i.applyChanges(E,c,f),c={},f=[],a=b.popLast()}m?c[b.lastSegment()]=Dl(m):f.push(b.lastSegment())});var p=this.getFieldsMap(a);this.applyChanges(p,c,f)},t.prototype.delete=function(e){var i=this.field(e.popLast());Cl(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]},t.prototype.isEqual=function(e){return yi(this.value,e.value)},t.prototype.getFieldsMap=function(e){var i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(var a=0;a<e.length;++a){var c=i.mapValue.fields[e.get(a)];Cl(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=c),i=c}return i.mapValue.fields},t.prototype.applyChanges=function(e,i,a){zs(i,function(m,b){return e[m]=b});for(var c=0,f=a;c<f.length;c++)delete e[f[c]]},t.prototype.clone=function(){return new t(Dl(this.value))},t}();function Tb(t){var e=[];return zs(t.fields,function(i,a){var c=new $r([i]);if(Cl(a)){var f=Tb(a.mapValue).fields;if(0===f.length)e.push(c);else for(var p=0,m=f;p<m.length;p++)e.push(c.child(m[p]))}else e.push(c)}),new Ko(e)}var On=function(){function t(e,i,a,c,f){this.key=e,this.documentType=i,this.version=a,this.data=c,this.documentState=f}return t.newInvalidDocument=function(e){return new t(e,0,ft.min(),mr.empty(),0)},t.newFoundDocument=function(e,i,a){return new t(e,1,i,a,0)},t.newNoDocument=function(e,i){return new t(e,2,i,mr.empty(),0)},t.newUnknownDocument=function(e,i){return new t(e,3,i,mr.empty(),2)},t.prototype.convertToFoundDocument=function(e,i){return this.version=e,this.documentType=1,this.data=i,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=mr.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=mr.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),i1=function(t,e,i,a,c,f,p){void 0===e&&(e=null),void 0===i&&(i=[]),void 0===a&&(a=[]),void 0===c&&(c=null),void 0===f&&(f=null),void 0===p&&(p=null),this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=c,this.startAt=f,this.endAt=p,this.h=null};function LI(t,e,i,a,c,f,p){return void 0===e&&(e=null),void 0===i&&(i=[]),void 0===a&&(a=[]),void 0===c&&(c=null),void 0===f&&(f=null),void 0===p&&(p=null),new i1(t,e,i,a,c,f,p)}function Qf(t){var e=Te(t);if(null===e.h){var i=e.path.canonicalString();null!==e.collectionGroup&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(function(a){return(c=a).field.canonicalString()+c.op.toString()+Ys(c.value);var c}).join(","),i+="|ob:",i+=e.orderBy.map(function(a){return(c=a).field.canonicalString()+c.dir;var c}).join(","),mi(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=Sl(e.startAt)),e.endAt&&(i+="|ub:",i+=Sl(e.endAt)),e.h=i}return e.h}function Sm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var i=0;i<t.orderBy.length;i++)if(!$I(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var a=0;a<t.filters.length;a++)if((c=t.filters[a]).op!==(f=e.filters[a]).op||!c.field.isEqual(f.field)||!yi(c.value,f.value))return!1;var c,f;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ab(t.startAt,e.startAt)&&Ab(t.endAt,e.endAt)}function Il(t){return Ve.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var $n=function(t){function e(i,a,c){var f=this;return(f=t.call(this)||this).field=i,f.op=a,f.value=c,f}return(0,A.ZT)(e,t),e.create=function(i,a,c){return i.isKeyField()?"in"===a||"not-in"===a?this.l(i,a,c):new VI(i,a,c):"array-contains"===a?new jI(i,c):"in"===a?new BI(i,c):"not-in"===a?new GI(i,c):"array-contains-any"===a?new HI(i,c):new e(i,a,c)},e.l=function(i,a,c){return"in"===a?new UI(i,c):new Sb(i,c)},e.prototype.matches=function(i){var a=i.data.field(this.field);return"!="===this.op?null!==a&&this.m(Qs(a,this.value)):null!==a&&ki(this.value)===ki(a)&&this.m(Qs(a,this.value))},e.prototype.m=function(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return Fe()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),VI=function(t){function e(i,a,c){var f=this;return(f=t.call(this,i,a,c)||this).key=Ve.fromName(c.referenceValue),f}return(0,A.ZT)(e,t),e.prototype.matches=function(i){var a=Ve.comparator(i.key,this.key);return this.m(a)},e}($n),UI=function(t){function e(i,a){var c=this;return(c=t.call(this,i,"in",a)||this).keys=xu(0,a),c}return(0,A.ZT)(e,t),e.prototype.matches=function(i){return this.keys.some(function(a){return a.isEqual(i.key)})},e}($n),Sb=function(t){function e(i,a){var c=this;return(c=t.call(this,i,"not-in",a)||this).keys=xu(0,a),c}return(0,A.ZT)(e,t),e.prototype.matches=function(i){return!this.keys.some(function(a){return a.isEqual(i.key)})},e}($n);function xu(t,e){var i;return((null===(i=e.arrayValue)||void 0===i?void 0:i.values)||[]).map(function(a){return Ve.fromName(a.referenceValue)})}var jI=function(t){function e(i,a){return t.call(this,i,"array-contains",a)||this}return(0,A.ZT)(e,t),e.prototype.matches=function(i){var a=i.data.field(this.field);return Dm(a)&&Nu(a.arrayValue,this.value)},e}($n),BI=function(t){function e(i,a){return t.call(this,i,"in",a)||this}return(0,A.ZT)(e,t),e.prototype.matches=function(i){var a=i.data.field(this.field);return null!==a&&Nu(this.value.arrayValue,a)},e}($n),GI=function(t){function e(i,a){return t.call(this,i,"not-in",a)||this}return(0,A.ZT)(e,t),e.prototype.matches=function(i){if(Nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var a=i.data.field(this.field);return null!==a&&!Nu(this.value.arrayValue,a)},e}($n),HI=function(t){function e(i,a){return t.call(this,i,"array-contains-any",a)||this}return(0,A.ZT)(e,t),e.prototype.matches=function(i){var a=this,c=i.data.field(this.field);return!(!Dm(c)||!c.arrayValue.values)&&c.arrayValue.values.some(function(f){return Nu(a.value.arrayValue,f)})},e}($n),Tl=function(t,e){this.position=t,this.before=e};function Sl(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return Ys(e)}).join(",")}var Ru=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function $I(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Zs(t,e,i){for(var a=0,c=0;c<t.position.length;c++){var f=e[c],p=t.position[c];if(a=f.field.isKeyField()?Ve.comparator(Ve.fromName(p.referenceValue),i.key):Qs(p,i.data.field(f.field)),"desc"===f.dir&&(a*=-1),0!==a)break}return t.before?a<=0:a<0}function Ab(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var i=0;i<t.position.length;i++)if(!yi(t.position[i],e.position[i]))return!1;return!0}var Li=function(t,e,i,a,c,f,p,m){void 0===e&&(e=null),void 0===i&&(i=[]),void 0===a&&(a=[]),void 0===c&&(c=null),void 0===f&&(f="F"),void 0===p&&(p=null),void 0===m&&(m=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=c,this.limitType=f,this.startAt=p,this.endAt=m,this.p=null,this.T=null};function Mb(t,e,i,a,c,f,p,m){return new Li(t,e,i,a,c,f,p,m)}function Xs(t){return new Li(t)}function Yf(t){return!mi(t.limit)&&"F"===t.limitType}function Al(t){return!mi(t.limit)&&"L"===t.limitType}function Am(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Ml(t){for(var e=0,i=t.filters;e<i.length;e++){var a=i[e];if(a.g())return a.field}return null}function Mm(t){return null!==t.collectionGroup}function ea(t){var e=Te(t);if(null===e.p){e.p=[];var i=Ml(e),a=Am(e);if(null!==i&&null===a)i.isKeyField()||e.p.push(new Ru(i)),e.p.push(new Ru($r.keyField(),"asc"));else{for(var c=!1,f=0,p=e.explicitOrderBy;f<p.length;f++){var m=p[f];e.p.push(m),m.field.isKeyField()&&(c=!0)}if(!c){var b=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Ru($r.keyField(),b))}}}return e.p}function xr(t){var e=Te(t);if(!e.T)if("F"===e.limitType)e.T=LI(e.path,e.collectionGroup,ea(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var i=[],a=0,c=ea(e);a<c.length;a++){var f=c[a];i.push(new Ru(f.field,"desc"===f.dir?"asc":"desc"))}var m=e.endAt?new Tl(e.endAt.position,!e.endAt.before):null,b=e.startAt?new Tl(e.startAt.position,!e.startAt.before):null;e.T=LI(e.path,e.collectionGroup,i,e.filters,e.limit,m,b)}return e.T}function Nb(t,e,i){return new Li(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,i,t.startAt,t.endAt)}function Nl(t,e){return Sm(xr(t),xr(e))&&t.limitType===e.limitType}function xb(t){return Qf(xr(t))+"|lt:"+t.limitType}function xl(t){return"Query(target="+(i=(e=xr(t)).path.canonicalString(),null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=", filters: ["+e.filters.map(function(a){return(c=a).field.canonicalString()+" "+c.op+" "+Ys(c.value);var c}).join(", ")+"]"),mi(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=", orderBy: ["+e.orderBy.map(function(a){return(c=a).field.canonicalString()+" ("+c.dir+")";var c}).join(", ")+"]"),e.startAt&&(i+=", startAt: "+Sl(e.startAt)),e.endAt&&(i+=", endAt: "+Sl(e.endAt)),"Target("+i+"); limitType=")+t.limitType+")";var e,i}function Rl(t,e){return e.isFoundDocument()&&(c=(a=e).key.path,null!==(i=t).collectionGroup?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):Ve.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c))&&function(i,a){for(var c=0,f=i.explicitOrderBy;c<f.length;c++){var p=f[c];if(!p.field.isKeyField()&&null===a.data.field(p.field))return!1}return!0}(t,e)&&function(i,a){for(var c=0,f=i.filters;c<f.length;c++)if(!f[c].matches(a))return!1;return!0}(t,e)&&function(i,a){return!(i.startAt&&!Zs(i.startAt,ea(i),a)||i.endAt&&Zs(i.endAt,ea(i),a))}(t,e);var i,a,c}function Nm(t){return function(e,i){for(var a=!1,c=0,f=ea(t);c<f.length;c++){var p=f[c],m=qI(p,e,i);if(0!==m)return m;a=a||p.field.isKeyField()}return 0}}function qI(t,e,i){var c,p,m,b,a=t.field.isKeyField()?Ve.comparator(e.key,i.key):(p=i,m=e.data.field(c=t.field),b=p.data.field(c),null!==m&&null!==b?Qs(m,b):Fe());switch(t.dir){case"asc":return a;case"desc":return-1*a;default:return Fe()}}function Rb(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zf(e)?"-0":e}}function Ob(t){return{integerValue:""+t}}function Pb(t,e){return Db(e)?Ob(e):Rb(t,e)}var Jf=function(){this._=void 0};function WI(t,e,i){return t instanceof ta?(f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(a=i).seconds,nanos:a.nanoseconds}}}},(c=e)&&(f.fields.__previous_value__=c),{mapValue:f}):t instanceof Qo?kb(t,e):t instanceof na?xm(t,e):function(a,c){var f=Fb(a,c),p=Lb(f)+Lb(a.A);return Cm(f)&&Cm(a.A)?Ob(p):Rb(a.R,p)}(t,e);var a,c,f}function zI(t,e,i){return t instanceof Qo?kb(t,e):t instanceof na?xm(t,e):i}function Fb(t,e){return t instanceof Ou?Cm(i=e)||(a=i)&&"doubleValue"in a?e:{integerValue:0}:null;var a,i}var ta=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(e,t),e}(Jf),Qo=function(t){function e(i){var a=this;return(a=t.call(this)||this).elements=i,a}return(0,A.ZT)(e,t),e}(Jf);function kb(t,e){for(var i=Vb(e),a=function(p){i.some(function(m){return yi(m,p)})||i.push(p)},c=0,f=t.elements;c<f.length;c++)a(f[c]);return{arrayValue:{values:i}}}var na=function(t){function e(i){var a=this;return(a=t.call(this)||this).elements=i,a}return(0,A.ZT)(e,t),e}(Jf);function xm(t,e){for(var i=Vb(e),a=function(p){i=i.filter(function(m){return!yi(m,p)})},c=0,f=t.elements;c<f.length;c++)a(f[c]);return{arrayValue:{values:i}}}var Ou=function(t){function e(i,a){var c=this;return(c=t.call(this)||this).R=i,c.A=a,c}return(0,A.ZT)(e,t),e}(Jf);function Lb(t){return cn(t.integerValue||t.doubleValue)}function Vb(t){return Dm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ra=function(t,e){this.field=t,this.transform=e},Rm=function(t,e){this.version=t,this.transformResults=e},Pn=function(){function t(e,i){this.updateTime=e,this.exists=i}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function Pu(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Zf=function(){};function KI(t,e,i){var a,c,f,p,m;t instanceof Fu?(c=e,f=i,p=(a=t).value.clone(),m=YI(a.fieldTransforms,c,f.transformResults),p.setAll(m),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()):t instanceof fo?function(a,c,f){if(Pu(a.precondition,c)){var p=YI(a.fieldTransforms,c,f.transformResults),m=c.data;m.setAll(Pm(a)),m.setAll(p),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}else c.convertToUnknownDocument(f.version)}(t,e,i):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,i)}function Ol(t,e,i){var c;t instanceof Fu?function(a,c,f){if(Pu(a.precondition,c)){var p=a.value.clone(),m=jb(a.fieldTransforms,f,c);p.setAll(m),c.convertToFoundDocument(Ub(c),p).setHasLocalMutations()}}(t,e,i):t instanceof fo?function(a,c,f){if(Pu(a.precondition,c)){var p=jb(a.fieldTransforms,f,c),m=c.data;m.setAll(Pm(a)),m.setAll(p),c.convertToFoundDocument(Ub(c),m).setHasLocalMutations()}}(t,e,i):Pu(t.precondition,c=e)&&c.convertToNoDocument(ft.min())}function QI(t,e){for(var i=null,a=0,c=t.fieldTransforms;a<c.length;a++){var f=c[a],p=e.data.field(f.field),m=Fb(f.transform,p||null);null!=m&&(null==i&&(i=mr.empty()),i.set(f.field,m))}return i||null}function Om(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(a=e.fieldTransforms,!!(void 0===(i=t.fieldTransforms)&&void 0===a||i&&a&&ke(i,a,function(c,f){return(p=c).field.isEqual((m=f).field)&&(E=m.transform,(b=p.transform)instanceof Qo&&E instanceof Qo||b instanceof na&&E instanceof na?ke(b.elements,E.elements,yi):b instanceof Ou&&E instanceof Ou?yi(b.A,E.A):b instanceof ta&&E instanceof ta);var p,m,b,E})))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var i,a}function Ub(t){return t.isFoundDocument()?t.version:ft.min()}var Fu=function(t){function e(i,a,c,f){void 0===f&&(f=[]);var p=this;return(p=t.call(this)||this).key=i,p.value=a,p.precondition=c,p.fieldTransforms=f,p.type=0,p}return(0,A.ZT)(e,t),e}(Zf),fo=function(t){function e(i,a,c,f,p){void 0===p&&(p=[]);var m=this;return(m=t.call(this)||this).key=i,m.data=a,m.fieldMask=c,m.precondition=f,m.fieldTransforms=p,m.type=1,m}return(0,A.ZT)(e,t),e}(Zf);function Pm(t){var e=new Map;return t.fieldMask.fields.forEach(function(i){if(!i.isEmpty()){var a=t.data.field(i);e.set(i,a)}}),e}function YI(t,e,i){var a=new Map;ze(t.length===i.length);for(var c=0;c<i.length;c++){var f=t[c],p=f.transform,m=e.data.field(f.field);a.set(f.field,zI(p,m,i[c]))}return a}function jb(t,e,i){for(var a=new Map,c=0,f=t;c<f.length;c++){var p=f[c],m=p.transform,b=i.data.field(p.field);a.set(p.field,WI(m,b,e))}return a}var jt,wt,ia=function(t){function e(i,a){var c=this;return(c=t.call(this)||this).key=i,c.precondition=a,c.type=2,c.fieldTransforms=[],c}return(0,A.ZT)(e,t),e}(Zf),ku=function(t){function e(i,a){var c=this;return(c=t.call(this)||this).key=i,c.precondition=a,c.type=3,c.fieldTransforms=[],c}return(0,A.ZT)(e,t),e}(Zf),JI=function(t){this.count=t};function oa(t){switch(t){case ee.OK:return Fe();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Fe()}}function Bb(t){if(void 0===t)return vn("GRPC error has no .code"),ee.UNKNOWN;switch(t){case jt.OK:return ee.OK;case jt.CANCELLED:return ee.CANCELLED;case jt.UNKNOWN:return ee.UNKNOWN;case jt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case jt.INTERNAL:return ee.INTERNAL;case jt.UNAVAILABLE:return ee.UNAVAILABLE;case jt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case jt.NOT_FOUND:return ee.NOT_FOUND;case jt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case jt.ABORTED:return ee.ABORTED;case jt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case jt.DATA_LOSS:return ee.DATA_LOSS;default:return Fe()}}(wt=jt||(jt={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";var ir=function(){function t(e,i){this.comparator=e,this.root=i||Fn.EMPTY}return t.prototype.insert=function(e,i){return new t(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Fn.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fn.BLACK,null,null))},t.prototype.get=function(e){for(var i=this.root;!i.isEmpty();){var a=this.comparator(e,i.key);if(0===a)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null},t.prototype.indexOf=function(e){for(var i=0,a=this.root;!a.isEmpty();){var c=this.comparator(e,a.key);if(0===c)return i+a.left.size;c<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(i,a){return e(i,a),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(i,a){return e.push(i+":"+a),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new Xf(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new Xf(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Xf(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new Xf(this.root,e,this.comparator,!0)},t}(),Xf=function(){function t(e,i,a,c){this.isReverse=c,this.nodeStack=[];for(var f=1;!e.isEmpty();)if(f=i?a(e.key,i):1,c&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),Fn=function(){function t(e,i,a,c,f){this.key=e,this.value=i,this.color=null!=a?a:t.RED,this.left=null!=c?c:t.EMPTY,this.right=null!=f?f:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,i,a,c,f){return new t(null!=e?e:this.key,null!=i?i:this.value,null!=a?a:this.color,null!=c?c:this.left,null!=f?f:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,i,a){var c=this,f=a(e,c.key);return(c=f<0?c.copy(null,null,null,c.left.insert(e,i,a),null):0===f?c.copy(null,i,null,null,null):c.copy(null,null,null,null,c.right.insert(e,i,a))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,i){var a,c=this;if(i(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,i),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===i(e,c.key)){if(c.right.isEmpty())return t.EMPTY;a=c.right.min(),c=c.copy(a.key,a.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,i))}return c.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();var e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)},t}();Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1,Fn.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Fe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Fe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Fe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Fe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Fe()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,i,a,c,f){return this},t.prototype.insert=function(e,i,a){return new Fn(e,i)},t.prototype.remove=function(e,i){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var _n=function(){function t(e){this.comparator=e,this.data=new ir(this.comparator)}return t.prototype.has=function(e){return null!==this.data.get(e)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(i,a){return e(i),!1})},t.prototype.forEachInRange=function(e,i){for(var a=this.data.getIteratorFrom(e[0]);a.hasNext();){var c=a.getNext();if(this.comparator(c.key,e[1])>=0)return;i(c.key)}},t.prototype.forEachWhile=function(e,i){var a;for(a=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null},t.prototype.getIterator=function(){return new ZI(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new ZI(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var i=this;return i.size<e.size&&(i=e,e=this),e.forEach(function(a){i=i.add(a)}),i},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var i=this.data.getIterator(),a=e.data.getIterator();i.hasNext();){var c=i.getNext().key,f=a.getNext().key;if(0!==this.comparator(c,f))return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(i){e.push(i)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(i){return e.push(i)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var i=new t(this.comparator);return i.data=e,i},t}(),ZI=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),eh=new ir(Ve.comparator);function qr(){return eh}var XI=new ir(Ve.comparator);function Gb(){return XI}var eT=new ir(Ve.comparator);function Hb(){return eT}var tT=new _n(Ve.comparator);function It(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=tT,a=0,c=t;a<c.length;a++){var f=c[a];i=i.add(f)}return i}var $b=new _n(mt);function Lu(){return $b}var th=function(){function t(e,i,a,c,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=c,this.resolvedLimboDocuments=f}return t.createSynthesizedRemoteEventForCurrentChange=function(e,i){var a=new Map;return a.set(e,Fm.createSynthesizedTargetChangeForCurrentChange(e,i)),new t(ft.min(),a,Lu(),qr(),It())},t}(),Fm=function(){function t(e,i,a,c,f){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=c,this.removedDocuments=f}return t.createSynthesizedTargetChangeForCurrentChange=function(e,i){return new t(rr.EMPTY_BYTE_STRING,i,It(),It(),It())},t}(),km=function(t,e,i,a){this.v=t,this.removedTargetIds=e,this.key=i,this.P=a},qb=function(t,e){this.targetId=t,this.V=e},Wb=function(t,e,i,a){void 0===i&&(i=rr.EMPTY_BYTE_STRING),void 0===a&&(a=null),this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a},zb=function(){function t(){this.S=0,this.D=Vm(),this.C=rr.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},t.prototype.M=function(){var e=It(),i=It(),a=It();return this.D.forEach(function(c,f){switch(f){case 0:e=e.add(c);break;case 2:i=i.add(c);break;case 1:a=a.add(c);break;default:Fe()}}),new Fm(this.C,this.N,e,i,a)},t.prototype.L=function(){this.F=!1,this.D=Vm()},t.prototype.B=function(e,i){this.F=!0,this.D=this.D.insert(e,i)},t.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Kb=function(){function t(e){this.W=e,this.G=new Map,this.H=qr(),this.J=Lm(),this.Y=new _n(mt)}return t.prototype.X=function(e){for(var i=0,a=e.v;i<a.length;i++){var c=a[i];e.P&&e.P.isFoundDocument()?this.Z(c,e.P):this.tt(c,e.key,e.P)}for(var f=0,p=e.removedTargetIds;f<p.length;f++)this.tt(c=p[f],e.key,e.P)},t.prototype.et=function(e){var i=this;this.forEachTarget(e,function(a){var c=i.nt(a);switch(e.state){case 0:i.st(a)&&c.O(e.resumeToken);break;case 1:c.K(),c.k||c.L(),c.O(e.resumeToken);break;case 2:c.K(),c.k||i.removeTarget(a);break;case 3:i.st(a)&&(c.j(),c.O(e.resumeToken));break;case 4:i.st(a)&&(i.it(a),c.O(e.resumeToken));break;default:Fe()}})},t.prototype.forEachTarget=function(e,i){var a=this;e.targetIds.length>0?e.targetIds.forEach(i):this.G.forEach(function(c,f){a.st(f)&&i(f)})},t.prototype.rt=function(e){var i=e.targetId,a=e.V.count,c=this.ot(i);if(c){var f=c.target;if(Il(f))if(0===a){var p=new Ve(f.path);this.tt(i,p,On.newNoDocument(p,ft.min()))}else ze(1===a);else this.ct(i)!==a&&(this.it(i),this.Y=this.Y.add(i))}},t.prototype.ut=function(e){var i=this,a=new Map;this.G.forEach(function(p,m){var b=i.ot(m);if(b){if(p.current&&Il(b.target)){var E=new Ve(b.target.path);null!==i.H.get(E)||i.at(m,E)||i.tt(m,E,On.newNoDocument(E,e))}p.$&&(a.set(m,p.M()),p.L())}});var c=It();this.J.forEach(function(p,m){var b=!0;m.forEachWhile(function(E){var D=i.ot(E);return!D||2===D.purpose||(b=!1,!1)}),b&&(c=c.add(p))});var f=new th(e,a,this.Y,this.H,c);return this.H=qr(),this.J=Lm(),this.Y=new _n(mt),f},t.prototype.Z=function(e,i){if(this.st(e)){var a=this.at(e,i.key)?2:0;this.nt(e).B(i.key,a),this.H=this.H.insert(i.key,i),this.J=this.J.insert(i.key,this.ht(i.key).add(e))}},t.prototype.tt=function(e,i,a){if(this.st(e)){var c=this.nt(e);this.at(e,i)?c.B(i,1):c.q(i),this.J=this.J.insert(i,this.ht(i).delete(e)),a&&(this.H=this.H.insert(i,a))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var i=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var i=this.G.get(e);return i||(i=new zb,this.G.set(e,i)),i},t.prototype.ht=function(e){var i=this.J.get(e);return i||(i=new _n(mt),this.J=this.J.insert(e,i)),i},t.prototype.st=function(e){var i=null!==this.ot(e);return i||be("WatchChangeAggregator","Detected inactive target",e),i},t.prototype.ot=function(e){var i=this.G.get(e);return i&&i.k?null:this.W.lt(e)},t.prototype.it=function(e){var i=this;this.G.set(e,new zb),this.W.getRemoteKeysForTarget(e).forEach(function(a){i.tt(e,a,null)})},t.prototype.at=function(e,i){return this.W.getRemoteKeysForTarget(e).has(i)},t}();function Lm(){return new ir(Ve.comparator)}function Vm(){return new ir(Ve.comparator)}var nT={asc:"ASCENDING",desc:"DESCENDING"},rT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qb=function(t,e){this.databaseId=t,this.I=e};function Yo(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yb(t,e){return t.I?e.toBase64():e.toUint8Array()}function Jb(t,e){return Yo(t,e.toTimestamp())}function ln(t){return ze(!!t),ft.fromTimestamp((i=lo(t),new gr(i.seconds,i.nanos)));var i}function Vu(t,e){return(i=t,new Be(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function Uu(t){var e=Be.fromString(t);return ze(cw(e)),e}function Pl(t,e){return Vu(t.databaseId,e.path)}function Vi(t,e){var i=Uu(e);if(i.get(1)!==t.databaseId.projectId)throw new ge(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+t.databaseId.projectId);if(i.get(3)!==t.databaseId.database)throw new ge(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+t.databaseId.database);return new Ve(ew(i))}function Zb(t,e){return Vu(t.databaseId,e)}function Xb(t){var e=Uu(t);return 4===e.length?Be.emptyPath():ew(e)}function Fl(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ew(t){return ze(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function tw(t,e,i){return{name:Pl(t,e),fields:i.value.mapValue.fields}}function nw(t,e,i){var a=Vi(t,e.name),c=ln(e.updateTime),f=new mr({mapValue:{fields:e.fields}}),p=On.newFoundDocument(a,c,f);return i&&p.setHasCommittedMutations(),i?p.setHasCommittedMutations():p}function nh(t,e){var i,c;if(e instanceof Fu)i={update:tw(t,e.key,e.value)};else if(e instanceof ia)i={delete:Pl(t,e.key)};else if(e instanceof fo)i={update:tw(t,e.key,e.data),updateMask:o1(e.fieldMask)};else{if(!(e instanceof ku))return Fe();i={verify:Pl(t,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(function(a){return function(c,f){var p=f.transform;if(p instanceof ta)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Qo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof na)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ou)return{fieldPath:f.field.canonicalString(),increment:p.A};throw Fe()}(0,a)})),e.precondition.isNone||(i.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:Jb(t,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:Fe()),i}function rw(t,e){var E,i=e.currentDocument?void 0!==(E=e.currentDocument).updateTime?Pn.updateTime(ln(E.updateTime)):void 0!==E.exists?Pn.exists(E.exists):Pn.none():Pn.none(),a=e.updateTransforms?e.updateTransforms.map(function(E){return function(D,I){var M=null;"setToServerValue"in I?(ze("REQUEST_TIME"===I.setToServerValue),M=new ta):"appendMissingElements"in I?M=new Qo(I.appendMissingElements.values||[]):"removeAllFromArray"in I?M=new na(I.removeAllFromArray.values||[]):"increment"in I?M=new Ou(D,I.increment):Fe();var z=$r.fromServerFormat(I.fieldPath);return new ra(z,M)}(t,E)}):[];if(e.update){var c=Vi(t,e.update.name),f=new mr({mapValue:{fields:e.update.fields}});if(e.updateMask){var p=function(E){return new Ko((E.fieldPaths||[]).map(function(I){return $r.fromServerFormat(I)}))}(e.updateMask);return new fo(c,f,p,i,a)}return new Fu(c,f,i,a)}if(e.delete){var m=Vi(t,e.delete);return new ia(m,i)}if(e.verify){var b=Vi(t,e.verify);return new ku(b,i)}return Fe()}function iw(t,e){return{documents:[Zb(t,e.path)]}}function ow(t,e){var i={structuredQuery:{}},a=e.path;null!==e.collectionGroup?(i.parent=Zb(t,a),i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i.parent=Zb(t,a.popLast()),i.structuredQuery.from=[{collectionId:a.lastSegment()}]);var c=function(m){if(0!==m.length){var b=m.map(function(E){return function(D){if("=="===D.op){if(Tm(D.value))return{unaryFilter:{field:ho(D.field),op:"IS_NAN"}};if(Im(D.value))return{unaryFilter:{field:ho(D.field),op:"IS_NULL"}}}else if("!="===D.op){if(Tm(D.value))return{unaryFilter:{field:ho(D.field),op:"IS_NOT_NAN"}};if(Im(D.value))return{unaryFilter:{field:ho(D.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(D.field),op:sT(D.op),value:D.value}}}(E)});return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}}(e.filters);c&&(i.structuredQuery.where=c);var f=function(m){if(0!==m.length)return m.map(function(b){return{field:ho((E=b).field),direction:oT(E.dir)};var E})}(e.orderBy);f&&(i.structuredQuery.orderBy=f);var b,p=(b=e.limit,t.I||mi(b)?b:{value:b});return null!==p&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=ju(e.startAt)),e.endAt&&(i.structuredQuery.endAt=ju(e.endAt)),i}function iT(t){var e=Xb(t.parent),i=t.structuredQuery,a=i.from?i.from.length:0,c=null;if(a>0){ze(1===a);var f=i.from[0];f.allDescendants?c=f.collectionId:e=e.child(f.collectionId)}var p=[];i.where&&(p=sw(i.where));var m=[];i.orderBy&&(m=i.orderBy.map(function(I){return new Ru(Wr((M=I).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));var I,M,b=null;i.limit&&(b=mi(M="object"==typeof(I=i.limit)?I.value:I)?null:M);var E=null;i.startAt&&(E=aw(i.startAt));var D=null;return i.endAt&&(D=aw(i.endAt)),Mb(e,c,m,p,b,"F",E,D)}function sw(t){return t?void 0!==t.unaryFilter?[aT(t)]:void 0!==t.fieldFilter?[uw(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(e){return sw(e)}).reduce(function(e,i){return e.concat(i)}):Fe():[]}function ju(t){return{before:t.before,values:t.position}}function aw(t){return new Tl(t.values||[],!!t.before)}function oT(t){return nT[t]}function sT(t){return rT[t]}function ho(t){return{fieldPath:t.canonicalString()}}function Wr(t){return $r.fromServerFormat(t.fieldPath)}function uw(t){return $n.create(Wr(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Fe()}}(t.fieldFilter.op),t.fieldFilter.value)}function aT(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Wr(t.unaryFilter.field);return $n.create(e,"==",{doubleValue:NaN});case"IS_NULL":var i=Wr(t.unaryFilter.field);return $n.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var a=Wr(t.unaryFilter.field);return $n.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var c=Wr(t.unaryFilter.field);return $n.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Fe()}}function o1(t){var e=[];return t.fields.forEach(function(i){return e.push(i.canonicalString())}),{fieldPaths:e}}function cw(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function yr(t){for(var e="",i=0;i<t.length;i++)e.length>0&&(e=lw(e)),e=uT(t.get(i),e);return lw(e)}function uT(t,e){for(var i=e,a=t.length,c=0;c<a;c++){var f=t.charAt(c);switch(f){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=f}}return i}function lw(t){return t+"\x01\x01"}function Ui(t){var e=t.length;if(ze(e>=2),2===e)return ze("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Be.emptyPath();for(var i=e-2,a=[],c="",f=0;f<e;){var p=t.indexOf("\x01",f);switch((p<0||p>i)&&Fe(),t.charAt(p+1)){case"\x01":var m=t.substring(f,p),b=void 0;0===c.length?b=m:(b=c+=m,c=""),a.push(b);break;case"\x10":c+=t.substring(f,p),c+="\0";break;case"\x11":c+=t.substring(f,p+1);break;default:Fe()}f=p+2}return new Be(a)}var dw=function(t,e){this.seconds=t,this.nanoseconds=e},or=function(t,e,i){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=i};or.store="owner",or.key="owner";var po=function(t,e,i){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=i};po.store="mutationQueues",po.keyPath="userId";var Bt=function(t,e,i,a,c){this.userId=t,this.batchId=e,this.localWriteTimeMs=i,this.baseMutations=a,this.mutations=c};Bt.store="mutations",Bt.keyPath="batchId",Bt.userMutationsIndex="userMutationsIndex",Bt.userMutationsKeyPath=["userId","batchId"];var qn=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,i){return[e,yr(i)]},t.key=function(e,i,a){return[e,yr(i),a]},t}();qn.store="documentMutations",qn.PLACEHOLDER=new qn;var cT=function(t,e){this.path=t,this.readTime=e},fw=function(t,e){this.path=t,this.version=e},nn=function(t,e,i,a,c,f){this.unknownDocument=t,this.noDocument=e,this.document=i,this.hasCommittedMutations=a,this.readTime=c,this.parentPath=f};nn.store="remoteDocuments",nn.readTimeIndex="readTimeIndex",nn.readTimeIndexPath="readTime",nn.collectionReadTimeIndex="collectionReadTimeIndex",nn.collectionReadTimeIndexPath=["parentPath","readTime"];var vi=function(t){this.byteSize=t};vi.store="remoteDocumentGlobal",vi.key="remoteDocumentGlobalKey";var kn=function(t,e,i,a,c,f,p){this.targetId=t,this.canonicalId=e,this.readTime=i,this.resumeToken=a,this.lastListenSequenceNumber=c,this.lastLimboFreeSnapshotVersion=f,this.query=p};kn.store="targets",kn.keyPath="targetId",kn.queryTargetsIndexName="queryTargetsIndex",kn.queryTargetsKeyPath=["canonicalId","targetId"];var bn=function(t,e,i){this.targetId=t,this.path=e,this.sequenceNumber=i};bn.store="targetDocuments",bn.keyPath=["targetId","path"],bn.documentTargetsIndex="documentTargetsIndex",bn.documentTargetsKeyPath=["path","targetId"];var zr=function(t,e,i,a){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=i,this.targetCount=a};zr.key="targetGlobalKey",zr.store="targetGlobal";var _i=function(t,e){this.collectionId=t,this.parent=e};_i.store="collectionParents",_i.keyPath=["collectionId","parent"];var ht=function(t,e,i,a){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=i,this.inForeground=a};ht.store="clientMetadata",ht.keyPath="clientId";var Rr=function(t,e,i){this.bundleId=t,this.createTime=e,this.version=i};Rr.store="bundles",Rr.keyPath="bundleId";var bi=function(t,e,i){this.name=t,this.readTime=e,this.bundledQuery=i};bi.store="namedQueries",bi.keyPath="name";var kl=(0,A.ev)((0,A.ev)([],(0,A.ev)((0,A.ev)([],(0,A.ev)((0,A.ev)([],(0,A.ev)((0,A.ev)([],[po.store,Bt.store,qn.store,nn.store,kn.store,or.store,zr.store,bn.store]),[ht.store])),[vi.store])),[_i.store])),[Rr.store,bi.store]),lT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",et=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),Ot=function(){var t=this;this.promise=new Promise(function(e,i){t.resolve=e,t.reject=i})},ve=function(){function t(e){var i=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(a){i.isDone=!0,i.result=a,i.nextCallback&&i.nextCallback(a)},function(a){i.isDone=!0,i.error=a,i.catchCallback&&i.catchCallback(a)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,i){var a=this;return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new t(function(c,f){a.nextCallback=function(p){a.wrapSuccess(e,p).next(c,f)},a.catchCallback=function(p){a.wrapFailure(i,p).next(c,f)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(i,a){e.next(i,a)})},t.prototype.wrapUserFunction=function(e){try{var i=e();return i instanceof t?i:t.resolve(i)}catch(a){return t.reject(a)}},t.prototype.wrapSuccess=function(e,i){return e?this.wrapUserFunction(function(){return e(i)}):t.resolve(i)},t.prototype.wrapFailure=function(e,i){return e?this.wrapUserFunction(function(){return e(i)}):t.reject(i)},t.resolve=function(e){return new t(function(i,a){i(e)})},t.reject=function(e){return new t(function(i,a){a(e)})},t.waitFor=function(e){return new t(function(i,a){var c=0,f=0,p=!1;e.forEach(function(m){++c,m.next(function(){++f,p&&f===c&&i()},function(b){return a(b)})}),p=!0,f===c&&i()})},t.or=function(e){for(var i=t.resolve(!1),a=function(p){i=i.next(function(m){return m?t.resolve(m):p()})},c=0,f=e;c<f.length;c++)a(f[c]);return i},t.forEach=function(e,i){var a=this,c=[];return e.forEach(function(f,p){c.push(i.call(a,f,p))}),this.waitFor(c)},t}(),Jo=function(){function t(e,i){var a=this;this.action=e,this.transaction=i,this.aborted=!1,this.ft=new Ot,this.transaction.oncomplete=function(){a.ft.resolve()},this.transaction.onabort=function(){i.error?a.ft.reject(new Bu(e,i.error)):a.ft.resolve()},this.transaction.onerror=function(c){var f=Ht(c.target.error);a.ft.reject(new Bu(e,f))}}return t.open=function(e,i,a,c){try{return new t(i,e.transaction(c,a))}catch(f){throw new Bu(i,f)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(be("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var i=this.transaction.objectStore(e);return new dT(i)},t}(),Ll=function(){function t(e,i,a){this.name=e,this.version=i,this.wt=a,12.2===t._t((0,Dt.z$)())&&vn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return be("SimpleDb","Removing database:",e),sa(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,Dt.z$)(),i=t._t(e),a=0<i&&i<10,c=t.Et(e),f=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||a||f)},t.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},t.It=function(e,i){return e.store(i)},t._t=function(e){var i=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(a)},t.Et=function(e){var i=e.match(/Android ([\d.]+)/i),a=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(a)},t.prototype.At=function(e){return(0,A.mG)(this,void 0,void 0,function(){var i,a=this;return(0,A.Jh)(this,function(c){switch(c.label){case 0:return this.db?[3,2]:(be("SimpleDb","Opening database:",this.name),i=this,[4,new Promise(function(f,p){var m=indexedDB.open(a.name,a.version);m.onsuccess=function(b){f(b.target.result)},m.onblocked=function(){p(new Bu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=function(b){var E=b.target.error;p("VersionError"===E.name?new ge(ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Bu(e,E))},m.onupgradeneeded=function(b){be("SimpleDb",'Database "'+a.name+'" requires upgrade from version:',b.oldVersion),a.wt.Rt(b.target.result,m.transaction,b.oldVersion,a.version).next(function(){be("SimpleDb","Database upgrade to version "+a.version+" complete")})}})]);case 1:i.db=c.sent(),c.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(f){return a.bt(f)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(i){return e(i)})},t.prototype.runTransaction=function(e,i,a,c){return(0,A.mG)(this,void 0,void 0,function(){var f,p,m,b,E;return(0,A.Jh)(this,function(D){switch(D.label){case 0:f="readonly"===i,p=0,m=function(){var I,M,O,j,z;return(0,A.Jh)(this,function(le){switch(le.label){case 0:++p,le.label=1;case 1:return le.trys.push([1,4,,5]),[4,b.At(e)];case 2:return b.db=le.sent(),I=Jo.open(b.db,e,f?"readonly":"readwrite",a),M=c(I).catch(function(me){return I.abort(me),ve.reject(me)}).toPromise(),O={},M.catch(function(){}),[4,I.dt];case 3:return[2,(O.value=(le.sent(),M),O)];case 4:return be("SimpleDb","Transaction failed with error:",(j=le.sent()).message,"Retrying:",z="FirebaseError"!==j.name&&p<3),b.close(),z?[3,5]:[2,{value:Promise.reject(j)}];case 5:return[2]}})},b=this,D.label=1;case 1:return[5,m()];case 2:if("object"==typeof(E=D.sent()))return[2,E.value];D.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),hw=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return sa(this.Pt.delete())},t}(),Bu=function(t){function e(i,a){var c=this;return(c=t.call(this,ee.UNAVAILABLE,"IndexedDB transaction '"+i+"' failed: "+a)||this).name="IndexedDbTransactionError",c}return(0,A.ZT)(e,t),e}(ge);function Gu(t){return"IndexedDbTransactionError"===t.name}var dT=function(){function t(e){this.store=e}return t.prototype.put=function(e,i){var a;return void 0!==i?(be("SimpleDb","PUT",this.store.name,e,i),a=this.store.put(i,e)):(be("SimpleDb","PUT",this.store.name,"<auto-key>",e),a=this.store.put(e)),sa(a)},t.prototype.add=function(e){return be("SimpleDb","ADD",this.store.name,e,e),sa(this.store.add(e))},t.prototype.get=function(e){var i=this;return sa(this.store.get(e)).next(function(a){return void 0===a&&(a=null),be("SimpleDb","GET",i.store.name,e,a),a})},t.prototype.delete=function(e){return be("SimpleDb","DELETE",this.store.name,e),sa(this.store.delete(e))},t.prototype.count=function(){return be("SimpleDb","COUNT",this.store.name),sa(this.store.count())},t.prototype.Nt=function(e,i){var a=this.cursor(this.options(e,i)),c=[];return this.xt(a,function(f,p){c.push(p)}).next(function(){return c})},t.prototype.Ft=function(e,i){be("SimpleDb","DELETE ALL",this.store.name);var a=this.options(e,i);a.kt=!1;var c=this.cursor(a);return this.xt(c,function(f,p,m){return m.delete()})},t.prototype.$t=function(e,i){var a;i?a=e:(a={},i=e);var c=this.cursor(a);return this.xt(c,i)},t.prototype.Ot=function(e){var i=this.cursor({});return new ve(function(a,c){i.onerror=function(f){var p=Ht(f.target.error);c(p)},i.onsuccess=function(f){var p=f.target.result;p?e(p.primaryKey,p.value).next(function(m){m?p.continue():a()}):a()}})},t.prototype.xt=function(e,i){var a=[];return new ve(function(c,f){e.onerror=function(p){f(p.target.error)},e.onsuccess=function(p){var m=p.target.result;if(m){var b=new hw(m),E=i(m.primaryKey,m.value,b);if(E instanceof ve){var D=E.catch(function(I){return b.done(),ve.reject(I)});a.push(D)}b.isDone?c():null===b.Dt?m.continue():m.continue(b.Dt)}else c()}}).next(function(){return ve.waitFor(a)})},t.prototype.options=function(e,i){var a;return void 0!==e&&("string"==typeof e?a=e:i=e),{index:a,range:i}},t.prototype.cursor=function(e){var i="next";if(e.reverse&&(i="prev"),e.index){var a=this.store.index(e.index);return e.kt?a.openKeyCursor(e.range,i):a.openCursor(e.range,i)}return this.store.openCursor(e.range,i)},t}();function sa(t){return new ve(function(e,i){t.onsuccess=function(a){e(a.target.result)},t.onerror=function(a){var c=Ht(a.target.error);i(c)}})}var Or=!1;function Ht(t){var e=Ll._t((0,Dt.z$)());if(e>=12.2&&e<13){var i="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(i)>=0){var a=new ge("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+i+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Or||(Or=!0,setTimeout(function(){throw a},0)),a}}return t}var Kr=function(t){function e(i,a){var c=this;return(c=t.call(this)||this).Mt=i,c.currentSequenceNumber=a,c}return(0,A.ZT)(e,t),e}(et);function sr(t,e){var i=Te(t);return Ll.It(i.Mt,e)}var Um=function(){function t(e,i,a,c){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=c}return t.prototype.applyToRemoteDocument=function(e,i){for(var a=i.mutationResults,c=0;c<this.mutations.length;c++){var f=this.mutations[c];f.key.isEqual(e.key)&&KI(f,e,a[c])}},t.prototype.applyToLocalView=function(e){for(var i=0,a=this.baseMutations;i<a.length;i++)(p=a[i]).key.isEqual(e.key)&&Ol(p,e,this.localWriteTime);for(var c=0,f=this.mutations;c<f.length;c++){var p;(p=f[c]).key.isEqual(e.key)&&Ol(p,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var i=this;this.mutations.forEach(function(a){var c=e.get(a.key),f=c;i.applyToLocalView(f),c.isValidDocument()||f.convertToNoDocument(ft.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,i){return e.add(i.key)},It())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&ke(this.mutations,e.mutations,function(i,a){return Om(i,a)})&&ke(this.baseMutations,e.baseMutations,function(i,a){return Om(i,a)})},t}(),pw=function(){function t(e,i,a,c){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=c}return t.from=function(e,i,a){ze(e.mutations.length===a.length);for(var c=Hb(),f=e.mutations,p=0;p<f.length;p++)c=c.insert(f[p].key,a[p].version);return new t(e,i,a,c)},t}(),Hu=function(){function t(e,i,a,c,f,p,m){void 0===f&&(f=ft.min()),void 0===p&&(p=ft.min()),void 0===m&&(m=rr.EMPTY_BYTE_STRING),this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=c,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=m}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,i){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),aa=function(t){this.Lt=t};function ua(t,e){if(e.document)return nw(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var i=Ve.fromSegments(e.noDocument.path),a=Zo(e.noDocument.readTime),c=On.newNoDocument(i,a);return e.hasCommittedMutations?c.setHasCommittedMutations():c}if(e.unknownDocument){var f=Ve.fromSegments(e.unknownDocument.path);return a=Zo(e.unknownDocument.version),On.newUnknownDocument(f,a)}return Fe()}function gw(t,e,i){var I,M,a=go(i),c=e.key.path.popLast().toArray();if(e.isFoundDocument()){var f={name:Pl(I=t.Lt,(M=e).key),fields:M.data.value.mapValue.fields,updateTime:Yo(I,M.version.toTimestamp())},p=e.hasCommittedMutations;return new nn(null,null,f,p,a,c)}if(e.isNoDocument()){var m=e.key.path.toArray(),b=ca(e.version);return p=e.hasCommittedMutations,new nn(null,new cT(m,b),null,p,a,c)}if(e.isUnknownDocument()){var E=e.key.path.toArray(),D=ca(e.version);return new nn(new fw(E,D),null,null,!0,a,c)}return Fe()}function go(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function mw(t){var e=new gr(t[0],t[1]);return ft.fromTimestamp(e)}function ca(t){var e=t.toTimestamp();return new dw(e.seconds,e.nanoseconds)}function Zo(t){var e=new gr(t.seconds,t.nanoseconds);return ft.fromTimestamp(e)}function ji(t,e){for(var i=(e.baseMutations||[]).map(function(b){return rw(t.Lt,b)}),a=0;a<e.mutations.length-1;++a)a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(e.mutations[a].updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a);var p=e.mutations.map(function(b){return rw(t.Lt,b)}),m=gr.fromMillis(e.localWriteTimeMs);return new Um(e.batchId,m,i,p)}function la(t){var e,i,a=Zo(t.readTime),c=void 0!==t.lastLimboFreeSnapshotVersion?Zo(t.lastLimboFreeSnapshotVersion):ft.min();return void 0!==t.query.documents?(ze(1===(i=t.query).documents.length),e=xr(Xs(Xb(i.documents[0])))):e=xr(iT(t.query)),new Hu(e,t.targetId,0,t.lastListenSequenceNumber,a,c,rr.fromBase64String(t.resumeToken))}function jm(t,e){var i,a=ca(e.snapshotVersion),c=ca(e.lastLimboFreeSnapshotVersion);i=Il(e.target)?iw(t.Lt,e.target):ow(t.Lt,e.target);var f=e.resumeToken.toBase64();return new kn(e.targetId,Qf(e.target),a,f,e.sequenceNumber,c,i)}function Xo(t){var e=iT({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Nb(e,e.limit,"L"):e}var fT=function(){function t(){}return t.prototype.getBundleMetadata=function(e,i){return Vl(e).get(i).next(function(a){if(a)return{id:(c=a).bundleId,createTime:Zo(c.createTime),version:c.version};var c})},t.prototype.saveBundleMetadata=function(e,i){return Vl(e).put({bundleId:(a=i).id,createTime:ca(ln(a.createTime)),version:a.version});var a},t.prototype.getNamedQuery=function(e,i){return Bm(e).get(i).next(function(a){if(a)return{name:(c=a).name,query:Xo(c.bundledQuery),readTime:Zo(c.readTime)};var c})},t.prototype.saveNamedQuery=function(e,i){return Bm(e).put({name:(a=i).name,readTime:ca(ln(a.readTime)),bundledQuery:a.bundledQuery});var a},t}();function Vl(t){return sr(t,Rr.store)}function Bm(t){return sr(t,bi.store)}var yw=function(){function t(){this.Bt=new rh}return t.prototype.addToCollectionParentIndex=function(e,i){return this.Bt.add(i),ve.resolve()},t.prototype.getCollectionParents=function(e,i){return ve.resolve(this.Bt.getEntries(i))},t}(),rh=function(){function t(){this.index={}}return t.prototype.add=function(e){var i=e.lastSegment(),a=e.popLast(),c=this.index[i]||new _n(Be.comparator),f=!c.has(a);return this.index[i]=c.add(a),f},t.prototype.has=function(e){var i=e.lastSegment(),a=e.popLast(),c=this.index[i];return c&&c.has(a)},t.prototype.getEntries=function(e){return(this.index[e]||new _n(Be.comparator)).toArray()},t}(),ih=function(){function t(){this.qt=new rh}return t.prototype.addToCollectionParentIndex=function(e,i){var a=this;if(!this.qt.has(i)){var c=i.lastSegment(),f=i.popLast();e.addOnCommittedListener(function(){a.qt.add(i)});var p={collectionId:c,parent:yr(f)};return vw(e).put(p)}return ve.resolve()},t.prototype.getCollectionParents=function(e,i){var a=[],c=IDBKeyRange.bound([i,""],[wb(i),""],!1,!0);return vw(e).Nt(c).next(function(f){for(var p=0,m=f;p<m.length;p++){var b=m[p];if(b.collectionId!==i)break;a.push(Ui(b.parent))}return a})},t}();function vw(t){return sr(t,_i.store)}var oh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qr=function(){function t(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function hT(t,e,i){var a=t.store(Bt.store),c=t.store(qn.store),f=[],p=IDBKeyRange.only(i.batchId),m=0,b=a.$t({range:p},function(j,z,le){return m++,le.delete()});f.push(b.next(function(){ze(1===m)}));for(var E=[],D=0,I=i.mutations;D<I.length;D++){var M=I[D],O=qn.key(e,M.key.path,i.batchId);f.push(c.delete(O)),E.push(M.key)}return ve.waitFor(f).next(function(){return E})}function Gm(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Fe();e=t.noDocument}return JSON.stringify(e).length}Qr.DEFAULT_COLLECTION_PERCENTILE=10,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qr.DEFAULT=new Qr(41943040,Qr.DEFAULT_COLLECTION_PERCENTILE,Qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qr.DISABLED=new Qr(-1,0,0);var tt=function(){function t(e,i,a,c){this.userId=e,this.R=i,this.Ut=a,this.referenceDelegate=c,this.Kt={}}return t.Qt=function(e,i,a,c){return ze(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",i,a,c)},t.prototype.checkEmpty=function(e){var i=!0,a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yr(e).$t({index:Bt.userMutationsIndex,range:a},function(c,f,p){i=!1,p.done()}).next(function(){return i})},t.prototype.addMutationBatch=function(e,i,a,c){var f=this,p=$u(e),m=Yr(e);return m.add({}).next(function(b){ze("number"==typeof b);for(var E=new Um(b,i,a,c),D=function(me,De,Ie){var Ke=Ie.baseMutations.map(function(ot){return nh(me.Lt,ot)}),Oe=Ie.mutations.map(function(ot){return nh(me.Lt,ot)});return new Bt(De,Ie.batchId,Ie.localWriteTime.toMillis(),Ke,Oe)}(f.R,f.userId,E),I=[],M=new _n(function(me,De){return mt(me.canonicalString(),De.canonicalString())}),O=0,j=c;O<j.length;O++){var z=j[O],le=qn.key(f.userId,z.key.path,b);M=M.add(z.key.path.popLast()),I.push(m.put(D)),I.push(p.put(le,qn.PLACEHOLDER))}return M.forEach(function(me){I.push(f.Ut.addToCollectionParentIndex(e,me))}),e.addOnCommittedListener(function(){f.Kt[b]=E.keys()}),ve.waitFor(I).next(function(){return E})})},t.prototype.lookupMutationBatch=function(e,i){var a=this;return Yr(e).get(i).next(function(c){return c?(ze(c.userId===a.userId),ji(a.R,c)):null})},t.prototype.jt=function(e,i){var a=this;return this.Kt[i]?ve.resolve(this.Kt[i]):this.lookupMutationBatch(e,i).next(function(c){if(c){var f=c.keys();return a.Kt[i]=f,f}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,i){var a=this,c=i+1,f=IDBKeyRange.lowerBound([this.userId,c]),p=null;return Yr(e).$t({index:Bt.userMutationsIndex,range:f},function(m,b,E){b.userId===a.userId&&(ze(b.batchId>=c),p=ji(a.R,b)),E.done()}).next(function(){return p})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),a=-1;return Yr(e).$t({index:Bt.userMutationsIndex,range:i,reverse:!0},function(c,f,p){a=f.batchId,p.done()}).next(function(){return a})},t.prototype.getAllMutationBatches=function(e){var i=this,a=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yr(e).Nt(Bt.userMutationsIndex,a).next(function(c){return c.map(function(f){return ji(i.R,f)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,i){var a=this,c=qn.prefixForPath(this.userId,i.path),f=IDBKeyRange.lowerBound(c),p=[];return $u(e).$t({range:f},function(m,b,E){var D=m[0],M=m[2],O=Ui(m[1]);if(D===a.userId&&i.path.isEqual(O))return Yr(e).get(M).next(function(j){if(!j)throw Fe();ze(j.userId===a.userId),p.push(ji(a.R,j))});E.done()}).next(function(){return p})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,i){var a=this,c=new _n(mt),f=[];return i.forEach(function(p){var m=qn.prefixForPath(a.userId,p.path),b=IDBKeyRange.lowerBound(m),E=$u(e).$t({range:b},function(D,I,M){var O=D[0],z=D[2],le=Ui(D[1]);O===a.userId&&p.path.isEqual(le)?c=c.add(z):M.done()});f.push(E)}),ve.waitFor(f).next(function(){return a.Wt(e,c)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,i){var a=this,c=i.path,f=c.length+1,p=qn.prefixForPath(this.userId,c),m=IDBKeyRange.lowerBound(p),b=new _n(mt);return $u(e).$t({range:m},function(E,D,I){var M=E[0],j=E[2],z=Ui(E[1]);M===a.userId&&c.isPrefixOf(z)?z.length===f&&(b=b.add(j)):I.done()}).next(function(){return a.Wt(e,b)})},t.prototype.Wt=function(e,i){var a=this,c=[],f=[];return i.forEach(function(p){f.push(Yr(e).get(p).next(function(m){if(null===m)throw Fe();ze(m.userId===a.userId),c.push(ji(a.R,m))}))}),ve.waitFor(f).next(function(){return c})},t.prototype.removeMutationBatch=function(e,i){var a=this;return hT(e.Mt,this.userId,i).next(function(c){return e.addOnCommittedListener(function(){a.Gt(i.batchId)}),ve.forEach(c,function(f){return a.referenceDelegate.markPotentiallyOrphaned(e,f)})})},t.prototype.Gt=function(e){delete this.Kt[e]},t.prototype.performConsistencyCheck=function(e){var i=this;return this.checkEmpty(e).next(function(a){if(!a)return ve.resolve();var c=IDBKeyRange.lowerBound(qn.prefixForUser(i.userId)),f=[];return $u(e).$t({range:c},function(p,m,b){if(p[0]===i.userId){var E=Ui(p[1]);f.push(E)}else b.done()}).next(function(){ze(0===f.length)})})},t.prototype.containsKey=function(e,i){return pT(e,this.userId,i)},t.prototype.zt=function(e){var i=this;return _w(e).get(this.userId).next(function(a){return a||new po(i.userId,-1,"")})},t}();function pT(t,e,i){var a=qn.prefixForPath(e,i.path),c=a[1],f=IDBKeyRange.lowerBound(a),p=!1;return $u(t).$t({range:f,kt:!0},function(m,b,E){m[0]===e&&m[1]===c&&(p=!0),E.done()}).next(function(){return p})}function Yr(t){return sr(t,Bt.store)}function $u(t){return sr(t,qn.store)}function _w(t){return sr(t,po.store)}var sh=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),s1=function(){function t(e,i){this.referenceDelegate=e,this.R=i}return t.prototype.allocateTargetId=function(e){var i=this;return this.Xt(e).next(function(a){var c=new sh(a.highestTargetId);return a.highestTargetId=c.next(),i.Zt(e,a).next(function(){return a.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(i){return ft.fromTimestamp(new gr(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(i){return i.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,i,a){var c=this;return this.Xt(e).next(function(f){return f.highestListenSequenceNumber=i,a&&(f.lastRemoteSnapshotVersion=a.toTimestamp()),i>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=i),c.Zt(e,f)})},t.prototype.addTargetData=function(e,i){var a=this;return this.te(e,i).next(function(){return a.Xt(e).next(function(c){return c.targetCount+=1,a.ee(i,c),a.Zt(e,c)})})},t.prototype.updateTargetData=function(e,i){return this.te(e,i)},t.prototype.removeTargetData=function(e,i){var a=this;return this.removeMatchingKeysForTargetId(e,i.targetId).next(function(){return Ul(e).delete(i.targetId)}).next(function(){return a.Xt(e)}).next(function(c){return ze(c.targetCount>0),c.targetCount-=1,a.Zt(e,c)})},t.prototype.removeTargets=function(e,i,a){var c=this,f=0,p=[];return Ul(e).$t(function(m,b){var E=la(b);E.sequenceNumber<=i&&null===a.get(E.targetId)&&(f++,p.push(c.removeTargetData(e,E)))}).next(function(){return ve.waitFor(p)}).next(function(){return f})},t.prototype.forEachTarget=function(e,i){return Ul(e).$t(function(a,c){var f=la(c);i(f)})},t.prototype.Xt=function(e){return bw(e).get(zr.key).next(function(i){return ze(null!==i),i})},t.prototype.Zt=function(e,i){return bw(e).put(zr.key,i)},t.prototype.te=function(e,i){return Ul(e).put(jm(this.R,i))},t.prototype.ee=function(e,i){var a=!1;return e.targetId>i.highestTargetId&&(i.highestTargetId=e.targetId,a=!0),e.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e.sequenceNumber,a=!0),a},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(i){return i.targetCount})},t.prototype.getTargetData=function(e,i){var a=Qf(i),c=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]),f=null;return Ul(e).$t({range:c,index:kn.queryTargetsIndexName},function(p,m,b){var E=la(m);Sm(i,E.target)&&(f=E,b.done())}).next(function(){return f})},t.prototype.addMatchingKeys=function(e,i,a){var c=this,f=[],p=zt(e);return i.forEach(function(m){var b=yr(m.path);f.push(p.put(new bn(a,b))),f.push(c.referenceDelegate.addReference(e,a,m))}),ve.waitFor(f)},t.prototype.removeMatchingKeys=function(e,i,a){var c=this,f=zt(e);return ve.forEach(i,function(p){var m=yr(p.path);return ve.waitFor([f.delete([a,m]),c.referenceDelegate.removeReference(e,a,p)])})},t.prototype.removeMatchingKeysForTargetId=function(e,i){var a=zt(e),c=IDBKeyRange.bound([i],[i+1],!1,!0);return a.delete(c)},t.prototype.getMatchingKeysForTargetId=function(e,i){var a=IDBKeyRange.bound([i],[i+1],!1,!0),c=zt(e),f=It();return c.$t({range:a,kt:!0},function(p,m,b){var E=Ui(p[1]),D=new Ve(E);f=f.add(D)}).next(function(){return f})},t.prototype.containsKey=function(e,i){var a=yr(i.path),c=IDBKeyRange.bound([a],[wb(a)],!1,!0),f=0;return zt(e).$t({index:bn.documentTargetsIndex,kt:!0,range:c},function(p,m,b){0!==p[0]&&(f++,b.done())}).next(function(){return f>0})},t.prototype.lt=function(e,i){return Ul(e).get(i).next(function(a){return a?la(a):null})},t}();function Ul(t){return sr(t,kn.store)}function bw(t){return sr(t,zr.store)}function zt(t){return sr(t,bn.store)}function da(t){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){if(t.code!==ee.FAILED_PRECONDITION||t.message!==lT)throw t;return be("LocalStore","Unexpectedly lost primary lease"),[2]})})}function ww(t,e){var a=t[1],f=e[1],p=mt(t[0],e[0]);return 0===p?mt(a,f):p}var Hm=function(){function t(e){this.ne=e,this.buffer=new _n(ww),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var i=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(i);else{var a=this.buffer.last();ww(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),gT=function(){function t(e,i){this.garbageCollector=e,this.asyncQueue=i,this.oe=!1,this.ce=null}return t.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(e){var i=this,a=this.oe?3e5:6e4;be("LruGarbageCollector","Garbage collection scheduled in "+a+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,function(){return(0,A.mG)(i,void 0,void 0,function(){var c;return(0,A.Jh)(this,function(f){switch(f.label){case 0:this.ce=null,this.oe=!0,f.label=1;case 1:return f.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return f.sent(),[3,7];case 3:return Gu(c=f.sent())?(be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c),[3,6]):[3,4];case 4:return[4,da(c)];case 5:f.sent(),f.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return f.sent(),[2]}})})})},t}(),mT=function(){function t(e,i){this.ae=e,this.params=i}return t.prototype.calculateTargetCount=function(e,i){return this.ae.he(e).next(function(a){return Math.floor(i/100*a)})},t.prototype.nthSequenceNumber=function(e,i){var a=this;if(0===i)return ve.resolve(pr.o);var c=new Hm(i);return this.ae.forEachTarget(e,function(f){return c.re(f.sequenceNumber)}).next(function(){return a.ae.le(e,function(f){return c.re(f)})}).next(function(){return c.maxValue})},t.prototype.removeTargets=function(e,i,a){return this.ae.removeTargets(e,i,a)},t.prototype.removeOrphanedDocuments=function(e,i){return this.ae.removeOrphanedDocuments(e,i)},t.prototype.collect=function(e,i){var a=this;return-1===this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(oh)):this.getCacheSize(e).next(function(c){return c<a.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector","Garbage collection skipped; Cache size "+c+" is lower than threshold "+a.params.cacheSizeCollectionThreshold),oh):a.fe(e,i)})},t.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},t.prototype.fe=function(e,i){var a,c,f,p,m,b,E,D=this,I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(M){return M>D.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+D.params.maximumSequenceNumbersToCollect+" from "+M),c=D.params.maximumSequenceNumbersToCollect):c=M,p=Date.now(),D.nthSequenceNumber(e,c)}).next(function(M){return a=M,m=Date.now(),D.removeTargets(e,a,i)}).next(function(M){return f=M,b=Date.now(),D.removeOrphanedDocuments(e,a)}).next(function(M){return E=Date.now(),Wf()<=ks.in.DEBUG&&be("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(p-I)+"ms\n\tDetermined least recently used "+c+" in "+(m-p)+"ms\n\tRemoved "+f+" targets in "+(b-m)+"ms\n\tRemoved "+M+" documents in "+(E-b)+"ms\nTotal Duration: "+(E-I)+"ms"),ve.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:f,documentsRemoved:M})})},t}(),yT=function(){function t(e,i){this.db=e,this.garbageCollector=new mT(this,i)}return t.prototype.he=function(e){var i=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(a){return i.next(function(c){return a+c})})},t.prototype.de=function(e){var i=0;return this.le(e,function(a){i++}).next(function(){return i})},t.prototype.forEachTarget=function(e,i){return this.db.getTargetCache().forEachTarget(e,i)},t.prototype.le=function(e,i){return this.we(e,function(a,c){return i(c)})},t.prototype.addReference=function(e,i,a){return ah(e,a)},t.prototype.removeReference=function(e,i,a){return ah(e,a)},t.prototype.removeTargets=function(e,i,a){return this.db.getTargetCache().removeTargets(e,i,a)},t.prototype.markPotentiallyOrphaned=function(e,i){return ah(e,i)},t.prototype._e=function(e,i){return c=i,f=!1,_w(a=e).Ot(function(p){return pT(a,p,c).next(function(m){return m&&(f=!0),ve.resolve(!m)})}).next(function(){return f});var a,c,f},t.prototype.removeOrphanedDocuments=function(e,i){var a=this,c=this.db.getRemoteDocumentCache().newChangeBuffer(),f=[],p=0;return this.we(e,function(m,b){if(b<=i){var E=a._e(e,m).next(function(D){if(!D)return p++,c.getEntry(e,m).next(function(){return c.removeEntry(m),zt(e).delete([0,yr(m.path)])})});f.push(E)}}).next(function(){return ve.waitFor(f)}).next(function(){return c.apply(e)}).next(function(){return p})},t.prototype.removeTarget=function(e,i){var a=i.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,a)},t.prototype.updateLimboDocument=function(e,i){return ah(e,i)},t.prototype.we=function(e,i){var a,c=zt(e),f=pr.o;return c.$t({index:bn.documentTargetsIndex},function(p,m){var E=m.path,D=m.sequenceNumber;0===p[0]?(f!==pr.o&&i(new Ve(Ui(a)),f),f=D,a=E):f=pr.o}).next(function(){f!==pr.o&&i(new Ve(Ui(a)),f)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function ah(t,e){return zt(t).put((a=t.currentSequenceNumber,new bn(0,yr(e.path),a)));var a}var qu=function(){function t(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={}}return t.prototype.get=function(e){var i=this.mapKeyFn(e),a=this.inner[i];if(void 0!==a)for(var c=0,f=a;c<f.length;c++){var p=f[c],b=p[1];if(this.equalsFn(p[0],e))return b}},t.prototype.has=function(e){return void 0!==this.get(e)},t.prototype.set=function(e,i){var a=this.mapKeyFn(e),c=this.inner[a];if(void 0!==c){for(var f=0;f<c.length;f++)if(this.equalsFn(c[f][0],e))return void(c[f]=[e,i]);c.push([e,i])}else this.inner[a]=[[e,i]]},t.prototype.delete=function(e){var i=this.mapKeyFn(e),a=this.inner[i];if(void 0===a)return!1;for(var c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return 1===a.length?delete this.inner[i]:a.splice(c,1),!0;return!1},t.prototype.forEach=function(e){zs(this.inner,function(i,a){for(var c=0,f=a;c<f.length;c++){var p=f[c];e(p[0],p[1])}})},t.prototype.isEmpty=function(){return bl(this.inner)},t}(),Ew=function(){function t(){this.changes=new qu(function(e){return e.toString()},function(e,i){return e.isEqual(i)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var i=this.changes.get(e);return i?i.readTime:ft.min()},t.prototype.addEntry=function(e,i){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:i})},t.prototype.removeEntry=function(e,i){void 0===i&&(i=null),this.assertNotApplied(),this.changes.set(e,{document:On.newInvalidDocument(e),readTime:i})},t.prototype.getEntry=function(e,i){this.assertNotApplied();var a=this.changes.get(i);return void 0!==a?ve.resolve(a.document):this.getFromCache(e,i)},t.prototype.getEntries=function(e,i){return this.getAllFromCache(e,i)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),$m=function(){function t(e,i){this.R=e,this.Ut=i}return t.prototype.addEntry=function(e,i,a){return mo(e).put(Wu(i),a)},t.prototype.removeEntry=function(e,i){var a=mo(e),c=Wu(i);return a.delete(c)},t.prototype.updateMetadata=function(e,i){var a=this;return this.getMetadata(e).next(function(c){return c.byteSize+=i,a.me(e,c)})},t.prototype.getEntry=function(e,i){var a=this;return mo(e).get(Wu(i)).next(function(c){return a.ye(i,c)})},t.prototype.ge=function(e,i){var a=this;return mo(e).get(Wu(i)).next(function(c){return{document:a.ye(i,c),size:Gm(c)}})},t.prototype.getEntries=function(e,i){var a=this,c=qr();return this.pe(e,i,function(f,p){var m=a.ye(f,p);c=c.insert(f,m)}).next(function(){return c})},t.prototype.Ee=function(e,i){var a=this,c=qr(),f=new ir(Ve.comparator);return this.pe(e,i,function(p,m){var b=a.ye(p,m);c=c.insert(p,b),f=f.insert(p,Gm(m))}).next(function(){return{documents:c,Te:f}})},t.prototype.pe=function(e,i,a){if(i.isEmpty())return ve.resolve();var c=IDBKeyRange.bound(i.first().path.toArray(),i.last().path.toArray()),f=i.getIterator(),p=f.getNext();return mo(e).$t({range:c},function(m,b,E){for(var D=Ve.fromSegments(m);p&&Ve.comparator(p,D)<0;)a(p,null),p=f.getNext();p&&p.isEqual(D)&&(a(p,b),p=f.hasNext()?f.getNext():null),p?E.Ct(p.path.toArray()):E.done()}).next(function(){for(;p;)a(p,null),p=f.hasNext()?f.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,i,a){var c=this,f=qr(),p=i.path.length+1,m={};if(a.isEqual(ft.min())){var b=i.path.toArray();m.range=IDBKeyRange.lowerBound(b)}else{var E=i.path.toArray(),D=go(a);m.range=IDBKeyRange.lowerBound([E,D],!0),m.index=nn.collectionReadTimeIndex}return mo(e).$t(m,function(I,M,O){if(I.length===p){var j=ua(c.R,M);i.path.isPrefixOf(j.key.path)?Rl(i,j)&&(f=f.insert(j.key,j)):O.done()}}).next(function(){return f})},t.prototype.newChangeBuffer=function(e){return new vT(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(i){return i.byteSize})},t.prototype.getMetadata=function(e){return Cw(e).get(vi.key).next(function(i){return ze(!!i),i})},t.prototype.me=function(e,i){return Cw(e).put(vi.key,i)},t.prototype.ye=function(e,i){if(i){var a=ua(this.R,i);if(!a.isNoDocument()||!a.version.isEqual(ft.min()))return a}return On.newInvalidDocument(e)},t}(),vT=function(t){function e(i,a){var c=this;return(c=t.call(this)||this).Ie=i,c.trackRemovals=a,c.Ae=new qu(function(f){return f.toString()},function(f,p){return f.isEqual(p)}),c}return(0,A.ZT)(e,t),e.prototype.applyChanges=function(i){var a=this,c=[],f=0,p=new _n(function(m,b){return mt(m.canonicalString(),b.canonicalString())});return this.changes.forEach(function(m,b){var E=a.Ae.get(m);if(b.document.isValidDocument()){var D=gw(a.Ie.R,b.document,a.getReadTime(m));p=p.add(m.path.popLast());var I=Gm(D);f+=I-E,c.push(a.Ie.addEntry(i,m,D))}else if(f-=E,a.trackRemovals){var M=gw(a.Ie.R,On.newNoDocument(m,ft.min()),a.getReadTime(m));c.push(a.Ie.addEntry(i,m,M))}else c.push(a.Ie.removeEntry(i,m))}),p.forEach(function(m){c.push(a.Ie.Ut.addToCollectionParentIndex(i,m))}),c.push(this.Ie.updateMetadata(i,f)),ve.waitFor(c)},e.prototype.getFromCache=function(i,a){var c=this;return this.Ie.ge(i,a).next(function(f){return c.Ae.set(a,f.size),f.document})},e.prototype.getAllFromCache=function(i,a){var c=this;return this.Ie.Ee(i,a).next(function(f){var p=f.documents;return f.Te.forEach(function(m,b){c.Ae.set(m,b)}),p})},e}(Ew);function Cw(t){return sr(t,vi.store)}function mo(t){return sr(t,nn.store)}function Wu(t){return t.path.toArray()}var _T=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,i,a,c){var f=this;ze(a<c&&a>=0&&c<=11);var b,p=new Jo("createOrUpgrade",i);a<1&&c>=1&&(e.createObjectStore(or.store),(b=e).createObjectStore(po.store,{keyPath:po.keyPath}),b.createObjectStore(Bt.store,{keyPath:Bt.keyPath,autoIncrement:!0}).createIndex(Bt.userMutationsIndex,Bt.userMutationsKeyPath,{unique:!0}),b.createObjectStore(qn.store),bT(e),function(b){b.createObjectStore(nn.store)}(e));var m=ve.resolve();return a<3&&c>=3&&(0!==a&&(function(b){b.deleteObjectStore(bn.store),b.deleteObjectStore(kn.store),b.deleteObjectStore(zr.store)}(e),bT(e)),m=m.next(function(){return function(b){var E=b.store(zr.store),D=new zr(0,0,ft.min().toTimestamp(),0);return E.put(zr.key,D)}(p)})),a<4&&c>=4&&(0!==a&&(m=m.next(function(){return function(b,E){return E.store(Bt.store).Nt().next(function(D){b.deleteObjectStore(Bt.store),b.createObjectStore(Bt.store,{keyPath:Bt.keyPath,autoIncrement:!0}).createIndex(Bt.userMutationsIndex,Bt.userMutationsKeyPath,{unique:!0});var I=E.store(Bt.store),M=D.map(function(O){return I.put(O)});return ve.waitFor(M)})}(e,p)})),m=m.next(function(){!function(b){b.createObjectStore(ht.store,{keyPath:ht.keyPath})}(e)})),a<5&&c>=5&&(m=m.next(function(){return f.Re(p)})),a<6&&c>=6&&(m=m.next(function(){return function(b){b.createObjectStore(vi.store)}(e),f.be(p)})),a<7&&c>=7&&(m=m.next(function(){return f.ve(p)})),a<8&&c>=8&&(m=m.next(function(){return f.Pe(e,p)})),a<9&&c>=9&&(m=m.next(function(){(function(b){b.objectStoreNames.contains("remoteDocumentChanges")&&b.deleteObjectStore("remoteDocumentChanges")})(e),function(b){var E=b.objectStore(nn.store);E.createIndex(nn.readTimeIndex,nn.readTimeIndexPath,{unique:!1}),E.createIndex(nn.collectionReadTimeIndex,nn.collectionReadTimeIndexPath,{unique:!1})}(i)})),a<10&&c>=10&&(m=m.next(function(){return f.Ve(p)})),a<11&&c>=11&&(m=m.next(function(){(function(b){b.createObjectStore(Rr.store,{keyPath:Rr.keyPath})})(e),function(b){b.createObjectStore(bi.store,{keyPath:bi.keyPath})}(e)})),m},t.prototype.be=function(e){var i=0;return e.store(nn.store).$t(function(a,c){i+=Gm(c)}).next(function(){var a=new vi(i);return e.store(vi.store).put(vi.key,a)})},t.prototype.Re=function(e){var i=this,a=e.store(po.store),c=e.store(Bt.store);return a.Nt().next(function(f){return ve.forEach(f,function(p){var m=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return c.Nt(Bt.userMutationsIndex,m).next(function(b){return ve.forEach(b,function(E){ze(E.userId===p.userId);var D=ji(i.R,E);return hT(e,p.userId,D).next(function(){})})})})})},t.prototype.ve=function(e){var i=e.store(bn.store),a=e.store(nn.store);return e.store(zr.store).get(zr.key).next(function(c){var f=[];return a.$t(function(p,m){var b=new Be(p),E=[0,yr(b)];f.push(i.get(E).next(function(D){return D?ve.resolve():i.put(new bn(0,yr(b),c.highestListenSequenceNumber))}))}).next(function(){return ve.waitFor(f)})})},t.prototype.Pe=function(e,i){e.createObjectStore(_i.store,{keyPath:_i.keyPath});var a=i.store(_i.store),c=new rh,f=function(p){if(c.add(p)){var m=p.lastSegment(),b=p.popLast();return a.put({collectionId:m,parent:yr(b)})}};return i.store(nn.store).$t({kt:!0},function(p,m){var b=new Be(p);return f(b.popLast())}).next(function(){return i.store(qn.store).$t({kt:!0},function(p,m){var E=Ui(p[1]);return f(E.popLast())})})},t.prototype.Ve=function(e){var i=this,a=e.store(kn.store);return a.$t(function(c,f){var p=la(f),m=jm(i.R,p);return a.put(m)})},t}();function bT(t){t.createObjectStore(bn.store,{keyPath:bn.keyPath}).createIndex(bn.documentTargetsIndex,bn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(kn.store,{keyPath:kn.keyPath}).createIndex(kn.queryTargetsIndexName,kn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(zr.store)}var qm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",wT=function(){function t(e,i,a,c,f,p,m,b,E,D){if(this.allowTabSynchronization=e,this.persistenceKey=i,this.clientId=a,this.Se=f,this.window=p,this.document=m,this.De=E,this.Ce=D,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(I){return Promise.resolve()},!t.yt())throw new ge(ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yT(this,c),this.Le=i+"main",this.R=new aa(b),this.Be=new Ll(this.Le,11,new _T(this.R)),this.qe=new s1(this.referenceDelegate,this.R),this.Ut=new ih,this.Ue=new $m(this.R,this.Ut),this.Ke=new fT,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===D&&vn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ge(ee.FAILED_PRECONDITION,qm);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(i){return e.qe.getHighestSequenceNumber(i)})}).then(function(i){e.Ne=new pr(i,e.De)}).then(function(){e.xe=!0}).catch(function(i){return e.Be&&e.Be.close(),Promise.reject(i)})},t.prototype.He=function(e){var i=this;return this.Me=function(a){return(0,A.mG)(i,void 0,void 0,function(){return(0,A.Jh)(this,function(c){return this.started?[2,e(a)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var i=this;this.Be.vt(function(a){return(0,A.mG)(i,void 0,void 0,function(){return(0,A.Jh)(this,function(c){switch(c.label){case 0:return null===a.newVersion?[4,e()]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var i=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return(0,A.mG)(i,void 0,void 0,function(){return(0,A.Jh)(this,function(a){switch(a.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(i){return uh(i).put(new ht(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(i).next(function(a){a||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(i)}).next(function(a){return e.isPrimary&&!a?e.Xe(i).next(function(){return!1}):!!a&&e.Ze(i).next(function(){return!0})})}).catch(function(i){if(Gu(i))return be("IndexedDbPersistence","Failed to extend owner lease: ",i),e.isPrimary;if(!e.allowTabSynchronization)throw i;return be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",i),!1}).then(function(i){e.isPrimary!==i&&e.Se.enqueueRetryable(function(){return e.Me(i)}),e.isPrimary=i})},t.prototype.Je=function(e){var i=this;return jl(e).get(or.key).next(function(a){return ve.resolve(i.tn(a))})},t.prototype.en=function(e){return uh(e).delete(this.clientId)},t.prototype.nn=function(){return(0,A.mG)(this,void 0,void 0,function(){var e,i,a,f=this;return(0,A.Jh)(this,function(p){switch(p.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(m){var b=sr(m,ht.store);return b.Nt().next(function(E){var D=f.rn(E,18e5),I=E.filter(function(M){return-1===D.indexOf(M)});return ve.forEach(I,function(M){return b.delete(M.clientId)}).next(function(){return I})})}).catch(function(){return[]})]);case 1:if(e=p.sent(),this.Qe)for(i=0,a=e;i<a.length;i++)this.Qe.removeItem(this.on(a[i].clientId));p.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var i=this;return this.Ce?ve.resolve(!0):jl(e).get(or.key).next(function(a){if(null!==a&&i.sn(a.leaseTimestampMs,5e3)&&!i.cn(a.ownerId)){if(i.tn(a)&&i.networkEnabled)return!0;if(!i.tn(a)){if(!a.allowTabSynchronization)throw new ge(ee.FAILED_PRECONDITION,qm);return!1}}return!(!i.networkEnabled||!i.inForeground)||uh(e).Nt().next(function(c){return void 0===i.rn(c,5e3).find(function(f){return!(i.clientId===f.clientId||!(!i.networkEnabled&&f.networkEnabled||!i.inForeground&&f.inForeground&&i.networkEnabled===f.networkEnabled))})})}).next(function(a){return i.isPrimary!==a&&be("IndexedDbPersistence","Client "+(a?"is":"is not")+" eligible for a primary lease."),a})},t.prototype.shutdown=function(){return(0,A.mG)(this,void 0,void 0,function(){var e=this;return(0,A.Jh)(this,function(i){switch(i.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[or.store,ht.store],function(a){var c=new Kr(a,pr.o);return e.Xe(c).next(function(){return e.en(c)})})];case 1:return i.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,i){var a=this;return e.filter(function(c){return a.sn(c.updateTimeMs,i)&&!a.cn(c.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(i){return uh(i).Nt().next(function(a){return e.rn(a,18e5).map(function(c){return c.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return tt.Qt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,i,a){var f,c=this;return be("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===i?"readonly":"readwrite",kl,function(m){return f=new Kr(m,c.Ne?c.Ne.next():pr.o),"readwrite-primary"===i?c.Je(f).next(function(b){return!!b||c.Ye(f)}).next(function(b){if(!b)throw vn("Failed to obtain primary lease for action '"+e+"'."),c.isPrimary=!1,c.Se.enqueueRetryable(function(){return c.Me(!1)}),new ge(ee.FAILED_PRECONDITION,lT);return a(f)}).next(function(b){return c.Ze(f).next(function(){return b})}):c.dn(f).next(function(){return a(f)})}).then(function(m){return f.raiseOnCommittedEvent(),m})},t.prototype.dn=function(e){var i=this;return jl(e).get(or.key).next(function(a){if(null!==a&&i.sn(a.leaseTimestampMs,5e3)&&!i.cn(a.ownerId)&&!i.tn(a)&&!(i.Ce||i.allowTabSynchronization&&a.allowTabSynchronization))throw new ge(ee.FAILED_PRECONDITION,qm)})},t.prototype.Ze=function(e){var i=new or(this.clientId,this.allowTabSynchronization,Date.now());return jl(e).put(or.key,i)},t.yt=function(){return Ll.yt()},t.prototype.Xe=function(e){var i=this,a=jl(e);return a.get(or.key).next(function(c){return i.tn(c)?(be("IndexedDbPersistence","Releasing primary lease."),a.delete(or.key)):ve.resolve()})},t.prototype.sn=function(e,i){var a=Date.now();return!(e<a-i||e>a&&(vn("Detected an update time that is in the future: "+e+" > "+a),1))},t.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var e,i=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){i.un(),(0,Dt.G6)()&&navigator.appVersion.match("Version/14")&&i.Se.enterRestrictedMode(!0),i.Se.enqueueAndForget(function(){return i.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(e){var i;try{var a=null!==(null===(i=this.Qe)||void 0===i?void 0:i.getItem(this.on(e)));return be("IndexedDbPersistence","Client '"+e+"' "+(a?"is":"is not")+" zombied in LocalStorage"),a}catch(c){return vn("IndexedDbPersistence","Failed to get zombied client id.",c),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){vn("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function jl(t){return sr(t,or.store)}function uh(t){return sr(t,ht.store)}function Wm(t,e){var i=t.projectId;return t.isDefaultDatabase||(i+="."+t.database),"firestore/"+e+"/"+i+"/"}var ET=function(t,e){this.progress=t,this.wn=e},zu=function(){function t(e,i,a){this.Ue=e,this._n=i,this.Ut=a}return t.prototype.mn=function(e,i){var a=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,i).next(function(c){return a.yn(e,i,c)})},t.prototype.yn=function(e,i,a){return this.Ue.getEntry(e,i).next(function(c){for(var f=0,p=a;f<p.length;f++)p[f].applyToLocalView(c);return c})},t.prototype.gn=function(e,i){e.forEach(function(a,c){for(var f=0,p=i;f<p.length;f++)p[f].applyToLocalView(c)})},t.prototype.pn=function(e,i){var a=this;return this.Ue.getEntries(e,i).next(function(c){return a.En(e,c).next(function(){return c})})},t.prototype.En=function(e,i){var a=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,i).next(function(c){return a.gn(i,c)})},t.prototype.getDocumentsMatchingQuery=function(e,i,a){return Ve.isDocumentKey((c=i).path)&&null===c.collectionGroup&&0===c.filters.length?this.Tn(e,i.path):Mm(i)?this.In(e,i,a):this.An(e,i,a);var c},t.prototype.Tn=function(e,i){return this.mn(e,new Ve(i)).next(function(a){var c=Gb();return a.isFoundDocument()&&(c=c.insert(a.key,a)),c})},t.prototype.In=function(e,i,a){var c=this,f=i.collectionGroup,p=Gb();return this.Ut.getCollectionParents(e,f).next(function(m){return ve.forEach(m,function(b){var D,I,E=(D=i,I=b.child(f),new Li(I,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));return c.An(e,E,a).next(function(D){D.forEach(function(I,M){p=p.insert(I,M)})})}).next(function(){return p})})},t.prototype.An=function(e,i,a){var c,f,p=this;return this.Ue.getDocumentsMatchingQuery(e,i,a).next(function(m){return c=m,p._n.getAllMutationBatchesAffectingQuery(e,i)}).next(function(m){return p.Rn(e,f=m,c).next(function(b){c=b;for(var E=0,D=f;E<D.length;E++)for(var I=D[E],M=0,O=I.mutations;M<O.length;M++){var j=O[M],z=j.key,le=c.get(z);null==le&&(le=On.newInvalidDocument(z),c=c.insert(z,le)),Ol(j,le,I.localWriteTime),le.isFoundDocument()||(c=c.remove(z))}})}).next(function(){return c.forEach(function(m,b){Rl(i,b)||(c=c.remove(m))}),c})},t.prototype.Rn=function(e,i,a){for(var c=It(),f=0,p=i;f<p.length;f++)for(var m=0,b=p[f].mutations;m<b.length;m++){var E=b[m];E instanceof fo&&null===a.get(E.key)&&(c=c.add(E.key))}var D=a;return this.Ue.getEntries(e,c).next(function(I){return I.forEach(function(M,O){O.isFoundDocument()&&(D=D.insert(M,O))}),D})},t}(),CT=function(){function t(e,i,a,c){this.targetId=e,this.fromCache=i,this.bn=a,this.vn=c}return t.Pn=function(e,i){for(var a=It(),c=It(),f=0,p=i.docChanges;f<p.length;f++){var m=p[f];switch(m.type){case 0:a=a.add(m.doc.key);break;case 1:c=c.add(m.doc.key)}}return new t(e,i.fromCache,a,c)},t}(),Dw=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,i,a,c){var p,f=this;return 0===(p=i).filters.length&&null===p.limit&&null==p.startAt&&null==p.endAt&&(0===p.explicitOrderBy.length||1===p.explicitOrderBy.length&&p.explicitOrderBy[0].field.isKeyField())||a.isEqual(ft.min())?this.Dn(e,i):this.Sn.pn(e,c).next(function(p){var m=f.Cn(i,p);return(Yf(i)||Al(i))&&f.Nn(i.limitType,m,c,a)?f.Dn(e,i):(Wf()<=ks.in.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),xl(i)),f.Sn.getDocumentsMatchingQuery(e,i,a).next(function(b){return m.forEach(function(E){b=b.insert(E.key,E)}),b}))})},t.prototype.Cn=function(e,i){var a=new _n(Nm(e));return i.forEach(function(c,f){Rl(e,f)&&(a=a.add(f))}),a},t.prototype.Nn=function(e,i,a,c){if(a.size!==i.size)return!0;var f="F"===e?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(c)>0)},t.prototype.Dn=function(e,i){return Wf()<=ks.in.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",xl(i)),this.Sn.getDocumentsMatchingQuery(e,i,ft.min())},t}(),Iw=function(){function t(e,i,a,c){this.persistence=e,this.xn=i,this.R=c,this.Fn=new ir(mt),this.kn=new qu(function(f){return Qf(f)},Sm),this.$n=ft.min(),this._n=e.getMutationQueue(a),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new zu(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var i=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(a){return e.collect(a,i.Fn)})},t}();function Ku(t,e,i,a){return new Iw(t,e,i,a)}function DT(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i,a,c,f;return(0,A.Jh)(this,function(p){switch(p.label){case 0:return i=Te(t),a=i._n,c=i.Mn,[4,i.persistence.runTransaction("Handle user change","readonly",function(m){var b;return i._n.getAllMutationBatches(m).next(function(E){return b=E,a=i.persistence.getMutationQueue(e),c=new zu(i.On,a,i.persistence.getIndexManager()),a.getAllMutationBatches(m)}).next(function(E){for(var D=[],I=[],M=It(),O=0,j=b;O<j.length;O++){var z=j[O];D.push(z.batchId);for(var le=0,me=z.mutations;le<me.length;le++)M=M.add(me[le].key)}for(var Ie=0,Ke=E;Ie<Ke.length;Ie++){var Oe=Ke[Ie];I.push(Oe.batchId);for(var ot=0,Kn=Oe.mutations;ot<Kn.length;ot++)M=M.add(Kn[ot].key)}return c.pn(m,M).next(function(ad){return{Ln:ad,removedBatchIds:D,addedBatchIds:I}})})})];case 1:return f=p.sent(),[2,(i._n=a,i.Mn=c,i.xn.Vn(i.Mn),f)]}})})}function Tw(t,e){var i=Te(t);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(a){var p,m,b,E,D,I,M,c=e.batch.keys(),f=i.On.newChangeBuffer({trackRemovals:!0});return(p=i,m=a,b=e,E=f,D=b.batch,I=D.keys(),M=ve.resolve(),I.forEach(function(O){M=M.next(function(){return E.getEntry(m,O)}).next(function(j){var z=b.docVersions.get(O);ze(null!==z),j.version.compareTo(z)<0&&(D.applyToRemoteDocument(j,b),j.isValidDocument()&&E.addEntry(j,b.commitVersion))})}),M.next(function(){return p._n.removeMutationBatch(m,D)})).next(function(){return f.apply(a)}).next(function(){return i._n.performConsistencyCheck(a)}).next(function(){return i.Mn.pn(a,c)})})}function Sw(t){var e=Te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(i){return e.qe.getLastRemoteSnapshotVersion(i)})}function IT(t,e){var i=Te(t),a=e.snapshotVersion,c=i.Fn;return i.persistence.runTransaction("Apply remote event","readwrite-primary",function(f){var p=i.On.newChangeBuffer({trackRemovals:!0});c=i.Fn;var m=[];e.targetChanges.forEach(function(D,I){var z,le,me,M=c.get(I);if(M){m.push(i.qe.removeMatchingKeys(f,D.removedDocuments,I).next(function(){return i.qe.addMatchingKeys(f,D.addedDocuments,I)}));var O=D.resumeToken;if(O.approximateByteSize()>0){var j=M.withResumeToken(O,a).withSequenceNumber(f.currentSequenceNumber);c=c.insert(I,j),z=M,me=D,ze((le=j).resumeToken.approximateByteSize()>0),(0===z.resumeToken.approximateByteSize()||le.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8||me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0)&&m.push(i.qe.updateTargetData(f,j))}}});var b=qr();if(e.documentUpdates.forEach(function(D,I){e.resolvedLimboDocuments.has(D)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(f,D))}),m.push(Aw(f,p,e.documentUpdates,a,void 0).next(function(D){b=D})),!a.isEqual(ft.min())){var E=i.qe.getLastRemoteSnapshotVersion(f).next(function(D){return i.qe.setTargetsMetadata(f,f.currentSequenceNumber,a)});m.push(E)}return ve.waitFor(m).next(function(){return p.apply(f)}).next(function(){return i.Mn.En(f,b)}).next(function(){return b})}).then(function(f){return i.Fn=c,f})}function Aw(t,e,i,a,c){var f=It();return i.forEach(function(p){return f=f.add(p)}),e.getEntries(t,f).next(function(p){var m=qr();return i.forEach(function(b,E){var D=p.get(b),I=(null==c?void 0:c.get(b))||a;E.isNoDocument()&&E.version.isEqual(ft.min())?(e.removeEntry(b,I),m=m.insert(b,E)):!D.isValidDocument()||E.version.compareTo(D.version)>0||0===E.version.compareTo(D.version)&&D.hasPendingWrites?(e.addEntry(E,I),m=m.insert(b,E)):be("LocalStore","Ignoring outdated watch update for ",b,". Current version:",D.version," Watch version:",E.version)}),m})}function TT(t,e){var i=Te(t);return i.persistence.runTransaction("Get next mutation batch","readonly",function(a){return void 0===e&&(e=-1),i._n.getNextMutationBatchAfterBatchId(a,e)})}function Qu(t,e){var i=Te(t);return i.persistence.runTransaction("Allocate target","readwrite",function(a){var c;return i.qe.getTargetData(a,e).next(function(f){return f?ve.resolve(c=f):i.qe.allocateTargetId(a).next(function(p){return c=new Hu(e,p,0,a.currentSequenceNumber),i.qe.addTargetData(a,c).next(function(){return c})})})}).then(function(a){var c=i.Fn.get(a.targetId);return(null===c||a.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(i.Fn=i.Fn.insert(a.targetId,a),i.kn.set(e,a.targetId)),a})}function fa(t,e,i){return(0,A.mG)(this,void 0,void 0,function(){var a,c,f,p;return(0,A.Jh)(this,function(m){switch(m.label){case 0:a=Te(t),c=a.Fn.get(e),f=i?"readwrite":"readwrite-primary",m.label=1;case 1:return m.trys.push([1,4,,5]),i?[3,3]:[4,a.persistence.runTransaction("Release target",f,function(b){return a.persistence.referenceDelegate.removeTarget(b,c)})];case 2:m.sent(),m.label=3;case 3:return[3,5];case 4:if(!Gu(p=m.sent()))throw p;return be("LocalStore","Failed to update sequence numbers for target "+e+": "+p),[3,5];case 5:return a.Fn=a.Fn.remove(e),a.kn.delete(c.target),[2]}})})}function ch(t,e,i){var a=Te(t),c=ft.min(),f=It();return a.persistence.runTransaction("Execute query","readonly",function(p){return(m=a,b=p,E=xr(e),D=Te(m),I=D.kn.get(E),void 0!==I?ve.resolve(D.Fn.get(I)):D.qe.getTargetData(b,E)).next(function(m){if(m)return c=m.lastLimboFreeSnapshotVersion,a.qe.getMatchingKeysForTargetId(p,m.targetId).next(function(b){f=b})}).next(function(){return a.xn.getDocumentsMatchingQuery(p,e,i?c:ft.min(),i?f:It())}).next(function(m){return{documents:m,Bn:f}});var m,b,E,D,I})}function Mw(t,e){var i=Te(t),a=Te(i.qe),c=i.Fn.get(e);return c?Promise.resolve(c.target):i.persistence.runTransaction("Get target data","readonly",function(f){return a.lt(f,e).next(function(p){return p?p.target:null})})}function ST(t){var e=Te(t);return e.persistence.runTransaction("Get new document changes","readonly",function(i){return c=i,f=e.$n,p=Te(e.On),m=qr(),b=go(f),E=mo(c),D=IDBKeyRange.lowerBound(b,!0),E.$t({index:nn.readTimeIndex,range:D},function(I,M){var O=ua(p.R,M);m=m.insert(O.key,O),b=M.readTime}).next(function(){return{wn:m,readTime:mw(b)}});var c,f,p,m,b,E,D}).then(function(i){var a=i.wn;return e.$n=i.readTime,a})}function a1(t){return(0,A.mG)(this,void 0,void 0,function(){var e;return(0,A.Jh)(this,function(i){return[2,(e=Te(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(a){return f=mo(a),p=ft.min(),f.$t({index:nn.readTimeIndex,reverse:!0},function(m,b,E){b.readTime&&(p=mw(b.readTime)),E.done()}).next(function(){return p});var f,p}).then(function(a){e.$n=a})]})})}function u1(t,e,i,a){return(0,A.mG)(this,void 0,void 0,function(){var c,f,p,m,b,E,D,I,M,O;return(0,A.Jh)(this,function(j){switch(j.label){case 0:for(c=Te(t),f=It(),p=qr(),m=Hb(),b=0,E=i;b<E.length;b++)I=e.qn((D=E[b]).metadata.name),D.document&&(f=f.add(I)),p=p.insert(I,e.Un(D)),m=m.insert(I,e.Kn(D.metadata.readTime));return M=c.On.newChangeBuffer({trackRemovals:!0}),[4,Qu(c,(z=a,xr(Xs(Be.fromString("__bundle__/docs/"+z)))))];case 1:return O=j.sent(),[2,c.persistence.runTransaction("Apply bundle documents","readwrite",function(z){return Aw(z,M,p,ft.min(),m).next(function(le){return M.apply(z),le}).next(function(le){return c.qe.removeMatchingKeysForTargetId(z,O.targetId).next(function(){return c.qe.addMatchingKeys(z,f,O.targetId)}).next(function(){return c.Mn.En(z,le)}).next(function(){return le})})})]}var z})})}function zm(t,e,i){return void 0===i&&(i=It()),(0,A.mG)(this,void 0,void 0,function(){var a,c;return(0,A.Jh)(this,function(f){switch(f.label){case 0:return[4,Qu(t,xr(Xo(e.bundledQuery)))];case 1:return a=f.sent(),[2,(c=Te(t)).persistence.runTransaction("Save named query","readwrite",function(p){var m=ln(e.readTime);if(a.snapshotVersion.compareTo(m)>=0)return c.Ke.saveNamedQuery(p,e);var b=a.withResumeToken(rr.EMPTY_BYTE_STRING,m);return c.Fn=c.Fn.insert(b.targetId,b),c.qe.updateTargetData(p,b).next(function(){return c.qe.removeMatchingKeysForTargetId(p,a.targetId)}).next(function(){return c.qe.addMatchingKeys(p,i,a.targetId)}).next(function(){return c.Ke.saveNamedQuery(p,e)})})]}})})}var AT=function(){function t(e){this.R=e,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,i){return ve.resolve(this.Qn.get(i))},t.prototype.saveBundleMetadata=function(e,i){var a;return this.Qn.set(i.id,{id:(a=i).id,version:a.version,createTime:ln(a.createTime)}),ve.resolve()},t.prototype.getNamedQuery=function(e,i){return ve.resolve(this.jn.get(i))},t.prototype.saveNamedQuery=function(e,i){return this.jn.set(i.name,{name:(a=i).name,query:Xo(a.bundledQuery),readTime:ln(a.readTime)}),ve.resolve();var a},t}(),Km=function(){function t(){this.Wn=new _n(Tn.Gn),this.zn=new _n(Tn.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,i){var a=new Tn(e,i);this.Wn=this.Wn.add(a),this.zn=this.zn.add(a)},t.prototype.Jn=function(e,i){var a=this;e.forEach(function(c){return a.addReference(c,i)})},t.prototype.removeReference=function(e,i){this.Yn(new Tn(e,i))},t.prototype.Xn=function(e,i){var a=this;e.forEach(function(c){return a.removeReference(c,i)})},t.prototype.Zn=function(e){var i=this,a=new Ve(new Be([])),c=new Tn(a,e),f=new Tn(a,e+1),p=[];return this.zn.forEachInRange([c,f],function(m){i.Yn(m),p.push(m.key)}),p},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(i){return e.Yn(i)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var i=new Ve(new Be([])),a=new Tn(i,e),c=new Tn(i,e+1),f=It();return this.zn.forEachInRange([a,c],function(p){f=f.add(p.key)}),f},t.prototype.containsKey=function(e){var i=new Tn(e,0),a=this.Wn.firstAfterOrEqual(i);return null!==a&&e.isEqual(a.key)},t}(),Tn=function(){function t(e,i){this.key=e,this.ns=i}return t.Gn=function(e,i){return Ve.comparator(e.key,i.key)||mt(e.ns,i.ns)},t.Hn=function(e,i){return mt(e.ns,i.ns)||Ve.comparator(e.key,i.key)},t}(),MT=function(){function t(e,i){this.Ut=e,this.referenceDelegate=i,this._n=[],this.ss=1,this.rs=new _n(Tn.Gn)}return t.prototype.checkEmpty=function(e){return ve.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(e,i,a,c){var f=this.ss;this.ss++;var p=new Um(f,i,a,c);this._n.push(p);for(var m=0,b=c;m<b.length;m++){var E=b[m];this.rs=this.rs.add(new Tn(E.key,f)),this.Ut.addToCollectionParentIndex(e,E.key.path.popLast())}return ve.resolve(p)},t.prototype.lookupMutationBatch=function(e,i){return ve.resolve(this.os(i))},t.prototype.getNextMutationBatchAfterBatchId=function(e,i){var c=this.cs(i+1),f=c<0?0:c;return ve.resolve(this._n.length>f?this._n[f]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return ve.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return ve.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,i){var a=this,c=new Tn(i,0),f=new Tn(i,Number.POSITIVE_INFINITY),p=[];return this.rs.forEachInRange([c,f],function(m){var b=a.os(m.ns);p.push(b)}),ve.resolve(p)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,i){var a=this,c=new _n(mt);return i.forEach(function(f){var p=new Tn(f,0),m=new Tn(f,Number.POSITIVE_INFINITY);a.rs.forEachInRange([p,m],function(b){c=c.add(b.ns)})}),ve.resolve(this.us(c))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,i){var a=i.path,c=a.length+1,f=a;Ve.isDocumentKey(f)||(f=f.child(""));var p=new Tn(new Ve(f),0),m=new _n(mt);return this.rs.forEachWhile(function(b){var E=b.key.path;return!!a.isPrefixOf(E)&&(E.length===c&&(m=m.add(b.ns)),!0)},p),ve.resolve(this.us(m))},t.prototype.us=function(e){var i=this,a=[];return e.forEach(function(c){var f=i.os(c);null!==f&&a.push(f)}),a},t.prototype.removeMutationBatch=function(e,i){var a=this;ze(0===this.hs(i.batchId,"removed")),this._n.shift();var c=this.rs;return ve.forEach(i.mutations,function(f){var p=new Tn(f.key,i.batchId);return c=c.delete(p),a.referenceDelegate.markPotentiallyOrphaned(e,f.key)}).next(function(){a.rs=c})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,i){var a=new Tn(i,0),c=this.rs.firstAfterOrEqual(a);return ve.resolve(i.isEqual(c&&c.key))},t.prototype.performConsistencyCheck=function(e){return ve.resolve()},t.prototype.hs=function(e,i){return this.cs(e)},t.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},t.prototype.os=function(e){var i=this.cs(e);return i<0||i>=this._n.length?null:this._n[i]},t}(),NT=function(){function t(e,i){this.Ut=e,this.ls=i,this.docs=new ir(Ve.comparator),this.size=0}return t.prototype.addEntry=function(e,i,a){var c=i.key,f=this.docs.get(c),p=f?f.size:0,m=this.ls(i);return this.docs=this.docs.insert(c,{document:i.clone(),size:m,readTime:a}),this.size+=m-p,this.Ut.addToCollectionParentIndex(e,c.path.popLast())},t.prototype.removeEntry=function(e){var i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)},t.prototype.getEntry=function(e,i){var a=this.docs.get(i);return ve.resolve(a?a.document.clone():On.newInvalidDocument(i))},t.prototype.getEntries=function(e,i){var a=this,c=qr();return i.forEach(function(f){var p=a.docs.get(f);c=c.insert(f,p?p.document.clone():On.newInvalidDocument(f))}),ve.resolve(c)},t.prototype.getDocumentsMatchingQuery=function(e,i,a){for(var c=qr(),f=new Ve(i.path.child("")),p=this.docs.getIteratorFrom(f);p.hasNext();){var m=p.getNext(),E=m.value,D=E.document,I=E.readTime;if(!i.path.isPrefixOf(m.key.path))break;I.compareTo(a)<=0||Rl(i,D)&&(c=c.insert(D.key,D.clone()))}return ve.resolve(c)},t.prototype.fs=function(e,i){return ve.forEach(this.docs,function(a){return i(a)})},t.prototype.newChangeBuffer=function(e){return new xT(this)},t.prototype.getSize=function(e){return ve.resolve(this.size)},t}(),xT=function(t){function e(i){var a=this;return(a=t.call(this)||this).Ie=i,a}return(0,A.ZT)(e,t),e.prototype.applyChanges=function(i){var a=this,c=[];return this.changes.forEach(function(f,p){p.document.isValidDocument()?c.push(a.Ie.addEntry(i,p.document,a.getReadTime(f))):a.Ie.removeEntry(f)}),ve.waitFor(c)},e.prototype.getFromCache=function(i,a){return this.Ie.getEntry(i,a)},e.prototype.getAllFromCache=function(i,a){return this.Ie.getEntries(i,a)},e}(Ew),Nw=function(){function t(e){this.persistence=e,this.ds=new qu(function(i){return Qf(i)},Sm),this.lastRemoteSnapshotVersion=ft.min(),this.highestTargetId=0,this.ws=0,this._s=new Km,this.targetCount=0,this.ys=sh.Jt()}return t.prototype.forEachTarget=function(e,i){return this.ds.forEach(function(a,c){return i(c)}),ve.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return ve.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return ve.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),ve.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ws&&(this.ws=i),ve.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var i=e.targetId;i>this.highestTargetId&&(this.ys=new sh(i),this.highestTargetId=i),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,i){return this.te(i),this.targetCount+=1,ve.resolve()},t.prototype.updateTargetData=function(e,i){return this.te(i),ve.resolve()},t.prototype.removeTargetData=function(e,i){return this.ds.delete(i.target),this._s.Zn(i.targetId),this.targetCount-=1,ve.resolve()},t.prototype.removeTargets=function(e,i,a){var c=this,f=0,p=[];return this.ds.forEach(function(m,b){b.sequenceNumber<=i&&null===a.get(b.targetId)&&(c.ds.delete(m),p.push(c.removeMatchingKeysForTargetId(e,b.targetId)),f++)}),ve.waitFor(p).next(function(){return f})},t.prototype.getTargetCount=function(e){return ve.resolve(this.targetCount)},t.prototype.getTargetData=function(e,i){var a=this.ds.get(i)||null;return ve.resolve(a)},t.prototype.addMatchingKeys=function(e,i,a){return this._s.Jn(i,a),ve.resolve()},t.prototype.removeMatchingKeys=function(e,i,a){this._s.Xn(i,a);var c=this.persistence.referenceDelegate,f=[];return c&&i.forEach(function(p){f.push(c.markPotentiallyOrphaned(e,p))}),ve.waitFor(f)},t.prototype.removeMatchingKeysForTargetId=function(e,i){return this._s.Zn(i),ve.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,i){var a=this._s.es(i);return ve.resolve(a)},t.prototype.containsKey=function(e,i){return ve.resolve(this._s.containsKey(i))},t}(),Qm=function(){function t(e,i){var a=this;this.gs={},this.Ne=new pr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Nw(this),this.Ut=new yw,this.Ue=new NT(this.Ut,function(p){return a.referenceDelegate.ps(p)}),this.R=new aa(i),this.Ke=new AT(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var i=this.gs[e.toKey()];return i||(i=new MT(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=i),i},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,i,a){var c=this;be("MemoryPersistence","Starting transaction:",e);var f=new RT(this.Ne.next());return this.referenceDelegate.Es(),a(f).next(function(p){return c.referenceDelegate.Ts(f).next(function(){return p})}).toPromise().then(function(p){return f.raiseOnCommittedEvent(),p})},t.prototype.Is=function(e,i){return ve.or(Object.values(this.gs).map(function(a){return function(){return a.containsKey(e,i)}}))},t}(),RT=function(t){function e(i){var a=this;return(a=t.call(this)||this).currentSequenceNumber=i,a}return(0,A.ZT)(e,t),e}(et),Yu=function(){function t(e){this.persistence=e,this.As=new Km,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Fe()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,i,a){return this.As.addReference(a,i),this.vs.delete(a.toString()),ve.resolve()},t.prototype.removeReference=function(e,i,a){return this.As.removeReference(a,i),this.vs.add(a.toString()),ve.resolve()},t.prototype.markPotentiallyOrphaned=function(e,i){return this.vs.add(i.toString()),ve.resolve()},t.prototype.removeTarget=function(e,i){var a=this;this.As.Zn(i.targetId).forEach(function(f){return a.vs.add(f.toString())});var c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(e,i.targetId).next(function(f){f.forEach(function(p){return a.vs.add(p.toString())})}).next(function(){return c.removeTargetData(e,i)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var i=this,a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.vs,function(c){var f=Ve.fromPath(c);return i.Ps(e,f).next(function(p){p||a.removeEntry(f)})}).next(function(){return i.Rs=null,a.apply(e)})},t.prototype.updateLimboDocument=function(e,i){var a=this;return this.Ps(e,i).next(function(c){c?a.vs.delete(i.toString()):a.vs.add(i.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,i){var a=this;return ve.or([function(){return ve.resolve(a.As.containsKey(i))},function(){return a.persistence.getTargetCache().containsKey(e,i)},function(){return a.persistence.Is(e,i)}])},t}(),Nt=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();function Ym(t,e){return"firestore_clients_"+t+"_"+e}function Jr(t,e,i){var a="firestore_mutations_"+t+"_"+i;return e.isAuthenticated()&&(a+="_"+e.uid),a}function Bl(t,e){return"firestore_targets_"+t+"_"+e}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid");var xw=function(){function t(e,i,a,c){this.user=e,this.batchId=i,this.state=a,this.error=c}return t.Vs=function(e,i,a){var c,f=JSON.parse(a),p="object"==typeof f&&-1!==["pending","acknowledged","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error);return p&&f.error&&(p="string"==typeof f.error.message&&"string"==typeof f.error.code)&&(c=new ge(f.error.code,f.error.message)),p?new t(e,i,f.state,c):(vn("SharedClientState","Failed to parse mutation state for ID '"+i+"': "+a),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),lh=function(){function t(e,i,a){this.targetId=e,this.state=i,this.error=a}return t.Vs=function(e,i){var a,c=JSON.parse(i),f="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return f&&c.error&&(f="string"==typeof c.error.message&&"string"==typeof c.error.code)&&(a=new ge(c.error.code,c.error.message)),f?new t(e,c.state,a):(vn("SharedClientState","Failed to parse target state for ID '"+e+"': "+i),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),Jm=function(){function t(e,i){this.clientId=e,this.activeTargetIds=i}return t.Vs=function(e,i){for(var a=JSON.parse(i),c="object"==typeof a&&a.activeTargetIds instanceof Array,f=Lu(),p=0;c&&p<a.activeTargetIds.length;++p)c=Db(a.activeTargetIds[p]),f=f.add(a.activeTargetIds[p]);return c?new t(e,f):(vn("SharedClientState","Failed to parse client data for instance '"+e+"': "+i),null)},t}(),Rw=function(){function t(e,i){this.clientId=e,this.onlineState=i}return t.Vs=function(e){var i=JSON.parse(e);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new t(i.clientId,i.onlineState):(vn("SharedClientState","Failed to parse online state: "+e),null)},t}(),Zm=function(){function t(){this.activeTargetIds=Lu()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),Xm=function(){function t(e,i,a,c,f){this.window=e,this.Se=i,this.persistenceKey=a,this.Ns=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new ir(mt),this.started=!1,this.$s=[];var p=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.Os=Ym(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new Zm),this.Ls=new RegExp("^firestore_clients_"+p+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+p+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+p+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(m){return"firestore_bundle_loaded_"+m}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return(0,A.mG)(this,void 0,void 0,function(){var e,i,a,c,f,p,m,b,E,D,M=this;return(0,A.Jh)(this,function(O){switch(O.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=O.sent(),i=0,a=e;i<a.length;i++)(c=a[i])!==this.Ns&&(f=this.getItem(Ym(this.persistenceKey,c)))&&(p=Jm.Vs(c,f))&&(this.ks=this.ks.insert(p.clientId,p));for(this.Qs(),(m=this.storage.getItem(this.Us))&&(b=this.js(m))&&this.Ws(b),E=0,D=this.$s;E<D.length;E++)this.Fs(D[E]);return this.$s=[],this.window.addEventListener("pagehide",function(){return M.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(e){var i=!1;return this.ks.forEach(function(a,c){c.activeTargetIds.has(e)&&(i=!0)}),i},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,i,a){this.zs(e,i,a),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var i="not-current";if(this.isActiveQueryTarget(e)){var a=this.storage.getItem(Bl(this.persistenceKey,e));if(a){var c=lh.Vs(e,a);c&&(i=c.state)}}return this.Js.Ds(e),this.Qs(),i},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(Bl(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,i,a){this.Ys(e,i,a)},t.prototype.handleUserChange=function(e,i,a){var c=this;i.forEach(function(f){c.Hs(f)}),this.currentUser=e,a.forEach(function(f){c.addPendingMutation(f)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(e){var i=this.storage.getItem(e);return be("SharedClientState","READ",e,i),i},t.prototype.setItem=function(e,i){be("SharedClientState","SET",e,i),this.storage.setItem(e,i)},t.prototype.removeItem=function(e){be("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.Fs=function(e){var i=this,a=e;if(a.storageArea===this.storage){if(be("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Os)return void vn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,A.mG)(i,void 0,void 0,function(){var c,f,p,m,b,E;return(0,A.Jh)(this,function(D){if(this.started){if(null!==a.key)if(this.Ls.test(a.key)){if(null==a.newValue)return c=this.ti(a.key),[2,this.ei(c,null)];if(f=this.ni(a.key,a.newValue))return[2,this.ei(f.clientId,f)]}else if(this.Bs.test(a.key)){if(null!==a.newValue&&(p=this.si(a.key,a.newValue)))return[2,this.ii(p)]}else if(this.qs.test(a.key)){if(null!==a.newValue&&(m=this.ri(a.key,a.newValue)))return[2,this.oi(m)]}else if(a.key===this.Us){if(null!==a.newValue&&(b=this.js(a.newValue)))return[2,this.Ws(b)]}else if(a.key===this.Ms)(E=function(I){var M=pr.o;if(null!=I)try{var O=JSON.parse(I);ze("number"==typeof O),M=O}catch(j){vn("SharedClientState","Failed to read sequence number from WebStorage",j)}return M}(a.newValue))!==pr.o&&this.sequenceNumberHandler(E);else if(a.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(a);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(e,i,a){var c=new xw(this.currentUser,e,i,a),f=Jr(this.persistenceKey,this.currentUser,e);this.setItem(f,c.Ss())},t.prototype.Hs=function(e){var i=Jr(this.persistenceKey,this.currentUser,e);this.removeItem(i)},t.prototype.Xs=function(e){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:e}))},t.prototype.Ys=function(e,i,a){var c=Bl(this.persistenceKey,e),f=new lh(e,i,a);this.setItem(c,f.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(e){var i=this.Ls.exec(e);return i?i[1]:null},t.prototype.ni=function(e,i){var a=this.ti(e);return Jm.Vs(a,i)},t.prototype.si=function(e,i){var a=this.Bs.exec(e),c=Number(a[1]);return xw.Vs(new Nt(void 0!==a[2]?a[2]:null),c,i)},t.prototype.ri=function(e,i){var a=this.qs.exec(e),c=Number(a[1]);return lh.Vs(c,i)},t.prototype.js=function(e){return Rw.Vs(e)},t.prototype.ii=function(e){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(i){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(be("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},t.prototype.ei=function(e,i){var a=this,c=i?this.ks.insert(e,i):this.ks.remove(e),f=this.Gs(this.ks),p=this.Gs(c),m=[],b=[];return p.forEach(function(E){f.has(E)||m.push(E)}),f.forEach(function(E){p.has(E)||b.push(E)}),this.syncEngine.hi(m,b).then(function(){a.ks=c})},t.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var i=Lu();return e.forEach(function(a,c){i=i.unionWith(c.activeTargetIds)}),i},t}(),Ow=function(){function t(){this.li=new Zm,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,i,a){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,i,a){this.fi[e]=i},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new Zm,Promise.resolve()},t.prototype.handleUserChange=function(e,i,a){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),Pw=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),Fw=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,i=this.gi;e<i.length;e++)(0,i[e])(0)},t.prototype.yi=function(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,i=this.gi;e<i.length;e++)(0,i[e])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),c1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},OT=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),PT=function(t){function e(i){var a=this;return(a=t.call(this,i)||this).forceLongPolling=i.forceLongPolling,a.autoDetectLongPolling=i.autoDetectLongPolling,a.useFetchStreams=i.useFetchStreams,a}return(0,A.ZT)(e,t),e.prototype.ki=function(i,a,c,f){return new Promise(function(p,m){var b=new bm;b.listenOnce(vb.COMPLETE,function(){try{switch(b.getLastErrorCode()){case $f.NO_ERROR:var D=b.getResponseJson();be("Connection","XHR received:",JSON.stringify(D)),p(D);break;case $f.TIMEOUT:be("Connection",'RPC "'+i+'" timed out'),m(new ge(ee.DEADLINE_EXCEEDED,"Request time out"));break;case $f.HTTP_ERROR:var I=b.getStatus();if(be("Connection",'RPC "'+i+'" failed with status:',I,"response text:",b.getResponseText()),I>0){var M=b.getResponseJson().error;if(M&&M.status&&M.message){var O=(z=M.status.toLowerCase().replace(/_/g,"-"),Object.values(ee).indexOf(z)>=0?z:ee.UNKNOWN);m(new ge(O,M.message))}else m(new ge(ee.UNKNOWN,"Server responded with status "+b.getStatus()))}else m(new ge(ee.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{be("Connection",'RPC "'+i+'" completed.')}var z});var E=JSON.stringify(f);b.send(a,"POST",E,c,15)})},e.prototype.Oi=function(i,a){var c=[this.Di,"/","google.firestore.v1.Firestore","/",i,"/channel"],f=new Hf,p=Yg(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new _m({})),this.Fi(m.initMessageHeaders,a),(0,Dt.uI)()||(0,Dt.b$)()||(0,Dt.d)()||(0,Dt.w1)()||(0,Dt.Mn)()||(0,Dt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");var b=c.join("");be("Connection","Creating WebChannel: "+b,m);var E=f.createWebChannel(b,m),D=!1,I=!1,M=new OT({Ei:function(j){I?be("Connection","Not sending because WebChannel is closed:",j):(D||(be("Connection","Opening WebChannel transport."),E.open(),D=!0),be("Connection","WebChannel sending:",j),E.send(j))},Ti:function(){return E.close()}}),O=function(j,z,le){j.listen(z,function(me){try{le(me)}catch(De){setTimeout(function(){throw De},0)}})};return O(E,Mu.EventType.OPEN,function(){I||be("Connection","WebChannel transport opened.")}),O(E,Mu.EventType.CLOSE,function(){I||(I=!0,be("Connection","WebChannel transport closed"),M.Vi())}),O(E,Mu.EventType.ERROR,function(j){I||(I=!0,vl("Connection","WebChannel transport errored:",j),M.Vi(new ge(ee.UNAVAILABLE,"The operation could not be completed")))}),O(E,Mu.EventType.MESSAGE,function(j){var z;if(!I){var le=j.data[0];ze(!!le);var De=le.error||(null===(z=le[0])||void 0===z?void 0:z.error);if(De){be("Connection","WebChannel received error:",De);var Ie=De.status,Ke=function(ot){var Kn=jt[ot];if(void 0!==Kn)return Bb(Kn)}(Ie),Oe=De.message;void 0===Ke&&(Ke=ee.INTERNAL,Oe="Unknown error status: "+Ie+" with message "+De.message),I=!0,M.Vi(new ge(Ke,Oe)),E.close()}else be("Connection","WebChannel received:",le),M.Si(le)}}),O(p,_b.STAT_EVENT,function(j){j.stat===qf_PROXY?be("Connection","Detected buffering proxy"):j.stat===qf_NOPROXY&&be("Connection","Detected no buffering proxy")}),setTimeout(function(){M.Pi()},0),M},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Di=(e.ssl?"https":"http")+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,i,a,c){var f=this.xi(e,i);be("RestConnection","Sending: ",f,a);var p={};return this.Fi(p,c),this.ki(e,f,p,a).then(function(m){return be("RestConnection","Received: ",m),m},function(m){throw vl("RestConnection",e+" failed with error: ",m,"url: ",f,"request:",a),m})},t.prototype.$i=function(e,i,a,c){return this.Ni(e,i,a,c)},t.prototype.Fi=function(e,i){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i)for(var a in i.authHeaders)i.authHeaders.hasOwnProperty(a)&&(e[a]=i.authHeaders[a])},t.prototype.xi=function(e,i){return this.Di+"/v1/"+i+":"+c1[e]},t}());function ha(){return"undefined"!=typeof window?window:null}function ey(){return"undefined"!=typeof document?document:null}function Ju(t){return new Qb(t,!0)}var ty=function(){function t(e,i,a,c,f){void 0===a&&(a=1e3),void 0===c&&(c=1.5),void 0===f&&(f=6e4),this.Se=e,this.timerId=i,this.Mi=a,this.Li=c,this.Bi=f,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(e){var i=this;this.cancel();var a=Math.floor(this.qi+this.Wi()),c=Math.max(0,Date.now()-this.Ki),f=Math.max(0,a-c);f>0&&be("ExponentialBackoff","Backing off for "+f+" ms (base delay: "+this.qi+" ms, delay with jitter: "+a+" ms, last attempt: "+c+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,f,function(){return i.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),FT=function(){function t(e,i,a,c,f,p){this.Se=e,this.zi=a,this.Hi=c,this.Ji=f,this.listener=p,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ty(e,i)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ur(),this.stream.send(e)},t.prototype.rr=function(){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,i){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(a){switch(a.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():i&&i.code===ee.RESOURCE_EXHAUSTED?(vn(i.toString()),vn("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):i&&i.code===ee.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(i)];case 1:return a.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var e=this;this.state=1;var i=this.hr(this.Yi),a=this.Yi;this.Ji.getToken().then(function(c){e.Yi===a&&e.lr(c)},function(c){i(function(){var f=new ge(ee.UNKNOWN,"Fetching auth token failed: "+c.message);return e.dr(f)})})},t.prototype.lr=function(e){var i=this,a=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){a(function(){return i.state=2,i.listener.Ii()})}),this.stream.Ri(function(c){a(function(){return i.dr(c)})}),this.stream.onMessage(function(c){a(function(){return i.onMessage(c)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return(0,A.mG)(e,void 0,void 0,function(){return(0,A.Jh)(this,function(i){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return be("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var i=this;return function(a){i.Se.enqueueAndForget(function(){return i.Yi===e?a():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),kw=function(t){function e(i,a,c,f,p){var m=this;return(m=t.call(this,i,"listen_stream_connection_backoff","listen_stream_idle",a,c,p)||this).R=f,m}return(0,A.ZT)(e,t),e.prototype.wr=function(i){return this.Hi.Oi("Listen",i)},e.prototype.onMessage=function(i){this.Zi.reset();var a=function(f,p){var m,le;if("targetChange"in p){var b="NO_CHANGE"===(le=p.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===le?1:"REMOVE"===le?2:"CURRENT"===le?3:"RESET"===le?4:Fe(),E=p.targetChange.targetIds||[],D=function(le,me){return le.I?(ze(void 0===me||"string"==typeof me),rr.fromBase64String(me||"")):(ze(void 0===me||me instanceof Uint8Array),rr.fromUint8Array(me||new Uint8Array))}(f,p.targetChange.resumeToken),I=(M=p.targetChange.cause)&&function(le){var me=void 0===le.code?ee.UNKNOWN:Bb(le.code);return new ge(me,le.message||"")}(M);m=new Wb(b,E,D,I||null)}else if("documentChange"in p){E=Vi(f,(b=p.documentChange).document.name),D=ln(b.document.updateTime);var M=new mr({mapValue:{fields:b.document.fields}}),O=(I=On.newFoundDocument(E,D,M),b.targetIds||[]);m=new km(O,b.removedTargetIds||[],I.key,I)}else if("documentDelete"in p)E=Vi(f,(b=p.documentDelete).document),D=b.readTime?ln(b.readTime):ft.min(),M=On.newNoDocument(E,D),m=new km([],I=b.removedTargetIds||[],M.key,M);else if("documentRemove"in p)E=Vi(f,(b=p.documentRemove).document),m=new km([],D=b.removedTargetIds||[],E,null);else{if(!("filter"in p))return Fe();var z=p.filter;E=new JI(b=z.count||0),m=new qb(D=z.targetId,E)}return m}(this.R,i),c=function(f){if(!("targetChange"in f))return ft.min();var p=f.targetChange;return p.targetIds&&p.targetIds.length?ft.min():p.readTime?ln(p.readTime):ft.min()}(i);return this.listener._r(a,c)},e.prototype.mr=function(i){var f,p,m,b,a={};a.database=Fl(this.R),a.addTarget=(f=this.R,(m=Il(b=(p=i).target)?{documents:iw(f,b)}:{query:ow(f,b)}).targetId=p.targetId,p.resumeToken.approximateByteSize()>0?m.resumeToken=Yb(f,p.resumeToken):p.snapshotVersion.compareTo(ft.min())>0&&(m.readTime=Yo(f,p.snapshotVersion.toTimestamp())),m);var c=function(f,p){var m=function(b,E){switch(E){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Fe()}}(0,p.purpose);return null==m?null:{"goog-listen-tags":m}}(0,i);c&&(a.labels=c),this.cr(a)},e.prototype.yr=function(i){var a={};a.database=Fl(this.R),a.removeTarget=i,this.cr(a)},e}(FT),kT=function(t){function e(i,a,c,f,p){var m=this;return(m=t.call(this,i,"write_stream_connection_backoff","write_stream_idle",a,c,p)||this).R=f,m.gr=!1,m}return(0,A.ZT)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(i){return this.Hi.Oi("Write",i)},e.prototype.onMessage=function(i){if(ze(!!i.streamToken),this.lastStreamToken=i.streamToken,this.gr){this.Zi.reset();var a=(p=i.commitTime,(f=i.writeResults)&&f.length>0?(ze(void 0!==p),f.map(function(m){return E=p,(D=ln((b=m).updateTime?b.updateTime:E)).isEqual(ft.min())&&(D=ln(E)),new Rm(D,b.transformResults||[]);var b,E,D})):[]),c=ln(i.commitTime);return this.listener.Tr(c,a)}var f,p;return ze(!i.writeResults||0===i.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var i={};i.database=Fl(this.R),this.cr(i)},e.prototype.Er=function(i){var a=this,c={streamToken:this.lastStreamToken,writes:i.map(function(f){return nh(a.R,f)})};this.cr(c)},e}(FT),ny=function(t){function e(i,a,c){var f=this;return(f=t.call(this)||this).credentials=i,f.Hi=a,f.R=c,f.Rr=!1,f}return(0,A.ZT)(e,t),e.prototype.br=function(){if(this.Rr)throw new ge(ee.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(i,a,c){var f=this;return this.br(),this.credentials.getToken().then(function(p){return f.Hi.Ni(i,a,c,p)}).catch(function(p){throw"FirebaseError"===p.name?(p.code===ee.UNAUTHENTICATED&&f.credentials.invalidateToken(),p):new ge(ee.UNKNOWN,p.toString())})},e.prototype.$i=function(i,a,c){var f=this;return this.br(),this.credentials.getToken().then(function(p){return f.Hi.$i(i,a,c,p)}).catch(function(p){throw"FirebaseError"===p.name?(p.code===ee.UNAUTHENTICATED&&f.credentials.invalidateToken(),p):new ge(ee.UNKNOWN,p.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),LT=function(){function t(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var i="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(vn(i),this.Vr=!1):be("OnlineStateTracker",i)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),VT=function(t,e,i,a,c){var f=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=c,this.Lr.di(function(p){i.enqueueAndForget(function(){return(0,A.mG)(f,void 0,void 0,function(){return(0,A.Jh)(this,function(m){switch(m.label){case 0:return Zr(this)?(be("RemoteStore","Restarting streams for network reachability change."),[4,function(b){return(0,A.mG)(this,void 0,void 0,function(){var E;return(0,A.Jh)(this,function(D){switch(D.label){case 0:return(E=Te(b)).Or.add(4),[4,Zu(E)];case 1:return D.sent(),E.Br.set("Unknown"),E.Or.delete(4),[4,Gl(E)];case 2:return D.sent(),[2]}})})}(this)]):[3,2];case 1:m.sent(),m.label=2;case 2:return[2]}})})})}),this.Br=new LT(i,a)};function Gl(t){return(0,A.mG)(this,void 0,void 0,function(){var e,i;return(0,A.Jh)(this,function(a){switch(a.label){case 0:if(!Zr(t))return[3,4];e=0,i=t.Mr,a.label=1;case 1:return e<i.length?[4,(0,i[e])(!0)]:[3,4];case 2:a.sent(),a.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Zu(t){return(0,A.mG)(this,void 0,void 0,function(){var e,i;return(0,A.Jh)(this,function(a){switch(a.label){case 0:e=0,i=t.Mr,a.label=1;case 1:return e<i.length?[4,(0,i[e])(!1)]:[3,4];case 2:a.sent(),a.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function dh(t,e){var i=Te(t);i.$r.has(e.targetId)||(i.$r.set(e.targetId,e),oy(i)?iy(i):ec(i).er()&&ry(i,e))}function Hl(t,e){var i=Te(t),a=ec(i);i.$r.delete(e),a.er()&&Lw(i,e),0===i.$r.size&&(a.er()?a.ir():Zr(i)&&i.Br.set("Unknown"))}function ry(t,e){t.qr.U(e.targetId),ec(t).mr(e)}function Lw(t,e){t.qr.U(e),ec(t).yr(e)}function iy(t){t.qr=new Kb({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),ec(t).start(),t.Br.Sr()}function oy(t){return Zr(t)&&!ec(t).tr()&&t.$r.size>0}function Zr(t){return 0===Te(t).Or.size}function sy(t){t.qr=void 0}function Vw(t){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){return t.$r.forEach(function(i,a){ry(t,i)}),[2]})})}function Uw(t,e){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(i){return sy(t),oy(t)?(t.Br.Nr(e),iy(t)):t.Br.set("Unknown"),[2]})})}function jw(t,e,i){return(0,A.mG)(this,void 0,void 0,function(){var a,c,f;return(0,A.Jh)(this,function(p){switch(p.label){case 0:if(t.Br.set("Online"),!(e instanceof Wb&&2===e.state&&e.cause))return[3,6];p.label=1;case 1:return p.trys.push([1,3,,5]),[4,function(m,b){return(0,A.mG)(this,void 0,void 0,function(){var E,D,I,M;return(0,A.Jh)(this,function(O){switch(O.label){case 0:E=b.cause,D=0,I=b.targetIds,O.label=1;case 1:return D<I.length?m.$r.has(M=I[D])?[4,m.remoteSyncer.rejectListen(M,E)]:[3,3]:[3,5];case 2:O.sent(),m.$r.delete(M),m.qr.removeTarget(M),O.label=3;case 3:O.label=4;case 4:return D++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return p.sent(),[3,5];case 3:return a=p.sent(),be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),[4,$l(t,a)];case 4:return p.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof km?t.qr.X(e):e instanceof qb?t.qr.rt(e):t.qr.et(e),i.isEqual(ft.min()))return[3,13];p.label=7;case 7:return p.trys.push([7,11,,13]),[4,Sw(t.localStore)];case 8:return c=p.sent(),i.compareTo(c)>=0?[4,(m=t,b=i,E=m.qr.ut(b),E.targetChanges.forEach(function(D,I){if(D.resumeToken.approximateByteSize()>0){var M=m.$r.get(I);M&&m.$r.set(I,M.withResumeToken(D.resumeToken,b))}}),E.targetMismatches.forEach(function(D){var I=m.$r.get(D);if(I){m.$r.set(D,I.withResumeToken(rr.EMPTY_BYTE_STRING,I.snapshotVersion)),Lw(m,D);var M=new Hu(I.target,D,1,I.sequenceNumber);ry(m,M)}}),m.remoteSyncer.applyRemoteEvent(E))]:[3,10];case 9:p.sent(),p.label=10;case 10:return[3,13];case 11:return be("RemoteStore","Failed to raise snapshot:",f=p.sent()),[4,$l(t,f)];case 12:return p.sent(),[3,13];case 13:return[2]}var m,b,E})})}function $l(t,e,i){return(0,A.mG)(this,void 0,void 0,function(){var a=this;return(0,A.Jh)(this,function(c){switch(c.label){case 0:if(!Gu(e))throw e;return t.Or.add(1),[4,Zu(t)];case 1:return c.sent(),t.Br.set("Offline"),i||(i=function(){return Sw(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,A.mG)(a,void 0,void 0,function(){return(0,A.Jh)(this,function(f){switch(f.label){case 0:return be("RemoteStore","Retrying IndexedDB access"),[4,i()];case 1:return f.sent(),t.Or.delete(1),[4,Gl(t)];case 2:return f.sent(),[2]}})})}),[2]}})})}function Bw(t,e){return e().catch(function(i){return $l(t,i,e)})}function Xu(t){return(0,A.mG)(this,void 0,void 0,function(){var e,i,a,c,f;return(0,A.Jh)(this,function(p){switch(p.label){case 0:e=Te(t),i=Bi(e),a=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,p.label=1;case 1:if(!(Zr(m=e)&&m.kr.length<10))return[3,7];p.label=2;case 2:return p.trys.push([2,4,,6]),[4,TT(e.localStore,a)];case 3:return null===(c=p.sent())?(0===e.kr.length&&i.ir(),[3,7]):(a=c.batchId,function(m,b){m.kr.push(b);var E=Bi(m);E.er()&&E.pr&&E.Er(b.mutations)}(e,c),[3,6]);case 4:return f=p.sent(),[4,$l(e,f)];case 5:return p.sent(),[3,6];case 6:return[3,1];case 7:return Gw(e)&&Hw(e),[2]}var m})})}function Gw(t){return Zr(t)&&!Bi(t).tr()&&t.kr.length>0}function Hw(t){Bi(t).start()}function UT(t){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){return Bi(t).Ar(),[2]})})}function jT(t){return(0,A.mG)(this,void 0,void 0,function(){var e,i,a;return(0,A.Jh)(this,function(f){for(e=Bi(t),i=0,a=t.kr;i<a.length;i++)e.Er(a[i].mutations);return[2]})})}function BT(t,e,i){return(0,A.mG)(this,void 0,void 0,function(){var a,c;return(0,A.Jh)(this,function(f){switch(f.label){case 0:return a=t.kr.shift(),c=pw.from(a,e,i),[4,Bw(t,function(){return t.remoteSyncer.applySuccessfulWrite(c)})];case 1:return f.sent(),[4,Xu(t)];case 2:return f.sent(),[2]}})})}function ql(t,e){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(i){switch(i.label){case 0:return e&&Bi(t).pr?[4,function(a,c){return(0,A.mG)(this,void 0,void 0,function(){var f,p;return(0,A.Jh)(this,function(m){switch(m.label){case 0:return oa(p=c.code)&&p!==ee.ABORTED?(f=a.kr.shift(),Bi(a).sr(),[4,Bw(a,function(){return a.remoteSyncer.rejectFailedWrite(f.batchId,c)})]):[3,3];case 1:return m.sent(),[4,Xu(a)];case 2:m.sent(),m.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:i.sent(),i.label=2;case 2:return Gw(t)&&Hw(t),[2]}})})}function pa(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i;return(0,A.Jh)(this,function(a){switch(a.label){case 0:return i=Te(t),e?(i.Or.delete(2),[4,Gl(i)]):[3,2];case 1:return a.sent(),[3,5];case 2:return e?[3,4]:(i.Or.add(2),[4,Zu(i)]);case 3:a.sent(),i.Br.set("Unknown"),a.label=4;case 4:a.label=5;case 5:return[2]}})})}function ec(t){var i,a,c,f,e=this;return t.Ur||(t.Ur=(i=t.datastore,a=t.asyncQueue,c={Ii:Vw.bind(null,t),Ri:Uw.bind(null,t),_r:jw.bind(null,t)},(f=Te(i)).br(),new kw(a,f.Hi,f.credentials,f.R,c)),t.Mr.push(function(i){return(0,A.mG)(e,void 0,void 0,function(){return(0,A.Jh)(this,function(a){switch(a.label){case 0:return i?(t.Ur.sr(),oy(t)?iy(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:a.sent(),sy(t),a.label=3;case 3:return[2]}})})})),t.Ur}function Bi(t){var i,a,c,f,e=this;return t.Kr||(t.Kr=(i=t.datastore,a=t.asyncQueue,c={Ii:UT.bind(null,t),Ri:ql.bind(null,t),Ir:jT.bind(null,t),Tr:BT.bind(null,t)},(f=Te(i)).br(),new kT(a,f.Hi,f.credentials,f.R,c)),t.Mr.push(function(i){return(0,A.mG)(e,void 0,void 0,function(){return(0,A.Jh)(this,function(a){switch(a.label){case 0:return i?(t.Kr.sr(),[4,Xu(t)]):[3,2];case 1:return a.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:a.sent(),t.kr.length>0&&(be("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),a.label=4;case 4:return[2]}})})})),t.Kr}var Gi=function(){function t(e,i,a,c,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=c,this.removalCallback=f,this.deferred=new Ot,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(p){})}return t.createAndSchedule=function(e,i,a,c,f){var p=new t(e,i,Date.now()+a,c,f);return p.start(a),p},t.prototype.start=function(e){var i=this;this.timerHandle=setTimeout(function(){return i.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ge(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(i){return e.deferred.resolve(i)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function tc(t,e){if(vn("AsyncQueue",e+": "+t),Gu(t))return new ge(ee.UNAVAILABLE,e+": "+t);throw t}var Wl=function(){function t(e){this.comparator=e?function(i,a){return e(i,a)||Ve.comparator(i.key,a.key)}:function(i,a){return Ve.comparator(i.key,a.key)},this.keyedMap=Gb(),this.sortedSet=new ir(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return null!=this.keyedMap.get(e)},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(i,a){return e(i),!1})},t.prototype.add=function(e){var i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))},t.prototype.delete=function(e){var i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();i.hasNext();){var c=i.getNext().key,f=a.getNext().key;if(!c.isEqual(f))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(i){e.push(i.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},t.prototype.copy=function(e,i){var a=new t;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a},t}(),$w=function(){function t(){this.Qr=new ir(Ve.comparator)}return t.prototype.track=function(e){var i=e.doc.key,a=this.Qr.get(i);a?0!==e.type&&3===a.type?this.Qr=this.Qr.insert(i,e):3===e.type&&1!==a.type?this.Qr=this.Qr.insert(i,{type:a.type,doc:e.doc}):2===e.type&&2===a.type?this.Qr=this.Qr.insert(i,{type:2,doc:e.doc}):2===e.type&&0===a.type?this.Qr=this.Qr.insert(i,{type:0,doc:e.doc}):1===e.type&&0===a.type?this.Qr=this.Qr.remove(i):1===e.type&&2===a.type?this.Qr=this.Qr.insert(i,{type:1,doc:a.doc}):0===e.type&&1===a.type?this.Qr=this.Qr.insert(i,{type:2,doc:e.doc}):Fe():this.Qr=this.Qr.insert(i,e)},t.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(i,a){e.push(a)}),e},t}(),fh=function(){function t(e,i,a,c,f,p,m,b){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=c,this.mutatedKeys=f,this.fromCache=p,this.syncStateChanged=m,this.excludesMetadataChanges=b}return t.fromInitialDocuments=function(e,i,a,c){var f=[];return i.forEach(function(p){f.push({type:0,doc:p})}),new t(e,i,Wl.emptySet(i),f,a,c,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(var c=0;c<i.length;c++)if(i[c].type!==a[c].type||!i[c].doc.isEqual(a[c].doc))return!1;return!0},t}(),l1=function(){this.Wr=void 0,this.listeners=[]},ay=function(){this.queries=new qu(function(t){return xb(t)},Nl),this.onlineState="Unknown",this.Gr=new Set};function zl(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i,a,c,f,p,m,b;return(0,A.Jh)(this,function(E){switch(E.label){case 0:if(i=Te(t),c=!1,(f=i.queries.get(a=e.query))||(c=!0,f=new l1),!c)return[3,4];E.label=1;case 1:return E.trys.push([1,3,,4]),p=f,[4,i.onListen(a)];case 2:return p.Wr=E.sent(),[3,4];case 3:return m=E.sent(),b=tc(m,"Initialization of query '"+xl(e.query)+"' failed"),[2,void e.onError(b)];case 4:return i.queries.set(a,f),f.listeners.push(e),e.zr(i.onlineState),f.Wr&&e.Hr(f.Wr)&&ly(i),[2]}})})}function hh(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i,a,c,f,p;return(0,A.Jh)(this,function(m){return i=Te(t),c=!1,(f=i.queries.get(a=e.query))&&(p=f.listeners.indexOf(e))>=0&&(f.listeners.splice(p,1),c=0===f.listeners.length),c?[2,(i.queries.delete(a),i.onUnlisten(a))]:[2]})})}function uy(t,e){for(var i=Te(t),a=!1,c=0,f=e;c<f.length;c++){var p=f[c],b=i.queries.get(p.query);if(b){for(var E=0,D=b.listeners;E<D.length;E++)D[E].Hr(p)&&(a=!0);b.Wr=p}}a&&ly(i)}function cy(t,e,i){var a=Te(t),c=a.queries.get(e);if(c)for(var f=0,p=c.listeners;f<p.length;f++)p[f].onError(i);a.queries.delete(e)}function ly(t){t.Gr.forEach(function(e){e.next()})}var dy=function(){function t(e,i,a){this.query=e,this.Jr=i,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=a||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var i=[],a=0,c=e.docChanges;a<c.length;a++){var f=c[a];3!==f.type&&i.push(f)}e=new fh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var p=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),p=!0):this.eo(e,this.onlineState)&&(this.no(e),p=!0),this.Xr=e,p},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var i=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),i=!0),i},t.prototype.eo=function(e,i){return!e.fromCache||!(this.options.so&&"Offline"!==i||e.docs.isEmpty()&&"Offline"!==i)},t.prototype.Zr=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(e){e=fh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}(),GT=function(){function t(e,i){this.payload=e,this.byteLength=i}return t.prototype.io=function(){return"metadata"in this.payload},t}(),qw=function(){function t(e){this.R=e}return t.prototype.qn=function(e){return Vi(this.R,e)},t.prototype.Un=function(e){return e.metadata.exists?nw(this.R,e.document,!1):On.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},t.prototype.Kn=function(e){return ln(e)},t}();!function(){function t(e,i,a){this.ro=e,this.localStore=i,this.R=a,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(e)}t.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var i=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++i):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++i),i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null},t.prototype.co=function(e){for(var i=new Map,a=new qw(this.R),c=0,f=e;c<f.length;c++){var p=f[c];if(p.metadata.queries)for(var m=a.qn(p.metadata.name),b=0,E=p.metadata.queries;b<E.length;b++){var D=E[b],I=(i.get(D)||It()).add(m);i.set(D,I)}}return i},t.prototype.complete=function(){return(0,A.mG)(this,void 0,void 0,function(){var e,i,a,c,f;return(0,A.Jh)(this,function(p){switch(p.label){case 0:return[4,u1(this.localStore,new qw(this.R),this.documents,this.ro.id)];case 1:e=p.sent(),i=this.co(this.documents),a=0,c=this.queries,p.label=2;case 2:return a<c.length?[4,zm(this.localStore,f=c[a],i.get(f.name))]:[3,5];case 3:p.sent(),p.label=4;case 4:return a++,[3,2];case 5:return[2,(this.progress.taskState="Success",new ET(Object.assign({},this.progress),e))]}})})}}();var fy=function(t){this.key=t},zw=function(t){this.key=t},hy=function(){function t(e,i){this.query=e,this.uo=i,this.ao=null,this.current=!1,this.ho=It(),this.mutatedKeys=It(),this.lo=Nm(e),this.fo=new Wl(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(e,i){var a=this,c=i?i.mo:new $w,f=i?i.fo:this.fo,p=i?i.mutatedKeys:this.mutatedKeys,m=f,b=!1,E=Yf(this.query)&&f.size===this.query.limit?f.last():null,D=Al(this.query)&&f.size===this.query.limit?f.first():null;if(e.inorderTraversal(function(M,O){var j=f.get(M),z=Rl(a.query,O)?O:null,le=!!j&&a.mutatedKeys.has(j.key),me=!!z&&(z.hasLocalMutations||a.mutatedKeys.has(z.key)&&z.hasCommittedMutations),De=!1;j&&z?j.data.isEqual(z.data)?le!==me&&(c.track({type:3,doc:z}),De=!0):a.yo(j,z)||(c.track({type:2,doc:z}),De=!0,(E&&a.lo(z,E)>0||D&&a.lo(z,D)<0)&&(b=!0)):!j&&z?(c.track({type:0,doc:z}),De=!0):j&&!z&&(c.track({type:1,doc:j}),De=!0,(E||D)&&(b=!0)),De&&(z?(m=m.add(z),p=me?p.add(M):p.delete(M)):(m=m.delete(M),p=p.delete(M)))}),Yf(this.query)||Al(this.query))for(;m.size>this.query.limit;){var I=Yf(this.query)?m.last():m.first();m=m.delete(I.key),p=p.delete(I.key),c.track({type:1,doc:I})}return{fo:m,mo:c,Nn:b,mutatedKeys:p}},t.prototype.yo=function(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations},t.prototype.applyChanges=function(e,i,a){var c=this,f=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var p=e.mo.jr();p.sort(function(D,I){return O=I.type,(j=function(z){switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}})(D.type)-j(O)||c.lo(D.doc,I.doc);var O,j}),this.po(a);var m=i?this.Eo():[],b=0===this.ho.size&&this.current?1:0,E=b!==this.ao;return this.ao=b,0!==p.length||E?{snapshot:new fh(this.query,e.fo,f,p,e.mutatedKeys,0===b,E,!1),To:m}:{To:m}},t.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new $w,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var i=this;e&&(e.addedDocuments.forEach(function(a){return i.uo=i.uo.add(a)}),e.modifiedDocuments.forEach(function(a){}),e.removedDocuments.forEach(function(a){return i.uo=i.uo.delete(a)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var i=this.ho;this.ho=It(),this.fo.forEach(function(c){e.Io(c.key)&&(e.ho=e.ho.add(c.key))});var a=[];return i.forEach(function(c){e.ho.has(c)||a.push(new zw(c))}),this.ho.forEach(function(c){i.has(c)||a.push(new fy(c))}),a},t.prototype.Ao=function(e){this.uo=e.Bn,this.ho=It();var i=this._o(e.documents);return this.applyChanges(i,!0)},t.prototype.Ro=function(){return fh.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Kw=function(t,e,i){this.query=t,this.targetId=e,this.view=i},HT=function(t){this.key=t,this.bo=!1},Qw=function(){function t(e,i,a,c,f,p){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=c,this.currentUser=f,this.maxConcurrentLimboResolutions=p,this.vo={},this.Po=new qu(function(m){return xb(m)},Nl),this.Vo=new Map,this.So=new Set,this.Do=new ir(Ve.comparator),this.Co=new Map,this.No=new Km,this.xo={},this.Fo=new Map,this.ko=sh.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Yw(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i,c,f,p,m;return(0,A.Jh)(this,function(b){switch(b.label){case 0:return i=Kl(t),(f=i.Po.get(e))?(i.sharedClientState.addLocalQueryTarget(f.targetId),c=f.view.Ro(),[3,4]):[3,1];case 1:return[4,Qu(i.localStore,xr(e))];case 2:return p=b.sent(),m=i.sharedClientState.addLocalQueryTarget(p.targetId),[4,py(i,e,p.targetId,"current"===m)];case 3:c=b.sent(),i.isPrimaryClient&&dh(i.remoteStore,p),b.label=4;case 4:return[2,c]}})})}function py(t,e,i,a){return(0,A.mG)(this,void 0,void 0,function(){var c,f,p,m,b,E;return(0,A.Jh)(this,function(D){switch(D.label){case 0:return t.Oo=function(I,M,O){return function(j,z,le,me){return(0,A.mG)(this,void 0,void 0,function(){var De,Ie,Ke;return(0,A.Jh)(this,function(Oe){switch(Oe.label){case 0:return(De=z.view._o(le)).Nn?[4,ch(j.localStore,z.query,!1).then(function(ot){return z.view._o(ot.documents,De)})]:[3,2];case 1:De=Oe.sent(),Oe.label=2;case 2:return Ie=me&&me.targetChanges.get(z.targetId),Ke=z.view.applyChanges(De,j.isPrimaryClient,Ie),[2,(gh(j,z.targetId,Ke.To),Ke.snapshot)]}})})}(t,I,M,O)},[4,ch(t.localStore,e,!0)];case 1:return c=D.sent(),f=new hy(e,c.Bn),p=f._o(c.documents),m=Fm.createSynthesizedTargetChangeForCurrentChange(i,a&&"Offline"!==t.onlineState),b=f.applyChanges(p,t.isPrimaryClient,m),gh(t,i,b.To),E=new Kw(e,i,f),[2,(t.Po.set(e,E),t.Vo.has(i)?t.Vo.get(i).push(e):t.Vo.set(i,[e]),b.snapshot)]}})})}function Jw(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i,a,c;return(0,A.Jh)(this,function(f){switch(f.label){case 0:return i=Te(t),a=i.Po.get(e),(c=i.Vo.get(a.targetId)).length>1?[2,(i.Vo.set(a.targetId,c.filter(function(p){return!Nl(p,e)})),void i.Po.delete(e))]:i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)?[3,2]:[4,fa(i.localStore,a.targetId,!1).then(function(){i.sharedClientState.clearQueryState(a.targetId),Hl(i.remoteStore,a.targetId),es(i,a.targetId)}).catch(da)]):[3,3];case 1:f.sent(),f.label=2;case 2:return[3,5];case 3:return es(i,a.targetId),[4,fa(i.localStore,a.targetId,!0)];case 4:f.sent(),f.label=5;case 5:return[2]}})})}function Zw(t,e,i){return(0,A.mG)(this,void 0,void 0,function(){var a,c,f,p;return(0,A.Jh)(this,function(m){switch(m.label){case 0:a=Ql(t),m.label=1;case 1:return m.trys.push([1,5,,6]),[4,(b=a.localStore,E=e,I=Te(b),M=gr.now(),O=E.reduce(function(j,z){return j.add(z.key)},It()),I.persistence.runTransaction("Locally write mutations","readwrite",function(j){return I.Mn.pn(j,O).next(function(z){D=z;for(var le=[],me=0,De=E;me<De.length;me++){var Ie=De[me],Ke=QI(Ie,D.get(Ie.key));null!=Ke&&le.push(new fo(Ie.key,Ke,Tb(Ke.value.mapValue),Pn.exists(!0)))}return I._n.addMutationBatch(j,M,le,E)})}).then(function(j){return j.applyToLocalDocumentSet(D),{batchId:j.batchId,changes:D}}))];case 2:return c=m.sent(),a.sharedClientState.addPendingMutation(c.batchId),function(b,E,D){var I=b.xo[b.currentUser.toKey()];I||(I=new ir(mt)),I=I.insert(E,D),b.xo[b.currentUser.toKey()]=I}(a,c.batchId,i),[4,wi(a,c.changes)];case 3:return m.sent(),[4,Xu(a.remoteStore)];case 4:return m.sent(),[3,6];case 5:return f=m.sent(),p=tc(f,"Failed to persist write"),i.reject(p),[3,6];case 6:return[2]}var b,E,D,I,M,O})})}function $T(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i,a;return(0,A.Jh)(this,function(c){switch(c.label){case 0:i=Te(t),c.label=1;case 1:return c.trys.push([1,4,,6]),[4,IT(i.localStore,e)];case 2:return a=c.sent(),e.targetChanges.forEach(function(f,p){var m=i.Co.get(p);m&&(ze(f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size<=1),f.addedDocuments.size>0?m.bo=!0:f.modifiedDocuments.size>0?ze(m.bo):f.removedDocuments.size>0&&(ze(m.bo),m.bo=!1))}),[4,wi(i,a,e)];case 3:return c.sent(),[3,6];case 4:return[4,da(c.sent())];case 5:return c.sent(),[3,6];case 6:return[2]}})})}function Wn(t,e,i){var a=Te(t);if(a.isPrimaryClient&&0===i||!a.isPrimaryClient&&1===i){var c=[];a.Po.forEach(function(f,p){var m=p.view.zr(e);m.snapshot&&c.push(m.snapshot)}),function(f,p){var m=Te(f);m.onlineState=p;var b=!1;m.queries.forEach(function(E,D){for(var I=0,M=D.listeners;I<M.length;I++)M[I].zr(p)&&(b=!0)}),b&&ly(m)}(a.eventManager,e),c.length&&a.vo._r(c),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function nc(t,e,i){return(0,A.mG)(this,void 0,void 0,function(){var a,c,f,p,m,b;return(0,A.Jh)(this,function(E){switch(E.label){case 0:return(a=Te(t)).sharedClientState.updateQueryState(e,"rejected",i),c=a.Co.get(e),(f=c&&c.key)?(p=(p=new ir(Ve.comparator)).insert(f,On.newNoDocument(f,ft.min())),m=It().add(f),b=new th(ft.min(),new Map,new _n(mt),p,m),[4,$T(a,b)]):[3,2];case 1:return E.sent(),a.Do=a.Do.remove(f),a.Co.delete(e),my(a),[3,4];case 2:return[4,fa(a.localStore,e,!1).then(function(){return es(a,e,i)}).catch(da)];case 3:E.sent(),E.label=4;case 4:return[2]}})})}function qT(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i,a,c;return(0,A.Jh)(this,function(f){switch(f.label){case 0:i=Te(t),a=e.batch.batchId,f.label=1;case 1:return f.trys.push([1,4,,6]),[4,Tw(i.localStore,e)];case 2:return c=f.sent(),gy(i,a,null),ga(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),[4,wi(i,c)];case 3:return f.sent(),[3,6];case 4:return[4,da(f.sent())];case 5:return f.sent(),[3,6];case 6:return[2]}})})}function WT(t,e,i){return(0,A.mG)(this,void 0,void 0,function(){var a,c;return(0,A.Jh)(this,function(f){switch(f.label){case 0:a=Te(t),f.label=1;case 1:return f.trys.push([1,4,,6]),[4,(p=a.localStore,m=e,b=Te(p),b.persistence.runTransaction("Reject batch","readwrite-primary",function(E){var D;return b._n.lookupMutationBatch(E,m).next(function(I){return ze(null!==I),D=I.keys(),b._n.removeMutationBatch(E,I)}).next(function(){return b._n.performConsistencyCheck(E)}).next(function(){return b.Mn.pn(E,D)})}))];case 2:return c=f.sent(),gy(a,e,i),ga(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),[4,wi(a,c)];case 3:return f.sent(),[3,6];case 4:return[4,da(f.sent())];case 5:return f.sent(),[3,6];case 6:return[2]}var p,m,b})})}function d1(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i,a,c,f,p;return(0,A.Jh)(this,function(m){switch(m.label){case 0:Zr((i=Te(t)).remoteStore)||be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),m.label=1;case 1:return m.trys.push([1,3,,4]),[4,(b=i.localStore,E=Te(b),E.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(D){return E._n.getHighestUnacknowledgedBatchId(D)}))];case 2:return-1===(a=m.sent())?[2,void e.resolve()]:((c=i.Fo.get(a)||[]).push(e),i.Fo.set(a,c),[3,4]);case 3:return f=m.sent(),p=tc(f,"Initialization of waitForPendingWrites() operation failed"),e.reject(p),[3,4];case 4:return[2]}var b,E})})}function ga(t,e){(t.Fo.get(e)||[]).forEach(function(i){i.resolve()}),t.Fo.delete(e)}function gy(t,e,i){var a=Te(t),c=a.xo[a.currentUser.toKey()];if(c){var f=c.get(e);f&&(i?f.reject(i):f.resolve(),c=c.remove(e)),a.xo[a.currentUser.toKey()]=c}}function es(t,e,i){void 0===i&&(i=null),t.sharedClientState.removeLocalQueryTarget(e);for(var a=0,c=t.Vo.get(e);a<c.length;a++){var f=c[a];t.Po.delete(f),i&&t.vo.Mo(f,i)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(p){t.No.containsKey(p)||Xw(t,p)})}function Xw(t,e){t.So.delete(e.path.canonicalString());var i=t.Do.get(e);null!==i&&(Hl(t.remoteStore,i),t.Do=t.Do.remove(e),t.Co.delete(i),my(t))}function gh(t,e,i){for(var a=0,c=i;a<c.length;a++){var f=c[a];f instanceof fy?(t.No.addReference(f.key,e),zT(t,f)):f instanceof zw?(be("SyncEngine","Document no longer in limbo: "+f.key),t.No.removeReference(f.key,e),t.No.containsKey(f.key)||Xw(t,f.key)):Fe()}}function zT(t,e){var i=e.key,a=i.path.canonicalString();t.Do.get(i)||t.So.has(a)||(be("SyncEngine","New document in limbo: "+i),t.So.add(a),my(t))}function my(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var i=new Ve(Be.fromString(e)),a=t.ko.next();t.Co.set(a,new HT(i)),t.Do=t.Do.insert(i,a),dh(t.remoteStore,new Hu(xr(Xs(i.path)),a,2,pr.o))}}function wi(t,e,i){return(0,A.mG)(this,void 0,void 0,function(){var a,c,f,p;return(0,A.Jh)(this,function(m){switch(m.label){case 0:return a=Te(t),c=[],f=[],p=[],a.Po.isEmpty()?[3,3]:(a.Po.forEach(function(b,E){p.push(a.Oo(E,e,i).then(function(D){if(D){a.isPrimaryClient&&a.sharedClientState.updateQueryState(E.targetId,D.fromCache?"not-current":"current"),c.push(D);var I=CT.Pn(E.targetId,D);f.push(I)}}))}),[4,Promise.all(p)]);case 1:return m.sent(),a.vo._r(c),[4,function(b,E){return(0,A.mG)(this,void 0,void 0,function(){var D,I,M,O,j,z,le,De;return(0,A.Jh)(this,function(Ie){switch(Ie.label){case 0:D=Te(b),Ie.label=1;case 1:return Ie.trys.push([1,3,,4]),[4,D.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(Ke){return ve.forEach(E,function(Oe){return ve.forEach(Oe.bn,function(ot){return D.persistence.referenceDelegate.addReference(Ke,Oe.targetId,ot)}).next(function(){return ve.forEach(Oe.vn,function(ot){return D.persistence.referenceDelegate.removeReference(Ke,Oe.targetId,ot)})})})})];case 2:return Ie.sent(),[3,4];case 3:if(!Gu(I=Ie.sent()))throw I;return be("LocalStore","Failed to update sequence numbers: "+I),[3,4];case 4:for(M=0,O=E;M<O.length;M++)z=(j=O[M]).targetId,j.fromCache||(le=D.Fn.get(z),De=le.withLastLimboFreeSnapshotVersion(le.snapshotVersion),D.Fn=D.Fn.insert(z,De));return[2]}})})}(a.localStore,f)];case 2:m.sent(),m.label=3;case 3:return[2]}})})}function eE(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i,a;return(0,A.Jh)(this,function(c){switch(c.label){case 0:return(i=Te(t)).currentUser.isEqual(e)?[3,3]:(be("SyncEngine","User change. New user:",e.toKey()),[4,DT(i.localStore,e)]);case 1:return a=c.sent(),i.currentUser=e,(f=i).Fo.forEach(function(m){m.forEach(function(b){b.reject(new ge(ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.Fo.clear(),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),[4,wi(i,a.Ln)];case 2:c.sent(),c.label=3;case 3:return[2]}var f})})}function tE(t,e){var i=Te(t),a=i.Co.get(e);if(a&&a.bo)return It().add(a.key);var c=It(),f=i.Vo.get(e);if(!f)return c;for(var p=0,m=f;p<m.length;p++){var E=i.Po.get(m[p]);c=c.unionWith(E.view.wo)}return c}function mh(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i,a,c;return(0,A.Jh)(this,function(f){switch(f.label){case 0:return[4,ch((i=Te(t)).localStore,e.query,!0)];case 1:return a=f.sent(),c=e.view.Ao(a),[2,(i.isPrimaryClient&&gh(i,e.targetId,c.To),c)]}})})}function yy(t){return(0,A.mG)(this,void 0,void 0,function(){var e;return(0,A.Jh)(this,function(i){return[2,ST((e=Te(t)).localStore).then(function(a){return wi(e,a)})]})})}function f1(t,e,i,a){return(0,A.mG)(this,void 0,void 0,function(){var c,f;return(0,A.Jh)(this,function(p){switch(p.label){case 0:return[4,(m=(c=Te(t)).localStore,b=e,E=Te(m),D=Te(E._n),E.persistence.runTransaction("Lookup mutation documents","readonly",function(I){return D.jt(I,b).next(function(M){return M?E.Mn.pn(I,M):ve.resolve(null)})}))];case 1:return null===(f=p.sent())?[3,6]:"pending"!==i?[3,3]:[4,Xu(c.remoteStore)];case 2:return p.sent(),[3,4];case 3:"acknowledged"===i||"rejected"===i?(gy(c,e,a||null),ga(c,e),function(m,b){Te(Te(m)._n).Gt(b)}(c.localStore,e)):Fe(),p.label=4;case 4:return[4,wi(c,f)];case 5:return p.sent(),[3,7];case 6:be("SyncEngine","Cannot apply mutation batch with id: "+e),p.label=7;case 7:return[2]}var m,b,E,D})})}function nE(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i,a,c,f,p,b,E;return(0,A.Jh)(this,function(D){switch(D.label){case 0:return Kl(i=Te(t)),Ql(i),!0!==e||!0===i.$o?[3,3]:(a=i.sharedClientState.getAllActiveQueryTargets(),[4,rE(i,a.toArray())]);case 1:return c=D.sent(),i.$o=!0,[4,pa(i.remoteStore,!0)];case 2:for(D.sent(),f=0,p=c;f<p.length;f++)dh(i.remoteStore,p[f]);return[3,7];case 3:return!1!==e||!1===i.$o?[3,7]:(b=[],E=Promise.resolve(),i.Vo.forEach(function(I,M){i.sharedClientState.isLocalQueryTarget(M)?b.push(M):E=E.then(function(){return es(i,M),fa(i.localStore,M,!0)}),Hl(i.remoteStore,M)}),[4,E]);case 4:return D.sent(),[4,rE(i,b)];case 5:return D.sent(),(M=Te(i)).Co.forEach(function(O,j){Hl(M.remoteStore,j)}),M.No.ts(),M.Co=new Map,M.Do=new ir(Ve.comparator),i.$o=!1,[4,pa(i.remoteStore,!1)];case 6:D.sent(),D.label=7;case 7:return[2]}var M})})}function rE(t,e,i){return(0,A.mG)(this,void 0,void 0,function(){var a,c,f,p,m,b,E,D,I,M,j,z,le;return(0,A.Jh)(this,function(me){switch(me.label){case 0:a=Te(t),c=[],f=[],p=0,m=e,me.label=1;case 1:return p<m.length?(E=void 0,(D=a.Vo.get(b=m[p]))&&0!==D.length?[4,Qu(a.localStore,xr(D[0]))]:[3,7]):[3,13];case 2:E=me.sent(),I=0,M=D,me.label=3;case 3:return I<M.length?(j=a.Po.get(M[I]),[4,mh(a,j)]):[3,6];case 4:(z=me.sent()).snapshot&&f.push(z.snapshot),me.label=5;case 5:return I++,[3,3];case 6:return[3,11];case 7:return[4,Mw(a.localStore,b)];case 8:return le=me.sent(),[4,Qu(a.localStore,le)];case 9:return E=me.sent(),[4,py(a,vy(le),b,!1)];case 10:me.sent(),me.label=11;case 11:c.push(E),me.label=12;case 12:return p++,[3,1];case 13:return[2,(a.vo._r(f),c)]}})})}function vy(t){return Mb(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function yh(t){var e=Te(t);return Te(Te(e.localStore).persistence).fn()}function iE(t,e,i,a){return(0,A.mG)(this,void 0,void 0,function(){var c,f,p;return(0,A.Jh)(this,function(m){switch(m.label){case 0:return(c=Te(t)).$o?(be("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!c.Vo.has(e))return[3,8];switch(i){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ST(c.localStore)];case 3:return f=m.sent(),p=th.createSynthesizedRemoteEventForCurrentChange(e,"current"===i),[4,wi(c,f,p)];case 4:return m.sent(),[3,8];case 5:return[4,fa(c.localStore,e,!0)];case 6:return m.sent(),es(c,e,a),[3,8];case 7:Fe(),m.label=8;case 8:return[2]}})})}function KT(t,e,i){return(0,A.mG)(this,void 0,void 0,function(){var a,c,f,p,m,b,E,D,I;return(0,A.Jh)(this,function(O){switch(O.label){case 0:if(!(a=Kl(t)).$o)return[3,10];c=0,f=e,O.label=1;case 1:return c<f.length?a.Vo.has(p=f[c])?(be("SyncEngine","Adding an already active target "+p),[3,5]):[4,Mw(a.localStore,p)]:[3,6];case 2:return m=O.sent(),[4,Qu(a.localStore,m)];case 3:return b=O.sent(),[4,py(a,vy(m),b.targetId,!1)];case 4:O.sent(),dh(a.remoteStore,b),O.label=5;case 5:return c++,[3,1];case 6:E=function(j){return(0,A.Jh)(this,function(z){switch(z.label){case 0:return a.Vo.has(j)?[4,fa(a.localStore,j,!1).then(function(){Hl(a.remoteStore,j),es(a,j)}).catch(da)]:[3,2];case 1:z.sent(),z.label=2;case 2:return[2]}})},D=0,I=i,O.label=7;case 7:return D<I.length?[5,E(I[D])]:[3,10];case 8:O.sent(),O.label=9;case 9:return D++,[3,7];case 10:return[2]}})})}function Kl(t){var e=Te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$T.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nc.bind(null,e),e.vo._r=uy.bind(null,e.eventManager),e.vo.Mo=cy.bind(null,e.eventManager),e}function Ql(t){var e=Te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WT.bind(null,e),e}var oE=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(i){switch(i.label){case 0:return this.R=Ju(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return i.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Ko=function(e){return Ku(this.persistence,new Dw,e.initialUser,this.R)},t.prototype.qo=function(e){return new Qm(Yu.bs,this.R)},t.prototype.Bo=function(e){return new Ow},t.prototype.terminate=function(){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),_y=function(t){function e(i,a,c){var f=this;return(f=t.call(this)||this).Qo=i,f.cacheSizeBytes=a,f.forceOwnership=c,f.synchronizeTabs=!1,f}return(0,A.ZT)(e,t),e.prototype.initialize=function(i){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(a){switch(a.label){case 0:return[4,t.prototype.initialize.call(this,i)];case 1:return a.sent(),[4,a1(this.localStore)];case 2:return a.sent(),[4,this.Qo.initialize(this,i)];case 3:return a.sent(),[4,Ql(this.Qo.syncEngine)];case 4:return a.sent(),[4,Xu(this.Qo.remoteStore)];case 5:return a.sent(),[2]}})})},e.prototype.Ko=function(i){return Ku(this.persistence,new Dw,i.initialUser,this.R)},e.prototype.Uo=function(i){return new gT(this.persistence.referenceDelegate.garbageCollector,i.asyncQueue)},e.prototype.qo=function(i){var a=Wm(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey),c=void 0!==this.cacheSizeBytes?Qr.withCacheSize(this.cacheSizeBytes):Qr.DEFAULT;return new wT(this.synchronizeTabs,a,i.clientId,c,i.asyncQueue,ha(),ey(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(i){return new Ow},e}(oE),sE=function(t){function e(i,a){var c=this;return(c=t.call(this,i,a,!1)||this).Qo=i,c.cacheSizeBytes=a,c.synchronizeTabs=!0,c}return(0,A.ZT)(e,t),e.prototype.initialize=function(i){return(0,A.mG)(this,void 0,void 0,function(){var a,c=this;return(0,A.Jh)(this,function(f){switch(f.label){case 0:return[4,t.prototype.initialize.call(this,i)];case 1:return f.sent(),a=this.Qo.syncEngine,this.sharedClientState instanceof Xm?(this.sharedClientState.syncEngine={ui:f1.bind(null,a),ai:iE.bind(null,a),hi:KT.bind(null,a),fn:yh.bind(null,a),ci:yy.bind(null,a)},[4,this.sharedClientState.start()]):[3,3];case 2:f.sent(),f.label=3;case 3:return[4,this.persistence.He(function(p){return(0,A.mG)(c,void 0,void 0,function(){return(0,A.Jh)(this,function(m){switch(m.label){case 0:return[4,nE(this.Qo.syncEngine,p)];case 1:return m.sent(),this.gcScheduler&&(p&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):p||this.gcScheduler.stop()),[2]}})})})];case 4:return f.sent(),[2]}})})},e.prototype.Bo=function(i){var a=ha();if(!Xm.yt(a))throw new ge(ee.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var c=Wm(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey);return new Xm(a,i.asyncQueue,c,i.clientId,i.initialUser)},e}(_y),vh=function(){function t(){}return t.prototype.initialize=function(e,i){return(0,A.mG)(this,void 0,void 0,function(){var a=this;return(0,A.Jh)(this,function(c){switch(c.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(f){return Wn(a.syncEngine,f,1)},this.remoteStore.remoteSyncer.handleCredentialChange=eE.bind(null,this.syncEngine),[4,pa(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:c.sent(),c.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new ay},t.prototype.createDatastore=function(e){var a=Ju(e.databaseInfo.databaseId),c=new PT(e.databaseInfo);return new ny(e.credentials,c,a)},t.prototype.createRemoteStore=function(e){var i,a,c,f,p,m=this;return i=this.localStore,a=this.datastore,c=e.asyncQueue,f=function(b){return Wn(m.syncEngine,b,0)},p=Fw.yt()?new Fw:new Pw,new VT(i,a,c,f,p)},t.prototype.createSyncEngine=function(e,i){return E=i,D=new Qw(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions),E&&(D.$o=!0),D;var E,D},t.prototype.terminate=function(){return function(e){return(0,A.mG)(this,void 0,void 0,function(){var i;return(0,A.Jh)(this,function(a){switch(a.label){case 0:return i=Te(e),be("RemoteStore","RemoteStore shutting down."),i.Or.add(5),[4,Zu(i)];case 1:return a.sent(),i.Lr.shutdown(),i.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Yl=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,i){var a=this;this.muted||setTimeout(function(){a.muted||e(i)},0)},t}(),YT=(function(){function t(e,i){var a=this;this.Go=e,this.R=i,this.metadata=new Ot,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(c){c&&c.io()?a.metadata.resolve(c.payload.metadata):a.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==c?void 0:c.payload)))},function(c){return a.metadata.reject(c)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,A.mG)(this,void 0,void 0,function(){var e,i,a,c;return(0,A.Jh)(this,function(f){switch(f.label){case 0:return[4,this.Jo()];case 1:return null===(e=f.sent())?[2,null]:(i=this.zo.decode(e),a=Number(i),isNaN(a)&&this.Yo("length string ("+i+") is not valid number"),[4,this.Xo(a)]);case 2:return c=f.sent(),[2,new GT(JSON.parse(c),e.length+a)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,A.mG)(this,void 0,void 0,function(){var e,i;return(0,A.Jh)(this,function(a){switch(a.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(a.sent())return[3,3];a.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),i=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),i)])}})})},t.prototype.Xo=function(e){return(0,A.mG)(this,void 0,void 0,function(){var i;return(0,A.Jh)(this,function(a){switch(a.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:a.sent()&&this.Yo("Reached the end of bundle when more is expected."),a.label=2;case 2:return[3,0];case 3:return i=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),i)]}})})},t.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},t.prototype.tc=function(){return(0,A.mG)(this,void 0,void 0,function(){var e,i;return(0,A.Jh)(this,function(a){switch(a.label){case 0:return[4,this.Go.read()];case 1:return(e=a.sent()).done||((i=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),i.set(e.value,this.buffer.length),this.buffer=i),[2,e.done]}})})}}(),function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return(0,A.mG)(this,void 0,void 0,function(){var i,a=this;return(0,A.Jh)(this,function(c){switch(c.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ge(ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(f,p){return(0,A.mG)(this,void 0,void 0,function(){var m,b,E,D,I,M;return(0,A.Jh)(this,function(O){switch(O.label){case 0:return m=Te(f),b=Fl(m.R)+"/documents",E={documents:p.map(function(j){return Pl(m.R,j)})},[4,m.$i("BatchGetDocuments",b,E)];case 1:return D=O.sent(),I=new Map,D.forEach(function(j){var le,me,z=(le=m.R,"found"in(me=j)?function(De,Ie){ze(!!Ie.found);var Ke=Vi(De,Ie.found.name),Oe=ln(Ie.found.updateTime),ot=new mr({mapValue:{fields:Ie.found.fields}});return On.newFoundDocument(Ke,Oe,ot)}(le,me):"missing"in me?function(De,Ie){ze(!!Ie.missing),ze(!!Ie.readTime);var Ke=Vi(De,Ie.missing),Oe=ln(Ie.readTime);return On.newNoDocument(Ke,Oe)}(le,me):Fe());I.set(z.key.toString(),z)}),M=[],[2,(p.forEach(function(j){var z=I.get(j.toString());ze(!!z),M.push(z)}),M)]}})})}(this.datastore,e)];case 1:return[2,((i=c.sent()).forEach(function(f){return a.recordVersion(f)}),i)]}})})},t.prototype.set=function(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new ia(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return(0,A.mG)(this,void 0,void 0,function(){var e,i=this;return(0,A.Jh)(this,function(a){switch(a.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(c){e.delete(c.key.toString())}),e.forEach(function(c,f){var p=Ve.fromPath(f);i.mutations.push(new ku(p,i.precondition(p)))}),[4,function(c,f){return(0,A.mG)(this,void 0,void 0,function(){var p,m,b;return(0,A.Jh)(this,function(E){switch(E.label){case 0:return p=Te(c),m=Fl(p.R)+"/documents",b={writes:f.map(function(D){return nh(p.R,D)})},[4,p.Ni("Commit",m,b)];case 1:return E.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return a.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw Fe();i=ft.min()}var a=this.readVersions.get(e.key.toString());if(a){if(!i.isEqual(a))throw new ge(ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)},t.prototype.precondition=function(e){var i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?Pn.updateTime(i):Pn.none()},t.prototype.preconditionForUpdate=function(e){var i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(ft.min()))throw new ge(ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pn.updateTime(i)}return Pn.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}()),JT=function(){function t(e,i,a,c){this.asyncQueue=e,this.datastore=i,this.updateFunction=a,this.deferred=c,this.ec=5,this.Zi=new ty(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return(0,A.mG)(e,void 0,void 0,function(){var i,a,c=this;return(0,A.Jh)(this,function(f){return i=new YT(this.datastore),(a=this.sc(i))&&a.then(function(p){c.asyncQueue.enqueueAndForget(function(){return i.commit().then(function(){c.deferred.resolve(p)}).catch(function(m){c.ic(m)})})}).catch(function(p){c.ic(p)}),[2]})})})},t.prototype.sc=function(e){try{var i=this.updateFunction(e);return!mi(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(a){return this.deferred.reject(a),null}},t.prototype.ic=function(e){var i=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return i.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if("FirebaseError"===e.name){var i=e.code;return"aborted"===i||"failed-precondition"===i||!oa(i)}return!1},t}(),cE=function(){function t(e,i,a){var c=this;this.credentials=e,this.asyncQueue=i,this.databaseInfo=a,this.user=Nt.UNAUTHENTICATED,this.clientId=wm.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(i,function(f){return(0,A.mG)(c,void 0,void 0,function(){return(0,A.Jh)(this,function(p){switch(p.label){case 0:return be("FirestoreClient","Received user=",f.uid),[4,this.credentialListener(f)];case 1:return p.sent(),this.user=f,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ge(ee.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var i=new Ot;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,A.mG)(e,void 0,void 0,function(){var a,c;return(0,A.Jh)(this,function(f){switch(f.label){case 0:return f.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:f.sent(),f.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:f.sent(),f.label=4;case 4:return this.credentials.removeChangeListener(),i.resolve(),[3,6];case 5:return a=f.sent(),c=tc(a,"Failed to shutdown persistence"),i.reject(c),[3,6];case 6:return[2]}})})}),i.promise},t}();function lE(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i,a,c=this;return(0,A.Jh)(this,function(f){switch(f.label){case 0:return t.asyncQueue.verifyOperationInProgress(),be("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return i=f.sent(),[4,e.initialize(i)];case 2:return f.sent(),a=i.initialUser,t.setCredentialChangeListener(function(p){return(0,A.mG)(c,void 0,void 0,function(){return(0,A.Jh)(this,function(m){switch(m.label){case 0:return a.isEqual(p)?[3,2]:[4,DT(e.localStore,p)];case 1:m.sent(),a=p,m.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function by(t,e){return(0,A.mG)(this,void 0,void 0,function(){var i,a;return(0,A.Jh)(this,function(c){switch(c.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,_h(t)];case 1:return i=c.sent(),be("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return a=c.sent(),[4,e.initialize(i,a)];case 3:return c.sent(),t.setCredentialChangeListener(function(f){return function(p,m){return(0,A.mG)(this,void 0,void 0,function(){var b,E;return(0,A.Jh)(this,function(D){switch(D.label){case 0:return(b=Te(p)).asyncQueue.verifyOperationInProgress(),be("RemoteStore","RemoteStore received new credentials"),E=Zr(b),b.Or.add(3),[4,Zu(b)];case 1:return D.sent(),E&&b.Br.set("Unknown"),[4,b.remoteSyncer.handleCredentialChange(m)];case 2:return D.sent(),b.Or.delete(3),[4,Gl(b)];case 3:return D.sent(),[2]}})})}(e.remoteStore,f)}),t.onlineComponents=e,[2]}})})}function _h(t){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(be("FirestoreClient","Using default OfflineComponentProvider"),[4,lE(t,new oE)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Jl(t){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(be("FirestoreClient","Using default OnlineComponentProvider"),[4,by(t,new vh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function wy(t){return _h(t).then(function(e){return e.persistence})}function Ey(t){return _h(t).then(function(e){return e.localStore})}function dE(t){return Jl(t).then(function(e){return e.remoteStore})}function Cy(t){return Jl(t).then(function(e){return e.syncEngine})}function ma(t){return(0,A.mG)(this,void 0,void 0,function(){var e,i;return(0,A.Jh)(this,function(a){switch(a.label){case 0:return[4,Jl(t)];case 1:return e=a.sent(),[2,((i=e.eventManager).onListen=Yw.bind(null,e.syncEngine),i.onUnlisten=Jw.bind(null,e.syncEngine),i)]}})})}function ZT(t,e,i){var a=this;void 0===i&&(i={});var c=new Ot;return t.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(a,void 0,void 0,function(){var f;return(0,A.Jh)(this,function(p){switch(p.label){case 0:return f=function(m,b,E,D,I){var M=new Yl({next:function(j){b.enqueueAndForget(function(){return hh(m,O)});var z=j.docs.has(E);!z&&j.fromCache?I.reject(new ge(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&j.fromCache&&D&&"server"===D.source?I.reject(new ge(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):I.resolve(j)},error:function(j){return I.reject(j)}}),O=new dy(Xs(E.path),M,{includeMetadataChanges:!0,so:!0});return zl(m,O)},[4,ma(t)];case 1:return[2,f.apply(void 0,[p.sent(),t.asyncQueue,e,i,c])]}})})}),c.promise}function XT(t,e,i){var a=this;void 0===i&&(i={});var c=new Ot;return t.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(a,void 0,void 0,function(){var f;return(0,A.Jh)(this,function(p){switch(p.label){case 0:return f=function(m,b,E,D,I){var M=new Yl({next:function(j){b.enqueueAndForget(function(){return hh(m,O)}),j.fromCache&&"server"===D.source?I.reject(new ge(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):I.resolve(j)},error:function(j){return I.reject(j)}}),O=new dy(E,M,{includeMetadataChanges:!0,so:!0});return zl(m,O)},[4,ma(t)];case 1:return[2,f.apply(void 0,[p.sent(),t.asyncQueue,e,i,c])]}})})}),c.promise}var h1=function(t,e,i,a,c,f,p,m){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.useFetchStreams=m},Dy=function(){function t(e,i){this.projectId=e,this.database=i||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),eS=new Map,tS=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},nS=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,i){this.changeListener=i,e.enqueueRetryable(function(){return i(Nt.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),p1=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,i){var a=this;this.changeListener=i,e.enqueueRetryable(function(){return i(a.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),g1=function(){function t(e){var i=this;this.currentUser=Nt.UNAUTHENTICATED,this.oc=new Ot,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){i.cc++,i.currentUser=i.ac(),i.oc.resolve(),i.changeListener&&i.asyncQueue.enqueueRetryable(function(){return i.changeListener(i.currentUser)})};var a=function(c){be("FirebaseCredentialsProvider","Auth detected"),i.auth=c,i.auth.addAuthTokenListener(i.uc)};e.onInit(function(c){return a(c)}),setTimeout(function(){if(!i.auth){var c=e.getImmediate({optional:!0});c?a(c):(be("FirebaseCredentialsProvider","Auth not yet detected"),i.oc.resolve())}},0)}return t.prototype.getToken=function(){var e=this,i=this.cc,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then(function(c){return e.cc!==i?(be("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):c?(ze("string"==typeof c.accessToken),new tS(c.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,i){var a=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return(0,A.mG)(a,void 0,void 0,function(){return(0,A.Jh)(this,function(c){switch(c.label){case 0:return[4,this.oc.promise];case 1:return c.sent(),[4,i(this.currentUser)];case 2:return c.sent(),this.changeListener=i,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return ze(null===e||"string"==typeof e),new Nt(e)},t}(),m1=function(){function t(e,i,a){this.hc=e,this.lc=i,this.fc=a,this.type="FirstParty",this.user=Nt.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},i=this.hc.auth.getAuthHeaderValueForFirstParty([]);return i&&(e.Authorization=i),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),t}(),y1=function(){function t(e,i,a){this.hc=e,this.lc=i,this.fc=a}return t.prototype.getToken=function(){return Promise.resolve(new m1(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(e,i){e.enqueueRetryable(function(){return i(Nt.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function fE(t,e,i){if(!i)throw new ge(ee.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function hE(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ge(ee.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function rS(t,e,i,a){if(!0===e&&!0===a)throw new ge(ee.INVALID_ARGUMENT,t+" and "+i+" cannot be used together.")}function iS(t){if(!Ve.isDocumentKey(t))throw new ge(ee.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function oS(t){if(Ve.isDocumentKey(t))throw new ge(ee.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Iy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(i){if(i.constructor){var a=/function\s+([^\s(]+)\s*\(/.exec(i.constructor.toString());if(a&&a.length>1)return a[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Fe()}function Ct(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var i=Iy(t);throw new ge(ee.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+i)}return t}function pE(t,e){if(e<=0)throw new ge(ee.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var gE=function(){function t(e){var i;if(void 0===e.host){if(void 0!==e.ssl)throw new ge(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(i=e.ssl)||void 0===i||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ge(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,rS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},t}(),bh=function(){function t(e,i){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gE({}),this._settingsFrozen=!1,e instanceof Dy?(this._databaseId=e,this._credentials=new nS):(this._app=e,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ge(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dy(a.options.projectId)}(e),this._credentials=new g1(i))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new ge(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new ge(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gE(e),void 0!==e.credentials&&(this._credentials=function(i){if(!i)return new nS;switch(i.type){case"gapi":var a=i.client;return ze(!("object"!=typeof a||null===a||!a.auth||!a.auth.getAuthHeaderValueForFirstParty)),new y1(a,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new ge(ee.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(i=eS.get(this))&&(be("ComponentProvider","Removing Datastore"),eS.delete(this),i.terminate()),Promise.resolve();var i},t}(),rn=function(){function t(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ts(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Pr=function(){function t(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),ts=function(t){function e(i,a,c){var f=this;return(f=t.call(this,i,a,Xs(c))||this)._path=c,f.type="collection",f}return(0,A.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var i=this._path.popLast();return i.isEmpty()?null:new rn(this.firestore,null,new Ve(i))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(i){return new e(this.firestore,i,this._path)},e}(Pr);function mE(t,e){for(var i,a=[],c=2;c<arguments.length;c++)a[c-2]=arguments[c];if(t=(0,Dt.m9)(t),fE("collection","path",e),t instanceof bh)return oS(i=Be.fromString.apply(Be,(0,A.ev)([e],a))),new ts(t,null,i);if(!(t instanceof rn||t instanceof ts))throw new ge(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return oS(i=Be.fromString.apply(Be,(0,A.ev)([t.path],a)).child(Be.fromString(e))),new ts(t.firestore,null,i)}function wh(t,e){for(var i,a=[],c=2;c<arguments.length;c++)a[c-2]=arguments[c];if(t=(0,Dt.m9)(t),1===arguments.length&&(e=wm.u()),fE("doc","path",e),t instanceof bh)return iS(i=Be.fromString.apply(Be,(0,A.ev)([e],a))),new rn(t,null,new Ve(i));if(!(t instanceof rn||t instanceof ts))throw new ge(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return iS(i=t._path.child(Be.fromString.apply(Be,(0,A.ev)([e],a)))),new rn(t.firestore,t instanceof ts?t.converter:null,new Ve(i))}function sS(t,e){return t=(0,Dt.m9)(t),e=(0,Dt.m9)(e),(t instanceof rn||t instanceof ts)&&(e instanceof rn||e instanceof ts)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function aS(t,e){return t=(0,Dt.m9)(t),e=(0,Dt.m9)(e),t instanceof Pr&&e instanceof Pr&&t.firestore===e.firestore&&Nl(t._query,e._query)&&t.converter===e.converter}var v1=function(){function t(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new ty(this,"async_queue_retry"),this.Ic=function(){var a=ey();a&&be("AsyncQueue","Visibility state changed to "+a.visibilityState),e.Zi.Gi()};var i=ey();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},t.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var i=ey();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(e){var i=this;if(this.Ac(),this._c)return new Promise(function(){});var a=new Ot;return this.Rc(function(){return i._c&&i.Ec?Promise.resolve():(e().then(a.resolve,a.reject),a.promise)}).then(function(){return a.promise})},t.prototype.enqueueRetryable=function(e){var i=this;this.enqueueAndForget(function(){return i.wc.push(e),i.bc()})},t.prototype.bc=function(){return(0,A.mG)(this,void 0,void 0,function(){var e,i=this;return(0,A.Jh)(this,function(a){switch(a.label){case 0:if(0===this.wc.length)return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return a.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Gu(e=a.sent()))throw e;return be("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return i.bc()}),a.label=5;case 5:return[2]}})})},t.prototype.Rc=function(e){var i=this,a=this.dc.then(function(){return i.gc=!0,e().catch(function(c){throw i.yc=c,i.gc=!1,vn("INTERNAL UNHANDLED ERROR: ",(p=(f=c).message||"",f.stack&&(p=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),p)),c;var f,p}).then(function(c){return i.gc=!1,c})});return this.dc=a,a},t.prototype.enqueueAfterDelay=function(e,i,a){var c=this;this.Ac(),this.Tc.indexOf(e)>-1&&(i=0);var f=Gi.createAndSchedule(this,e,i,a,function(p){return c.vc(p)});return this.mc.push(f),f},t.prototype.Ac=function(){this.yc&&Fe()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,A.mG)(this,void 0,void 0,function(){var e;return(0,A.Jh)(this,function(i){switch(i.label){case 0:return[4,e=this.dc];case 1:i.sent(),i.label=2;case 2:if(e!==this.dc)return[3,0];i.label=3;case 3:return[2]}})})},t.prototype.Vc=function(e){for(var i=0,a=this.mc;i<a.length;i++)if(a[i].timerId===e)return!0;return!1},t.prototype.Sc=function(e){var i=this;return this.Pc().then(function(){i.mc.sort(function(p,m){return p.targetTimeMs-m.targetTimeMs});for(var a=0,c=i.mc;a<c.length;a++){var f=c[a];if(f.skipDelay(),"all"!==e&&f.timerId===e)break}return i.Pc()})},t.prototype.Dc=function(e){this.Tc.push(e)},t.prototype.vc=function(e){var i=this.mc.indexOf(e);this.mc.splice(i,1)},t}();function Zl(t){return function(e,i){if("object"!=typeof e||null===e)return!1;for(var a=e,c=0,f=["next","error","complete"];c<f.length;c++){var p=f[c];if(p in a&&"function"==typeof a[p])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Ot,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(e,i,a){this._progressObserver={next:e,error:i,complete:a}},t.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},t.prototype.then=function(e,i){return this._taskCompletionResolver.promise.then(e,i)},t.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},t.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},t.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var dn=function(t){function e(i,a){var c=this;return(c=t.call(this,i,a)||this).type="firestore",c._queue=new v1,c._persistenceKey="name"in i?i.name:"[DEFAULT]",c}return(0,A.ZT)(e,t),e.prototype._terminate=function(){return this._firestoreClient||ya(this),this._firestoreClient.terminate()},e}(bh);function wn(t){return t._firestoreClient||ya(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ya(t){var e,f,m,i=t._freezeSettings(),a=(f=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new h1(t._databaseId,f,t._persistenceKey,(m=i).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));t._firestoreClient=new cE(t._credentials,t._queue,a)}function Ty(t,e,i){var a=this,c=new Ot;return t.asyncQueue.enqueue(function(){return(0,A.mG)(a,void 0,void 0,function(){var f;return(0,A.Jh)(this,function(p){switch(p.label){case 0:return p.trys.push([0,3,,4]),[4,lE(t,i)];case 1:return p.sent(),[4,by(t,e)];case 2:return p.sent(),c.resolve(),[3,4];case 3:if(!("FirebaseError"===(m=f=p.sent()).name?m.code===ee.FAILED_PRECONDITION||m.code===ee.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&m instanceof DOMException)||22===m.code||20===m.code||11===m.code))throw f;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+f),c.reject(f),[3,4];case 4:return[2]}var m})})}).then(function(){return c.promise})}function yE(t){if(t._initialized||t._terminated)throw new ge(ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Hi=function(){function t(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];for(var a=0;a<e.length;++a)if(0===e[a].length)throw new ge(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $r(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),yo=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(rr.fromBase64String(e))}catch(i){throw new ge(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}},t.fromUint8Array=function(e){return new t(rr.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),ns=function(t){this._methodName=t},Xl=function(){function t(e,i){if(!isFinite(e)||e<-90||e>90)throw new ge(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ge(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return mt(this._lat,e._lat)||mt(this._long,e._long)},t}(),vE=/^__.*__$/,b1=function(){function t(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}return t.prototype.toMutation=function(e,i){return null!==this.fieldMask?new fo(e,this.data,this.fieldMask,i,this.fieldTransforms):new Fu(e,this.data,i,this.fieldTransforms)},t}(),Sy=function(){function t(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}return t.prototype.toMutation=function(e,i){return new fo(e,this.data,this.fieldMask,i,this.fieldTransforms)},t}();function ed(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}var Ay=function(){function t(e,i,a,c,f,p){this.settings=e,this.databaseId=i,this.R=a,this.ignoreUndefinedProperties=c,void 0===f&&this.Cc(),this.fieldTransforms=f||[],this.fieldMask=p||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Fc=function(e){var i,a=null===(i=this.path)||void 0===i?void 0:i.child(e),c=this.xc({path:a,kc:!1});return c.$c(e),c},t.prototype.Oc=function(e){var i,a=null===(i=this.path)||void 0===i?void 0:i.child(e),c=this.xc({path:a,kc:!1});return c.Cc(),c},t.prototype.Mc=function(e){return this.xc({path:void 0,kc:!0})},t.prototype.Lc=function(e){return Dh(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(i){return e.isPrefixOf(i)})||void 0!==this.fieldTransforms.find(function(i){return e.isPrefixOf(i.field)})},t.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(ed(this.Nc)&&vE.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),w1=function(){function t(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.R=a||Ju(e)}return t.prototype.Uc=function(e,i,a,c){return void 0===c&&(c=!1),new Ay({Nc:e,methodName:i,qc:a,path:$r.emptyPath(),kc:!1,Bc:c},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function rc(t){var e=t._freezeSettings(),i=Ju(t._databaseId);return new w1(t._databaseId,!!e.ignoreUndefinedProperties,i)}function My(t,e,i,a,c,f){void 0===f&&(f={});var p=t.Uc(f.merge||f.mergeFields?2:0,e,i,c);Ch("Data must be an object, but it was:",p,a);var m,b,E=_E(a,p);if(f.merge)m=new Ko(p.fieldMask),b=p.fieldTransforms;else if(f.mergeFields){for(var D=[],I=0,M=f.mergeFields;I<M.length;I++){var O=Ry(e,M[I],i);if(!p.contains(O))throw new ge(ee.INVALID_ARGUMENT,"Field '"+O+"' is specified in your field mask but missing from your input data.");oc(D,O)||D.push(O)}m=new Ko(D),b=p.fieldTransforms.filter(function(j){return m.covers(j.field)})}else m=null,b=p.fieldTransforms;return new b1(new mr(E),m,b)}var Ny=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(e,t),e.prototype._toFieldTransform=function(i){if(2!==i.Nc)throw i.Lc(1===i.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return i.fieldMask.push(i.path),null},e.prototype.isEqual=function(i){return i instanceof e},e}(ns);function cS(t,e,i){return new Ay({Nc:3,qc:e.settings.qc,methodName:t._methodName,kc:i},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Eh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(e,t),e.prototype._toFieldTransform=function(i){return new ra(i.path,new ta)},e.prototype.isEqual=function(i){return i instanceof e},e}(ns),lS=function(t){function e(i,a){var c=this;return(c=t.call(this,i)||this).Kc=a,c}return(0,A.ZT)(e,t),e.prototype._toFieldTransform=function(i){var a=cS(this,i,!0),c=this.Kc.map(function(p){return ic(p,a)}),f=new Qo(c);return new ra(i.path,f)},e.prototype.isEqual=function(i){return this===i},e}(ns),E1=function(t){function e(i,a){var c=this;return(c=t.call(this,i)||this).Kc=a,c}return(0,A.ZT)(e,t),e.prototype._toFieldTransform=function(i){var a=cS(this,i,!0),c=this.Kc.map(function(p){return ic(p,a)}),f=new na(c);return new ra(i.path,f)},e.prototype.isEqual=function(i){return this===i},e}(ns),C1=function(t){function e(i,a){var c=this;return(c=t.call(this,i)||this).Qc=a,c}return(0,A.ZT)(e,t),e.prototype._toFieldTransform=function(i){var a=new Ou(i.R,Pb(i.R,this.Qc));return new ra(i.path,a)},e.prototype.isEqual=function(i){return this===i},e}(ns);function td(t,e,i,a){var c=t.Uc(1,e,i);Ch("Data must be an object, but it was:",c,a);var f=[],p=mr.empty();zs(a,function(b,E){var D=bE(e,b,i);E=(0,Dt.m9)(E);var I=c.Oc(D);if(E instanceof Ny)f.push(D);else{var M=ic(E,I);null!=M&&(f.push(D),p.set(D,M))}});var m=new Ko(f);return new Sy(p,m,c.fieldTransforms)}function xy(t,e,i,a,c,f){var p=t.Uc(1,e,i),m=[Ry(e,a,i)],b=[c];if(f.length%2!=0)throw new ge(ee.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var E=0;E<f.length;E+=2)m.push(Ry(e,f[E])),b.push(f[E+1]);for(var D=[],I=mr.empty(),M=m.length-1;M>=0;--M)if(!oc(D,m[M])){var O=m[M],j=b[M];j=(0,Dt.m9)(j);var z=p.Oc(O);if(j instanceof Ny)D.push(O);else{var le=ic(j,z);null!=le&&(D.push(O),I.set(O,le))}}var me=new Ko(D);return new Sy(I,me,p.fieldTransforms)}function dS(t,e,i,a){return void 0===a&&(a=!1),ic(i,t.Uc(a?4:3,e))}function ic(t,e){if(fS(t=(0,Dt.m9)(t)))return Ch("Unsupported field value:",e,t),_E(t,e);if(t instanceof ns)return function(i,a){if(!ed(a.Nc))throw a.Lc(i._methodName+"() can only be used with update() and set()");if(!a.path)throw a.Lc(i._methodName+"() is not currently supported inside arrays");var c=i._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.kc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(i,a){for(var c=[],f=0,p=0,m=i;p<m.length;p++){var b=ic(m[p],a.Mc(f));null==b&&(b={nullValue:"NULL_VALUE"}),c.push(b),f++}return{arrayValue:{values:c}}}(t,e)}return function(i,a){if(null===(i=(0,Dt.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return Pb(a.R,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){var c=gr.fromDate(i);return{timestampValue:Yo(a.R,c)}}if(i instanceof gr)return c=new gr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3)),{timestampValue:Yo(a.R,c)};if(i instanceof Xl)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof yo)return{bytesValue:Yb(a.R,i._byteString)};if(i instanceof rn){var f=i.firestore._databaseId;if(!f.isEqual(c=a.databaseId))throw a.Lc("Document reference is for database "+f.projectId+"/"+f.database+" but should be for database "+c.projectId+"/"+c.database);return{referenceValue:Vu(i.firestore._databaseId||a.databaseId,i._key.path)}}throw a.Lc("Unsupported field value: "+Iy(i))}(t,e)}function _E(t,e){var i={};return bl(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zs(t,function(a,c){var f=ic(c,e.Fc(a));null!=f&&(i[a]=f)}),{mapValue:{fields:i}}}function fS(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof gr||t instanceof Xl||t instanceof yo||t instanceof rn||t instanceof ns)}function Ch(t,e,i){if(!fS(i)||"object"!=typeof(c=i)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){var a=Iy(i);throw e.Lc("an object"===a?t+" a custom object":t+" "+a)}var c}function Ry(t,e,i){if((e=(0,Dt.m9)(e))instanceof Hi)return e._internalPath;if("string"==typeof e)return bE(t,e);throw Dh("Field path arguments must be of type string or FieldPath.",t,!1,void 0,i)}var D1=new RegExp("[~\\*/\\[\\]]");function bE(t,e,i){if(e.search(D1)>=0)throw Dh("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,i);try{return(new(Hi.bind.apply(Hi,(0,A.ev)([void 0],e.split(".")))))._internalPath}catch(a){throw Dh("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,i)}}function Dh(t,e,i,a,c){var f=a&&!a.isEmpty(),p=void 0!==c,m="Function "+e+"() called with invalid data";i&&(m+=" (via `toFirestore()`)");var b="";return(f||p)&&(b+=" (found",f&&(b+=" in field "+a),p&&(b+=" in document "+c),b+=")"),new ge(ee.INVALID_ARGUMENT,(m+=". ")+t+b)}function oc(t,e){return t.some(function(i){return i.isEqual(e)})}var nd=function(){function t(e,i,a,c,f){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=c,this._converter=f}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new rn(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var e=new hS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(e){if(this._document){var i=this._document.data.field(Ih("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i)}},t}(),hS=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(nd);function Ih(t,e){return"string"==typeof e?bE(t,e):e instanceof Hi?e._internalPath:e._delegate._internalPath}var vo=function(){function t(e,i){this.hasPendingWrites=e,this.fromCache=i}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),_o=function(t){function e(i,a,c,f,p,m){var b=this;return(b=t.call(this,i,a,c,f,m)||this)._firestore=i,b._firestoreImpl=i,b.metadata=p,b}return(0,A.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(i){if(void 0===i&&(i={}),this._document){if(this._converter){var a=new Ln(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}},e.prototype.get=function(i,a){if(void 0===a&&(a={}),this._document){var c=this._document.data.field(Ih("DocumentSnapshot.get",i));if(null!==c)return this._userDataWriter.convertValue(c,a.serverTimestamps)}},e}(nd),Ln=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(e,t),e.prototype.data=function(i){return void 0===i&&(i={}),t.prototype.data.call(this,i)},e}(_o),rs=function(){function t(e,i,a,c){this._firestore=e,this._userDataWriter=i,this._snapshot=c,this.metadata=new vo(c.hasPendingWrites,c.fromCache),this.query=a}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(i){return e.push(i)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,i){var a=this;this._snapshot.docs.forEach(function(c){e.call(i,new Ln(a._firestore,a._userDataWriter,c.key,c,new vo(a._snapshot.mutatedKeys.has(c.key),a._snapshot.fromCache),a.query.converter))})},t.prototype.docChanges=function(e){void 0===e&&(e={});var i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ge(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){var f=0;return a._snapshot.docChanges.map(function(m){return{type:"added",doc:new Ln(a._firestore,a._userDataWriter,m.doc.key,m.doc,new vo(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:f++}})}var p=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(function(m){return c||3!==m.type}).map(function(m){var b=new Ln(a._firestore,a._userDataWriter,m.doc.key,m.doc,new vo(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter),E=-1,D=-1;return 0!==m.type&&(E=p.indexOf(m.doc.key),p=p.delete(m.doc.key)),1!==m.type&&(D=(p=p.add(m.doc)).indexOf(m.doc.key)),{type:Oy(m.type),doc:b,oldIndex:E,newIndex:D}})}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges},t}();function Oy(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}function wE(t,e){return t instanceof _o&&e instanceof _o?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof rs&&e instanceof rs&&t._firestore===e._firestore&&aS(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function EE(t){if(Al(t)&&0===t.explicitOrderBy.length)throw new ge(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var va=function(){};function bo(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var a=0,c=e;a<c.length;a++){var f=c[a];t=f._apply(t)}return t}var CE=function(t){function e(i,a,c){var f=this;return(f=t.call(this)||this).jc=i,f.Wc=a,f.Gc=c,f.type="where",f}return(0,A.ZT)(e,t),e.prototype._apply=function(i){var f,m,a=rc(i.firestore),c=function(f,p,m,b,E,D,I){var M;if(E.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new ge(ee.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+D+"' queries on FieldPath.documentId().");if("in"===D||"not-in"===D){ky(I,D);for(var O=[],j=0,z=I;j<z.length;j++)O.push(Th(b,f,z[j]));M={arrayValue:{values:O}}}else M=Th(b,f,I)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||ky(I,D),M=dS(m,"where",I,"in"===D||"not-in"===D);var me=$n.create(E,D,M);return function(De,Ie){if(Ie.g()){var Ke=Ml(De);if(null!==Ke&&!Ke.isEqual(Ie.field))throw new ge(ee.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+Ke.toString()+"' and '"+Ie.field.toString()+"'");var Oe=Am(De);null!==Oe&&Ly(0,Ie.field,Oe)}var ot=function(Kn,kh){for(var ad=0,Xy=Kn.filters;ad<Xy.length;ad++){var ev=Xy[ad];if(kh.indexOf(ev.op)>=0)return ev.op}return null}(De,function(Kn){switch(Kn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ie.op));if(null!==ot)throw new ge(ee.INVALID_ARGUMENT,ot===Ie.op?"Invalid query. You cannot use more than one '"+Ie.op.toString()+"' filter.":"Invalid query. You cannot use '"+Ie.op.toString()+"' filters with '"+ot.toString()+"' filters.")}(f,me),me}(i._query,0,a,i.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Pr(i.firestore,i.converter,(m=(f=i._query).filters.concat([c]),new Li(f.path,f.collectionGroup,f.explicitOrderBy.slice(),m,f.limit,f.limitType,f.startAt,f.endAt)))},e}(va),pS=function(t){function e(i,a){var c=this;return(c=t.call(this)||this).jc=i,c.zc=a,c.type="orderBy",c}return(0,A.ZT)(e,t),e.prototype._apply=function(i){var c,p,a=function(c,f,p){if(null!==c.startAt)throw new ge(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new ge(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var m=new Ru(f,p);return function(b,E){if(null===Am(b)){var D=Ml(b);null!==D&&Ly(0,D,E.field)}}(c,m),m}(i._query,this.jc,this.zc);return new Pr(i.firestore,i.converter,(p=(c=i._query).explicitOrderBy.concat([a]),new Li(c.path,c.collectionGroup,p,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)))},e}(va),Py=function(t){function e(i,a,c){var f=this;return(f=t.call(this)||this).type=i,f.Hc=a,f.Jc=c,f}return(0,A.ZT)(e,t),e.prototype._apply=function(i){return new Pr(i.firestore,i.converter,Nb(i._query,this.Hc,this.Jc))},e}(va),Fy=function(t){function e(i,a,c){var f=this;return(f=t.call(this)||this).type=i,f.Yc=a,f.Xc=c,f}return(0,A.ZT)(e,t),e.prototype._apply=function(i){var c,f,a=IE(i,this.type,this.Yc,this.Xc);return new Pr(i.firestore,i.converter,(f=a,new Li((c=i._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,f,c.endAt)))},e}(va),DE=function(t){function e(i,a,c){var f=this;return(f=t.call(this)||this).type=i,f.Yc=a,f.Xc=c,f}return(0,A.ZT)(e,t),e.prototype._apply=function(i){var c,f,a=IE(i,this.type,this.Yc,this.Xc);return new Pr(i.firestore,i.converter,(f=a,new Li((c=i._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,f)))},e}(va);function IE(t,e,i,a){if(i[0]=(0,Dt.m9)(i[0]),i[0]instanceof nd)return function(f,p,m,b,E){if(!b)throw new ge(ee.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+m+"().");for(var D=[],I=0,M=ea(f);I<M.length;I++){var O=M[I];if(O.field.isKeyField())D.push(Kf(p,b.key));else{var j=b.data.field(O.field);if(Em(j))throw new ge(ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+O.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===j){var z=O.field.canonicalString();throw new ge(ee.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+z+"' (used as the orderBy) does not exist.")}D.push(j)}}return new Tl(D,E)}(t._query,t.firestore._databaseId,e,i[0]._document,a);var c=rc(t.firestore);return function(f,p,m,b,E,D){var I=f.explicitOrderBy;if(E.length>I.length)throw new ge(ee.INVALID_ARGUMENT,"Too many arguments provided to "+b+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var M=[],O=0;O<E.length;O++){var j=E[O];if(I[O].field.isKeyField()){if("string"!=typeof j)throw new ge(ee.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+b+"(), but got a "+typeof j);if(!Mm(f)&&-1!==j.indexOf("/"))throw new ge(ee.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+b+"() must be a plain document ID, but '"+j+"' contains a slash.");var z=f.path.child(Be.fromString(j));if(!Ve.isDocumentKey(z))throw new ge(ee.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+b+"() must result in a valid document path, but '"+z+"' is not because it contains an odd number of segments.");var le=new Ve(z);M.push(Kf(p,le))}else{var me=dS(m,b,j);M.push(me)}}return new Tl(M,D)}(t._query,t.firestore._databaseId,c,e,i,a)}function Th(t,e,i){if("string"==typeof(i=(0,Dt.m9)(i))){if(""===i)throw new ge(ee.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mm(e)&&-1!==i.indexOf("/"))throw new ge(ee.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+i+"' contains a '/' character.");var a=e.path.child(Be.fromString(i));if(!Ve.isDocumentKey(a))throw new ge(ee.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+a+"' is not because it has an odd number of segments ("+a.length+").");return Kf(t,new Ve(a))}if(i instanceof rn)return Kf(t,i._key);throw new ge(ee.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Iy(i)+".")}function ky(t,e){if(!Array.isArray(t)||0===t.length)throw new ge(ee.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ge(ee.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Ly(t,e,i){if(!i.isEqual(e))throw new ge(ee.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+i.toString()+"' instead.")}var rd=function(){function t(){}return t.prototype.convertValue=function(e,i){switch(void 0===i&&(i="none"),ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 10:return this.convertObject(e.mapValue,i);default:throw Fe()}},t.prototype.convertObject=function(e,i){var a=this,c={};return zs(e.fields,function(f,p){c[f]=a.convertValue(p,i)}),c},t.prototype.convertGeoPoint=function(e){return new Xl(cn(e.latitude),cn(e.longitude))},t.prototype.convertArray=function(e,i){var a=this;return(e.values||[]).map(function(c){return a.convertValue(c,i)})},t.prototype.convertServerTimestamp=function(e,i){switch(i){case"previous":var a=Cb(e);return null==a?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(El(e));default:return null}},t.prototype.convertTimestamp=function(e){var i=lo(e);return new gr(i.seconds,i.nanos)},t.prototype.convertDocumentKey=function(e,i){var a=Be.fromString(e);ze(cw(a));var c=new Dy(a.get(1),a.get(3)),f=new Ve(a.popFirst(5));return c.isEqual(i)||vn("Document "+f+" contains a document reference within a different database ("+c.projectId+"/"+c.database+") which is not supported. It will be treated as a reference in the current database ("+i.projectId+"/"+i.database+") instead."),f},t}();function Sh(t,e,i){return t?i&&(i.merge||i.mergeFields)?t.toFirestore(e,i):t.toFirestore(e):e}var Ei=function(t){function e(i){var a=this;return(a=t.call(this)||this).firestore=i,a}return(0,A.ZT)(e,t),e.prototype.convertBytes=function(i){return new yo(i)},e.prototype.convertReference=function(i){var a=this.convertDocumentKey(i,this.firestore._databaseId);return new rn(this.firestore,null,a)},e}(rd),gS=function(){function t(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=rc(e)}return t.prototype.set=function(e,i,a){this._verifyNotCommitted();var c=_a(e,this._firestore),f=Sh(c.converter,i,a),p=My(this._dataReader,"WriteBatch.set",c._key,f,null!==c.converter,a);return this._mutations.push(p.toMutation(c._key,Pn.none())),this},t.prototype.update=function(e,i,a){for(var c=[],f=3;f<arguments.length;f++)c[f-3]=arguments[f];this._verifyNotCommitted();var p,m=_a(e,this._firestore);return p="string"==typeof(i=(0,Dt.m9)(i))||i instanceof Hi?xy(this._dataReader,"WriteBatch.update",m._key,i,a,c):td(this._dataReader,"WriteBatch.update",m._key,i),this._mutations.push(p.toMutation(m._key,Pn.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var i=_a(e,this._firestore);return this._mutations=this._mutations.concat(new ia(i._key,Pn.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new ge(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function _a(t,e){if((t=(0,Dt.m9)(t)).firestore!==e)throw new ge(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var ba=function(t){function e(i){var a=this;return(a=t.call(this)||this).firestore=i,a}return(0,A.ZT)(e,t),e.prototype.convertBytes=function(i){return new yo(i)},e.prototype.convertReference=function(i){var a=this.convertDocumentKey(i,this.firestore._databaseId);return new rn(this.firestore,null,a)},e}(rd);function mS(t,e,i){for(var a=[],c=3;c<arguments.length;c++)a[c-3]=arguments[c];t=Ct(t,rn);var f=Ct(t.firestore,dn),p=rc(f);return id(f,[("string"==typeof(e=(0,Dt.m9)(e))||e instanceof Hi?xy(p,"updateDoc",t._key,e,i,a):td(p,"updateDoc",t._key,e)).toMutation(t._key,Pn.exists(!0))])}function TE(t){for(var e,i,a,c=[],f=1;f<arguments.length;f++)c[f-1]=arguments[f];t=(0,Dt.m9)(t);var p={includeMetadataChanges:!1},m=0;"object"!=typeof c[m]||Zl(c[m])||(p=c[m],m++);var b,E,D,I={includeMetadataChanges:p.includeMetadataChanges};if(Zl(c[m])){var M=c[m];c[m]=null===(e=M.next)||void 0===e?void 0:e.bind(M),c[m+1]=null===(i=M.error)||void 0===i?void 0:i.bind(M),c[m+2]=null===(a=M.complete)||void 0===a?void 0:a.bind(M)}if(t instanceof rn)E=Ct(t.firestore,dn),D=Xs(t._key.path),b={next:function(z){c[m]&&c[m](Vy(E,t,z))},error:c[m+1],complete:c[m+2]};else{var O=Ct(t,Pr);E=Ct(O.firestore,dn),D=O._query;var j=new ba(E);b={next:function(z){c[m]&&c[m](new rs(E,j,O,z))},error:c[m+1],complete:c[m+2]},EE(t._query)}return function(z,le,me,De){var Ie=this,Ke=new Yl(De),Oe=new dy(le,Ke,me);return z.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(Ie,void 0,void 0,function(){var ot;return(0,A.Jh)(this,function(Kn){switch(Kn.label){case 0:return ot=zl,[4,ma(z)];case 1:return[2,ot.apply(void 0,[Kn.sent(),Oe])]}})})}),function(){Ke.Wo(),z.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(Ie,void 0,void 0,function(){var ot;return(0,A.Jh)(this,function(Kn){switch(Kn.label){case 0:return ot=hh,[4,ma(z)];case 1:return[2,ot.apply(void 0,[Kn.sent(),Oe])]}})})})}}(wn(E),D,I,b)}function id(t,e){return function(i,a){var c=this,f=new Ot;return i.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(c,void 0,void 0,function(){var p;return(0,A.Jh)(this,function(m){switch(m.label){case 0:return p=Zw,[4,Cy(i)];case 1:return[2,p.apply(void 0,[m.sent(),a,f])]}})})}),f.promise}(wn(t),e)}function Vy(t,e,i){var a=i.docs.get(e._key),c=new ba(t);return new _o(t,c,e._key,a,new vo(i.hasPendingWrites,i.fromCache),e.converter)}var I1=function(t){function e(i,a){var c=this;return(c=t.call(this,i,a)||this)._firestore=i,c}return(0,A.ZT)(e,t),e.prototype.get=function(i){var a=this,c=_a(i,this._firestore),f=new ba(this._firestore);return t.prototype.get.call(this,i).then(function(p){return new _o(a._firestore,f,c._key,p._document,new vo(!1,!1),c.converter)})},e}(function(){function t(e,i){this._firestore=e,this._transaction=i,this._dataReader=rc(e)}return t.prototype.get=function(e){var i=this,a=_a(e,this._firestore),c=new Ei(this._firestore);return this._transaction.lookup([a._key]).then(function(f){if(!f||1!==f.length)return Fe();var p=f[0];if(p.isFoundDocument())return new nd(i._firestore,c,p.key,p,a.converter);if(p.isNoDocument())return new nd(i._firestore,c,a._key,null,a.converter);throw Fe()})},t.prototype.set=function(e,i,a){var c=_a(e,this._firestore),f=Sh(c.converter,i,a),p=My(this._dataReader,"Transaction.set",c._key,f,null!==c.converter,a);return this._transaction.set(c._key,p),this},t.prototype.update=function(e,i,a){for(var c=[],f=3;f<arguments.length;f++)c[f-3]=arguments[f];var p,m=_a(e,this._firestore);return p="string"==typeof(i=(0,Dt.m9)(i))||i instanceof Hi?xy(this._dataReader,"Transaction.update",m._key,i,a,c):td(this._dataReader,"Transaction.update",m._key,i),this._transaction.update(m._key,p),this},t.prototype.delete=function(e){var i=_a(e,this._firestore);return this._transaction.delete(i._key),this},t}());function SE(){if("undefined"==typeof Uint8Array)throw new ge(ee.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Uy(){if("undefined"==typeof atob)throw new ge(ee.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var AE=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return Uy(),new t(yo.fromBase64String(e))},t.fromUint8Array=function(e){return SE(),new t(yo.fromUint8Array(e))},t.prototype.toBase64=function(){return Uy(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return SE(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),yS=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,i){return function(a,c){yE(a=Ct(a,dn));var f=wn(a),p=a._freezeSettings(),m=new vh;return Ty(f,m,new _y(m,p.cacheSizeBytes,null==c?void 0:c.forceOwnership))}(e._delegate,{forceOwnership:i})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(i){yE(i=Ct(i,dn));var a=wn(i),c=i._freezeSettings(),f=new vh;return Ty(a,f,new sE(f,c.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(i){var a=this;if(i._initialized&&!i._terminated)throw new ge(ee.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var c=new Ot;return i._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,A.mG)(a,void 0,void 0,function(){var f;return(0,A.Jh)(this,function(p){switch(p.label){case 0:return p.trys.push([0,2,,3]),[4,function(m){return(0,A.mG)(this,void 0,void 0,function(){return(0,A.Jh)(this,function(E){switch(E.label){case 0:return Ll.yt()?[4,Ll.delete(m+"main")]:[2,Promise.resolve()];case 1:return E.sent(),[2]}})})}(Wm(i._databaseId,i._persistenceKey))];case 1:return p.sent(),c.resolve(),[3,3];case 2:return f=p.sent(),c.reject(f),[3,3];case 3:return[2]}})})}),c.promise}(e._delegate)},t}(),jy=function(){function t(e,i,a){var c=this;this._delegate=i,this.Zc=a,this.INTERNAL={delete:function(){return c.terminate()}},e instanceof Dy||(this.tu=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){var i=this._delegate._getSettings();e.merge||i.host===e.host||vl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},i),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,i,a){void 0===a&&(a={}),function(c,f,p,m){void 0===m&&(m={});var b=(c=Ct(c,bh))._getSettings();if("firestore.googleapis.com"!==b.host&&b.host!==f&&vl("Host has been set in both settings() and useEmulator(), emulator host will be used"),c._setSettings(Object.assign(Object.assign({},b),{host:f+":"+p,ssl:!1})),m.mockUserToken){var E=(0,Dt.Sg)(m.mockUserToken),D=m.mockUserToken.sub||m.mockUserToken.user_id;if(!D)throw new ge(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c._credentials=new p1(new tS(E,new Nt(D)))}}(this._delegate,e,i,a)},t.prototype.enableNetwork=function(){return function(e){var i=this;return e.asyncQueue.enqueue(function(){return(0,A.mG)(i,void 0,void 0,function(){var a,c;return(0,A.Jh)(this,function(f){switch(f.label){case 0:return[4,wy(e)];case 1:return a=f.sent(),[4,dE(e)];case 2:return c=f.sent(),[2,(a.setNetworkEnabled(!0),p=c,m=Te(p),m.Or.delete(0),Gl(m))]}var p,m})})})}(wn(Ct(this._delegate,dn)))},t.prototype.disableNetwork=function(){return function(e){var i=this;return e.asyncQueue.enqueue(function(){return(0,A.mG)(i,void 0,void 0,function(){var a,c;return(0,A.Jh)(this,function(f){switch(f.label){case 0:return[4,wy(e)];case 1:return a=f.sent(),[4,dE(e)];case 2:return c=f.sent(),[2,(a.setNetworkEnabled(!1),function(p){return(0,A.mG)(this,void 0,void 0,function(){var m;return(0,A.Jh)(this,function(b){switch(b.label){case 0:return(m=Te(p)).Or.add(0),[4,Zu(m)];case 1:return b.sent(),m.Br.set("Offline"),[2]}})})}(c))]}})})})}(wn(Ct(this._delegate,dn)))},t.prototype.enablePersistence=function(e){var i=!1,a=!1;return e&&rS("synchronizeTabs",i=!!e.synchronizeTabs,"experimentalForceOwningTab",a=!!e.experimentalForceOwningTab),i?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,a)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var i=this,a=new Ot;return e.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(i,void 0,void 0,function(){var c;return(0,A.Jh)(this,function(f){switch(f.label){case 0:return c=d1,[4,Cy(e)];case 1:return[2,c.apply(void 0,[f.sent(),a])]}})})}),a.promise}(wn(Ct(this._delegate,dn)))},t.prototype.onSnapshotsInSync=function(e){return a=e,function(c,f){var p=this,m=new Yl(f);return c.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(p,void 0,void 0,function(){var b;return(0,A.Jh)(this,function(E){switch(E.label){case 0:return b=function(D,I){Te(D).Gr.add(I),I.next()},[4,ma(c)];case 1:return[2,b.apply(void 0,[E.sent(),m])]}})})}),function(){m.Wo(),c.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(p,void 0,void 0,function(){var b;return(0,A.Jh)(this,function(E){switch(E.label){case 0:return b=function(D,I){Te(D).Gr.delete(I)},[4,ma(c)];case 1:return[2,b.apply(void 0,[E.sent(),m])]}})})})}}(wn(Ct(this._delegate,dn)),Zl(a)?a:{next:a});var a},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new ge(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new Hy(this,mE(this._delegate,e))}catch(i){throw zn(i,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new wa(this,wh(this._delegate,e))}catch(i){throw zn(i,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new sd(this,function(i,a){if(i=Ct(i,bh),fE("collectionGroup","collection id",a),a.indexOf("/")>=0)throw new ge(ee.INVALID_ARGUMENT,"Invalid collection ID '"+a+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Pr(i,null,(c=a,new Li(Be.emptyPath(),c)));var c}(this._delegate,e))}catch(i){throw zn(i,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var a,i=this;return function(f,p){var m=this,b=new Ot;return f.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(m,void 0,void 0,function(){var E;return(0,A.Jh)(this,function(D){switch(D.label){case 0:return[4,(I=f,Jl(I).then(function(M){return M.datastore}))];case 1:return E=D.sent(),new JT(f.asyncQueue,E,p,b).run(),[2]}var I})})}),b.promise}(wn(a=this._delegate),function(f){return function(a){return e(new By(i,a))}(new I1(a,f))})},t.prototype.batch=function(){var e=this;return wn(this._delegate),new Gy(new gS(this._delegate,function(i){return id(e._delegate,i)}))},t.prototype.loadBundle=function(e){throw new ge(ee.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new ge(ee.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Ah=function(t){function e(i){var a=this;return(a=t.call(this)||this).firestore=i,a}return(0,A.ZT)(e,t),e.prototype.convertBytes=function(i){return new AE(new yo(i))},e.prototype.convertReference=function(i){var a=this.convertDocumentKey(i,this.firestore._databaseId);return wa.eu(a,this.firestore,null)},e}(rd),By=function(){function t(e,i){this._firestore=e,this._delegate=i,this._userDataWriter=new Ah(e)}return t.prototype.get=function(e){var i=this,a=is(e);return this._delegate.get(a).then(function(c){return new ac(i._firestore,new _o(i._firestore._delegate,i._userDataWriter,c._key,c._document,c.metadata,a.converter))})},t.prototype.set=function(e,i,a){var c=is(e);return a?(hE("Transaction.set",a),this._delegate.set(c,i,a)):this._delegate.set(c,i),this},t.prototype.update=function(e,i,a){for(var c,f=[],p=3;p<arguments.length;p++)f[p-3]=arguments[p];var m=is(e);return 2===arguments.length?this._delegate.update(m,i):(c=this._delegate).update.apply(c,(0,A.ev)([m,i,a],f)),this},t.prototype.delete=function(e){var i=is(e);return this._delegate.delete(i),this},t}(),Gy=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,i,a){var c=is(e);return a?(hE("WriteBatch.set",a),this._delegate.set(c,i,a)):this._delegate.set(c,i),this},t.prototype.update=function(e,i,a){for(var c,f=[],p=3;p<arguments.length;p++)f[p-3]=arguments[p];var m=is(e);return 2===arguments.length?this._delegate.update(m,i):(c=this._delegate).update.apply(c,(0,A.ev)([m,i,a],f)),this},t.prototype.delete=function(e){var i=is(e);return this._delegate.delete(i),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Mh=function(){function t(e,i,a){this._firestore=e,this._userDataWriter=i,this._delegate=a}return t.prototype.fromFirestore=function(e,i){var a=new Ln(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new od(this._firestore,a),null!=i?i:{})},t.prototype.toFirestore=function(e,i){return i?this._delegate.toFirestore(e,i):this._delegate.toFirestore(e)},t.nu=function(e,i){var a=t.su,c=a.get(e);c||(c=new WeakMap,a.set(e,c));var f=c.get(i);return f||(f=new t(e,new Ah(e),i),c.set(i,f)),f},t}();Mh.su=new WeakMap;var wa=function(){function t(e,i){this.firestore=e,this._delegate=i,this._userDataWriter=new Ah(e)}return t.iu=function(e,i,a){if(e.length%2!=0)throw new ge(ee.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(i,new rn(i._delegate,a,new Ve(e)))},t.eu=function(e,i,a){return new t(i,new rn(i._delegate,a,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Hy(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new Hy(this.firestore,mE(this._delegate,e))}catch(i){throw zn(i,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=(0,Dt.m9)(e))instanceof rn&&sS(this._delegate,e)},t.prototype.set=function(e,i){i=hE("DocumentReference.set",i);try{return function(a,c,f){a=Ct(a,rn);var p=Ct(a.firestore,dn),m=Sh(a.converter,c,f);return id(p,[My(rc(p),"setDoc",a._key,m,null!==a.converter,f).toMutation(a._key,Pn.none())])}(this._delegate,e,i)}catch(a){throw zn(a,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,i){for(var a=[],c=2;c<arguments.length;c++)a[c-2]=arguments[c];try{return 1===arguments.length?mS(this._delegate,e):mS.apply(void 0,(0,A.ev)([this._delegate,e,i],a))}catch(f){throw zn(f,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return id(Ct((e=this._delegate).firestore,dn),[new ia(e._key,Pn.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var c=sc(i),f=Nh(i,function(p){return new ac(e.firestore,new _o(e.firestore._delegate,e._userDataWriter,p._key,p._document,p.metadata,e._delegate.converter))});return TE(this._delegate,c,f)},t.prototype.get=function(e){var i=this;return("cache"===(null==e?void 0:e.source)?function(a){a=Ct(a,rn);var c=Ct(a.firestore,dn),f=wn(c),p=new ba(c);return function(m,b){var E=this,D=new Ot;return m.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(E,void 0,void 0,function(){var I;return(0,A.Jh)(this,function(M){switch(M.label){case 0:return I=function(O,j,z){return(0,A.mG)(this,void 0,void 0,function(){var le,me;return(0,A.Jh)(this,function(De){switch(De.label){case 0:return De.trys.push([0,2,,3]),[4,(Ie=O,Ke=j,Oe=Te(Ie),Oe.persistence.runTransaction("read document","readonly",function(ot){return Oe.Mn.mn(ot,Ke)}))];case 1:return(me=De.sent()).isFoundDocument()?z.resolve(me):me.isNoDocument()?z.resolve(null):z.reject(new ge(ee.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return le=De.sent(),me=tc(le,"Failed to get document '"+j+" from cache"),z.reject(me),[3,3];case 3:return[2]}var Ie,Ke,Oe})})},[4,Ey(m)];case 1:return[2,I.apply(void 0,[M.sent(),b,D])]}})})}),D.promise}(f,a._key).then(function(m){return new _o(c,p,a._key,m,new vo(null!==m&&m.hasLocalMutations,!0),a.converter)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(a){a=Ct(a,rn);var c=Ct(a.firestore,dn);return ZT(wn(c),a._key,{source:"server"}).then(function(f){return Vy(c,a,f)})}(this._delegate):function(a){a=Ct(a,rn);var c=Ct(a.firestore,dn);return ZT(wn(c),a._key).then(function(f){return Vy(c,a,f)})}(this._delegate)).then(function(a){return new ac(i.firestore,new _o(i.firestore._delegate,i._userDataWriter,a._key,a._document,a.metadata,i._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Mh.nu(this.firestore,e):null))},t}();function zn(t,e,i){return t.message=t.message.replace(e,i),t}function sc(t){for(var e=0,i=t;e<i.length;e++){var a=i[e];if("object"==typeof a&&!Zl(a))return a}return{}}function Nh(t,e){var i,a,c;return{next:function(f){c.next&&c.next(e(f))},error:null===(i=(c=Zl(t[0])?t[0]:Zl(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===i?void 0:i.bind(c),complete:null===(a=c.complete)||void 0===a?void 0:a.bind(c)}}var ac=function(){function t(e,i){this._firestore=e,this._delegate=i}return Object.defineProperty(t.prototype,"ref",{get:function(){return new wa(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,i){return this._delegate.get(e,i)},t.prototype.isEqual=function(e){return wE(this._delegate,e._delegate)},t}(),od=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,A.ZT)(e,t),e.prototype.data=function(i){return this._delegate.data(i)},e}(ac),sd=function(){function t(e,i){this.firestore=e,this._delegate=i,this._userDataWriter=new Ah(e)}return t.prototype.where=function(e,i,a){try{return new t(this.firestore,bo(this._delegate,(p=a,m=i,b=Ih("where",c=e),new CE(b,m,p))))}catch(c){throw zn(c,/(orderBy|where)\(\)/,"Query.$1()")}var c,p,m,b},t.prototype.orderBy=function(e,i){try{return new t(this.firestore,bo(this._delegate,function(a,c){void 0===c&&(c="asc");var f=c,p=Ih("orderBy",a);return new pS(p,f)}(e,i)))}catch(a){throw zn(a,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,bo(this._delegate,(pE("limit",i=e),new Py("limit",i,"F"))))}catch(i){throw zn(i,"limit()","Query.limit()")}var i},t.prototype.limitToLast=function(e){try{return new t(this.firestore,bo(this._delegate,(pE("limitToLast",i=e),new Py("limitToLast",i,"L"))))}catch(i){throw zn(i,"limitToLast()","Query.limitToLast()")}var i},t.prototype.startAt=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];try{return new t(this.firestore,bo(this._delegate,function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new Fy("startAt",a,!0)}.apply(void 0,e)))}catch(a){throw zn(a,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];try{return new t(this.firestore,bo(this._delegate,function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new Fy("startAfter",a,!1)}.apply(void 0,e)))}catch(a){throw zn(a,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];try{return new t(this.firestore,bo(this._delegate,function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new DE("endBefore",a,!0)}.apply(void 0,e)))}catch(a){throw zn(a,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];try{return new t(this.firestore,bo(this._delegate,function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return new DE("endAt",a,!1)}.apply(void 0,e)))}catch(a){throw zn(a,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return aS(this._delegate,e._delegate)},t.prototype.get=function(e){var i=this;return("cache"===(null==e?void 0:e.source)?function(a){a=Ct(a,Pr);var c=Ct(a.firestore,dn),f=wn(c),p=new ba(c);return function(m,b){var E=this,D=new Ot;return m.asyncQueue.enqueueAndForget(function(){return(0,A.mG)(E,void 0,void 0,function(){var I;return(0,A.Jh)(this,function(M){switch(M.label){case 0:return I=function(O,j,z){return(0,A.mG)(this,void 0,void 0,function(){var le,me,De,Ie,Ke;return(0,A.Jh)(this,function(Oe){switch(Oe.label){case 0:return Oe.trys.push([0,2,,3]),[4,ch(O,j,!0)];case 1:return Ke=Oe.sent(),le=new hy(j,Ke.Bn),me=le._o(Ke.documents),De=le.applyChanges(me,!1),z.resolve(De.snapshot),[3,3];case 2:return Ie=Oe.sent(),Ke=tc(Ie,"Failed to execute query '"+j+" against cache"),z.reject(Ke),[3,3];case 3:return[2]}})})},[4,Ey(m)];case 1:return[2,I.apply(void 0,[M.sent(),b,D])]}})})}),D.promise}(f,a._query).then(function(m){return new rs(c,p,a,m)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(a){a=Ct(a,Pr);var c=Ct(a.firestore,dn),f=wn(c),p=new ba(c);return XT(f,a._query,{source:"server"}).then(function(m){return new rs(c,p,a,m)})}(this._delegate):function(a){a=Ct(a,Pr);var c=Ct(a.firestore,dn),f=wn(c),p=new ba(c);return EE(a._query),XT(f,a._query).then(function(m){return new rs(c,p,a,m)})}(this._delegate)).then(function(a){return new ME(i.firestore,new rs(i.firestore._delegate,i._userDataWriter,i._delegate,a._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var c=sc(i),f=Nh(i,function(p){return new ME(e.firestore,new rs(e.firestore._delegate,e._userDataWriter,e._delegate,p._snapshot))});return TE(this._delegate,c,f)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Mh.nu(this.firestore,e):null))},t}(),S1=function(){function t(e,i){this._firestore=e,this._delegate=i}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new od(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),ME=function(){function t(e,i){this._firestore=e,this._delegate=i}return Object.defineProperty(t.prototype,"query",{get:function(){return new sd(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(i){return new od(e._firestore,i)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var i=this;return this._delegate.docChanges(e).map(function(a){return new S1(i._firestore,a)})},t.prototype.forEach=function(e,i){var a=this;this._delegate.forEach(function(c){e.call(i,new od(a._firestore,c))})},t.prototype.isEqual=function(e){return wE(this._delegate,e._delegate)},t}(),Hy=function(t){function e(i,a){var c=this;return(c=t.call(this,i,a)||this).firestore=i,c._delegate=a,c}return(0,A.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var i=this._delegate.parent;return i?new wa(this.firestore,i):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(i){try{return new wa(this.firestore,void 0===i?wh(this._delegate):wh(this._delegate,i))}catch(a){throw zn(a,"doc()","CollectionReference.doc()")}},e.prototype.add=function(i){var c,f,p,m,b,a=this;return(c=this._delegate,f=i,p=Ct(c.firestore,dn),m=wh(c),b=Sh(c.converter,f),id(p,[My(rc(c.firestore),"addDoc",m._key,b,null!==c.converter,{}).toMutation(m._key,Pn.exists(!1))]).then(function(){return m})).then(function(c){return new wa(a.firestore,c)})},e.prototype.isEqual=function(i){return sS(this._delegate,i._delegate)},e.prototype.withConverter=function(i){return new e(this.firestore,this._delegate.withConverter(i?Mh.nu(this.firestore,i):null))},e}(sd);function is(t){return Ct(t,rn)}var NE=function(){function t(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this._delegate=new(Hi.bind.apply(Hi,(0,A.ev)([void 0],e)))}return t.documentId=function(){return new t($r.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=(0,Dt.m9)(e))instanceof Hi&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),vS=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new Eh("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Ny("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var a=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return new lS("arrayUnion",c)}.apply(void 0,e);return a._methodName="FieldValue.arrayUnion",new t(a)},t.arrayRemove=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var a=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return new E1("arrayRemove",c)}.apply(void 0,e);return a._methodName="FieldValue.arrayRemove",new t(a)},t.increment=function(e){var i=new C1("increment",e);return i._methodName="FieldValue.increment",new t(i)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}(),_S=x(6034),xE={Firestore:jy,GeoPoint:Xl,Timestamp:gr,Blob:AE,Transaction:By,WriteBatch:Gy,DocumentReference:wa,DocumentSnapshot:ac,Query:sd,QueryDocumentSnapshot:od,QuerySnapshot:ME,CollectionReference:Hy,FieldPath:NE,FieldValue:vS,setLogLevel:function(t){Nr.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(t){t.INTERNAL.registerComponent(new _S.wA("firestore",function(a){return e=a.getProvider("app").getImmediate(),i=a.getProvider("auth-internal"),new jy(e,new dn(e,i),new yS);var e,i},"PUBLIC").setServiceProps(Object.assign({},xE))),t.registerVersion("@firebase/firestore","2.3.10")}(xg.Z),x(6682),x(7771),x(8858),x(3101);const xh=new v.OlP("angularfire2.auth.use-emulator");function Ph(t,e){return function(t,e=sI.z){return new Ti.y(i=>{let a;return null!=e?e.schedule(()=>{a=t.onSnapshot({includeMetadataChanges:!0},i)}):a=t.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=a&&a()}})}(t,e)}function En(t,e){return Ph(t,e).pipe((0,it.U)(i=>({payload:i,type:"query"})))}function Qy(t,e){return En(t,e).pipe($a(void 0),Ag(),(0,it.U)(([i,a])=>{const c=a.payload.docChanges(),f=c.map(p=>({type:p.type,payload:p}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((p,m)=>{const b=c.find(D=>D.doc.ref.isEqual(p.ref)),E=null==i?void 0:i.payload.docs.find(D=>D.ref.isEqual(p.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(p.metadata)||!b&&E&&JSON.stringify(E.metadata)===JSON.stringify(p.metadata)||f.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:p}})}),f}))}function FE(t,e,i){return Qy(t,i).pipe(Vc((a,c)=>function(t,e,i){return e.forEach(a=>{i.indexOf(a.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return kE(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const i=t.slice();return i.splice(e.oldIndex,1),i.splice(e.newIndex,0,e),i}return kE(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return kE(t,e.oldIndex,1)}return t}(t,a))}),t}(a,c.map(f=>f.payload),e),[]),i=>i.lift(new At(void 0,void 0)),(0,it.U)(a=>a.map(c=>({type:c.type,payload:c}))))}function kE(t,e,i,...a){const c=t.slice();return c.splice(e,i,...a),c}function LE(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class IS{constructor(e,i,a){this.ref=e,this.query=i,this.afs=a}stateChanges(e){let i=Qy(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(i=i.pipe((0,it.U)(a=>a.filter(c=>e.indexOf(c.type)>-1)))),i.pipe($a(void 0),Ag(),to(([a,c])=>c.length>0||!a),(0,it.U)(([a,c])=>c),this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(Vc((i,a)=>[...i,...a],[]))}snapshotChanges(e){const i=LE(e);return FE(this.query,i,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return En(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(i=>i.payload.docs.map(a=>e.idField?Object.assign(Object.assign({},a.data()),{[e.idField]:a.id}):a.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,Wt.D)(this.query.get(e)).pipe((0,Fs.QV)(this.afs.schedulers.insideAngular))}add(e){return this.ref.add(e)}doc(e){return new TS(this.ref.doc(e),this.afs)}}class TS{constructor(e,i){this.ref=e,this.afs=i}set(e,i){return this.ref.set(e,i)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,i){const a=this.ref.collection(e),{ref:c,query:f}=jE(a,i);return new IS(c,f,this.afs)}snapshotChanges(){return function(t,e){return Ph(t,e).pipe($a(void 0),Ag(),(0,it.U)(([i,a])=>a.exists?(null==i?void 0:i.exists)?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return this.snapshotChanges().pipe((0,it.U)(({payload:i})=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data()))}get(e){return(0,Wt.D)(this.ref.get(e)).pipe((0,Fs.QV)(this.afs.schedulers.insideAngular))}}class O1{constructor(e,i){this.query=e,this.afs=i}stateChanges(e){return e&&0!==e.length?Qy(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(i=>i.filter(a=>e.indexOf(a.type)>-1)),to(i=>i.length>0),this.afs.keepUnstableUntilFirst):Qy(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(Vc((i,a)=>[...i,...a],[]))}snapshotChanges(e){const i=LE(e);return FE(this.query,i,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return En(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(a=>a.payload.docs.map(c=>e.idField?Object.assign({[e.idField]:c.id},c.data()):c.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,Wt.D)(this.query.get(e)).pipe((0,Fs.QV)(this.afs.schedulers.insideAngular))}}const Yy=new v.OlP("angularfire2.enableFirestorePersistence"),Jy=new v.OlP("angularfire2.firestore.persistenceSettings"),VE=new v.OlP("angularfire2.firestore.settings"),UE=new v.OlP("angularfire2.firestore.use-emulator");function jE(t,e=(i=>i)){return{query:e(t),ref:t}}let SS=(()=>{class t{constructor(i,a,c,f,p,m,b,E,D){this.schedulers=new xt.HU(m),this.keepUnstableUntilFirst=(0,xt.ss)(this.schedulers);const I=(0,xt.on)(i,m,a);!Ng.Z.auth&&D&&(0,xt.yq)();const M=E;[this.firestore,this.persistenceEnabled$]=(0,xt.sI)(`${I.name}.firestore`,"AngularFirestore",I,()=>{const O=m.runOutsideAngular(()=>I.firestore());if(f&&O.settings(f),M&&O.useEmulator(...M),c&&!function(t){return"server"===t}(p)){const j=()=>{try{return(0,Wt.D)(O.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(z){return"undefined"!=typeof console&&console.warn(z),(0,We.of)(!1)}};return[O,m.runOutsideAngular(j)]}return[O,(0,We.of)(!1)]},[f,M,c])}collection(i,a){let c;c="string"==typeof i?this.firestore.collection(i):i;const{ref:f,query:p}=jE(c,a),m=this.schedulers.ngZone.run(()=>f);return new IS(m,p,this)}collectionGroup(i,a){const c=a||(p=>p),f=this.firestore.collectionGroup(i);return new O1(c(f),this)}doc(i){let a;a="string"==typeof i?this.firestore.doc(i):i;const c=this.schedulers.ngZone.run(()=>a);return new TS(c,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(i){return new(i||t)(v.LFG(xt.Dh),v.LFG(xt.xv,8),v.LFG(Yy,8),v.LFG(VE,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(Jy,8),v.LFG(UE,8),v.LFG(xh,8))},t.\u0275prov=v.Yz7({factory:function(){return new t(v.LFG(xt.Dh),v.LFG(xt.xv,8),v.LFG(Yy,8),v.LFG(VE,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(Jy,8),v.LFG(UE,8),v.LFG(xh,8))},token:t,providedIn:"any"}),t})(),AS=(()=>{class t{static enablePersistence(i){return{ngModule:t,providers:[{provide:Yy,useValue:!0},{provide:Jy,useValue:i}]}}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=v.oAB({type:t}),t.\u0275inj=v.cJS({providers:[SS]}),t})(),Zy=(()=>{class t{constructor(i){this.afs=i,this.itemsCollection=this.afs.collection("items",a=>a.orderBy("title","asc")),this.items=this.itemsCollection.snapshotChanges().pipe((0,it.U)(a=>a.map(c=>{const f=c.payload.doc.data();return f.id=c.payload.doc.id,f})))}getItems(){return this.items}addItem(i){this.itemsCollection.add(i)}deleteItem(i){this.itemDoc=this.afs.doc(`items/${i.id}`),this.itemDoc.delete()}updateItem(i){this.itemDoc=this.afs.doc(`items/${i.id}`),this.itemDoc.update(i)}}return t.\u0275fac=function(i){return new(i||t)(v.LFG(SS))},t.\u0275prov=v.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),MS=(()=>{class t{constructor(i){this.itemService=i,this.item={title:"",description:""}}ngOnInit(){}onSubmit(){""!=this.item.title&&""!=this.item.description&&(this.itemService.addItem(this.item),this.item.title="",this.item.description="")}}return t.\u0275fac=function(i){return new(i||t)(v.Y36(Zy))},t.\u0275cmp=v.Xpm({type:t,selectors:[["app-add-item"]],decls:15,vars:2,consts:[[1,"card"],[1,"card-content"],[1,"card-title"],[1,"col","s6",3,"ngSubmit"],[1,"row"],[1,"input-field","col","s6"],["type","text","placeholder","Add Title","name","title",3,"ngModel","ngModelChange"],["type","text","placeholder","Add Description","name","description",3,"ngModel","ngModelChange"],["type","submit","value","Submit",1,"btn"]],template:function(i,a){1&i&&(v.TgZ(0,"div",0),v.TgZ(1,"div",1),v.TgZ(2,"span",2),v._uU(3,"Add Item"),v.qZA(),v.TgZ(4,"form",3),v.NdJ("ngSubmit",function(){return a.onSubmit()}),v.TgZ(5,"div",4),v.TgZ(6,"div",5),v.TgZ(7,"input",6),v.NdJ("ngModelChange",function(f){return a.item.title=f}),v.qZA(),v.TgZ(8,"label"),v._uU(9,"Title"),v.qZA(),v.qZA(),v.TgZ(10,"div",5),v.TgZ(11,"input",7),v.NdJ("ngModelChange",function(f){return a.item.description=f}),v.qZA(),v.TgZ(12,"label"),v._uU(13,"Description"),v.qZA(),v.qZA(),v._UZ(14,"input",8),v.qZA(),v.qZA(),v.qZA(),v.qZA()),2&i&&(v.xp6(7),v.Q6J("ngModel",a.item.title),v.xp6(4),v.Q6J("ngModel",a.item.description))},directives:[Rd,Vr,Rc,To,dr,xd],styles:[""]}),t})();function P1(t,e){if(1&t){const i=v.EpF();v.TgZ(0,"i",9),v.NdJ("click",function(){return v.CHM(i),v.oxw(3).clearState()}),v.qZA()}}function F1(t,e){if(1&t){const i=v.EpF();v.TgZ(0,"div"),v.TgZ(1,"form",10),v.NdJ("ngSubmit",function(){v.CHM(i);const c=v.oxw().$implicit;return v.oxw(2).updateItem(c)}),v.TgZ(2,"div",11),v.TgZ(3,"div",12),v.TgZ(4,"input",13),v.NdJ("ngModelChange",function(c){return v.CHM(i),v.oxw().$implicit.title=c}),v.qZA(),v.qZA(),v.TgZ(5,"div",12),v.TgZ(6,"input",14),v.NdJ("ngModelChange",function(c){return v.CHM(i),v.oxw().$implicit.description=c}),v.qZA(),v.qZA(),v._UZ(7,"input",15),v.TgZ(8,"button",16),v.NdJ("click",function(c){v.CHM(i);const f=v.oxw().$implicit;return v.oxw(2).deleteItem(c,f)}),v._uU(9,"Delete Item"),v.qZA(),v.qZA(),v.qZA(),v.qZA()}if(2&t){const i=v.oxw().$implicit;v.xp6(4),v.Q6J("ngModel",i.title),v.xp6(2),v.Q6J("ngModel",i.description)}}function NS(t,e){if(1&t){const i=v.EpF();v.TgZ(0,"ul",3),v.TgZ(1,"li",4),v.TgZ(2,"strong"),v._uU(3),v.qZA(),v._uU(4),v.TgZ(5,"a",5),v.TgZ(6,"i",6),v.NdJ("click",function(c){const p=v.CHM(i).$implicit;return v.oxw(2).editItem(c,p)}),v.qZA(),v.YNc(7,P1,1,0,"i",7),v.qZA(),v.YNc(8,F1,10,2,"div",8),v.qZA(),v.qZA()}if(2&t){const i=e.$implicit,a=v.oxw(2);v.xp6(3),v.hij("",i.title,": "),v.xp6(1),v.hij(" ",i.description," "),v.xp6(3),v.Q6J("ngIf",a.editState&&a.itemToEdit.id==i.id),v.xp6(1),v.Q6J("ngIf",a.editState&&a.itemToEdit.id==i.id)}}function xS(t,e){if(1&t&&(v.TgZ(0,"div"),v.YNc(1,NS,9,4,"ul",2),v.qZA()),2&t){const i=v.oxw();v.xp6(1),v.Q6J("ngForOf",i.items)}}function RS(t,e){1&t&&(v._UZ(0,"hr"),v.TgZ(1,"h5"),v._uU(2,"There are no items to list"),v.qZA())}let OS=(()=>{class t{constructor(i){this.itemService=i,this.items=[],this.editState=!1}ngOnInit(){this.itemService.getItems().subscribe(i=>{this.items=i})}deleteItem(i,a){this.clearState(),this.itemService.deleteItem(a)}editItem(i,a){this.editState=!0,this.itemToEdit=a}updateItem(i){this.itemService.updateItem(i),this.clearState()}clearState(){this.editState=!1}}return t.\u0275fac=function(i){return new(i||t)(v.Y36(Zy))},t.\u0275cmp=v.Xpm({type:t,selectors:[["app-items"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noItems",""],["class","collection",4,"ngFor","ngForOf"],[1,"collection"],[1,"collection-item"],["href","#",1,"secondary-content"],[1,"fa","fa-pencil",3,"click"],["class","fa fa-compress",3,"click",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-compress",3,"click"],[3,"ngSubmit"],[1,"row"],[1,"input-field","col","s6"],["type","text","placeholder","Add Title","name","title",3,"ngModel","ngModelChange"],["type","text","placeholder","Add Description","name","description",3,"ngModel","ngModelChange"],["type","submit","value","Update Item",1,"btn","orange"],[1,"btn","red",3,"click"]],template:function(i,a){if(1&i&&(v.YNc(0,xS,2,1,"div",0),v.YNc(1,RS,3,0,"ng-template",null,1,v.W1O)),2&i){const c=v.MAs(2);v.Q6J("ngIf",a.items.length>0)("ngIfElse",c)}},directives:[ls,cs,Rd,Vr,Rc,To,dr,xd],styles:[""]}),t})(),PS=(()=>{class t{constructor(){this.title="MyTodo"}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=v.Xpm({type:t,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"container"]],template:function(i,a){1&i&&(v._UZ(0,"app-navbar"),v.TgZ(1,"div",0),v._UZ(2,"app-add-item"),v._UZ(3,"app-items"),v.qZA())},directives:[oI,MS,OS],styles:[""]}),t})();const Xr_firebase={apiKey:"AIzaSyBcnbIN-DrCBRY7AI_DcJIhQt90OJKw5oM",authDomain:"todolistapp-96cc0.firebaseapp.com",projectId:"todolistapp-96cc0",storageBucket:"todolistapp-96cc0.appspot.com",messagingSenderId:"962370509062",appId:"1:962370509062:web:e1707c7031a7cf506e6687",measurementId:"G-0J9KKQHP02"};let FS=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=v.oAB({type:t,bootstrap:[PS]}),t.\u0275inj=v.cJS({providers:[Zy],imports:[[Dc,MA,eC,iI,xt.hO.initializeApp(Xr_firebase,"myTodo"),AS]]}),t})();(0,v.G48)(),yC().bootstrapModule(FS).catch(t=>console.error(t))},4762:(Ue,pe,x)=>{"use strict";x.d(pe,{ZT:()=>te,pi:()=>fe,mG:()=>ue,Jh:()=>$,XA:()=>B,CR:()=>P,ev:()=>oe});var v=function(K,Z){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,Q){W.__proto__=Q}||function(W,Q){for(var ye in Q)Object.prototype.hasOwnProperty.call(Q,ye)&&(W[ye]=Q[ye])})(K,Z)};function te(K,Z){if("function"!=typeof Z&&null!==Z)throw new TypeError("Class extends value "+String(Z)+" is not a constructor or null");function W(){this.constructor=K}v(K,Z),K.prototype=null===Z?Object.create(Z):(W.prototype=Z.prototype,new W)}var fe=function(){return(fe=Object.assign||function(Z){for(var W,Q=1,ye=arguments.length;Q<ye;Q++)for(var Y in W=arguments[Q])Object.prototype.hasOwnProperty.call(W,Y)&&(Z[Y]=W[Y]);return Z}).apply(this,arguments)};function ue(K,Z,W,Q){return new(W||(W=Promise))(function(Y,Pe){function Je(kt){try{je(Q.next(kt))}catch(nt){Pe(nt)}}function qt(kt){try{je(Q.throw(kt))}catch(nt){Pe(nt)}}function je(kt){kt.done?Y(kt.value):function(Y){return Y instanceof W?Y:new W(function(Pe){Pe(Y)})}(kt.value).then(Je,qt)}je((Q=Q.apply(K,Z||[])).next())})}function $(K,Z){var Q,ye,Y,Pe,W={label:0,sent:function(){if(1&Y[0])throw Y[1];return Y[1]},trys:[],ops:[]};return Pe={next:Je(0),throw:Je(1),return:Je(2)},"function"==typeof Symbol&&(Pe[Symbol.iterator]=function(){return this}),Pe;function Je(je){return function(kt){return function(je){if(Q)throw new TypeError("Generator is already executing.");for(;W;)try{if(Q=1,ye&&(Y=2&je[0]?ye.return:je[0]?ye.throw||((Y=ye.return)&&Y.call(ye),0):ye.next)&&!(Y=Y.call(ye,je[1])).done)return Y;switch(ye=0,Y&&(je=[2&je[0],Y.value]),je[0]){case 0:case 1:Y=je;break;case 4:return W.label++,{value:je[1],done:!1};case 5:W.label++,ye=je[1],je=[0];continue;case 7:je=W.ops.pop(),W.trys.pop();continue;default:if(!(Y=(Y=W.trys).length>0&&Y[Y.length-1])&&(6===je[0]||2===je[0])){W=0;continue}if(3===je[0]&&(!Y||je[1]>Y[0]&&je[1]<Y[3])){W.label=je[1];break}if(6===je[0]&&W.label<Y[1]){W.label=Y[1],Y=je;break}if(Y&&W.label<Y[2]){W.label=Y[2],W.ops.push(je);break}Y[2]&&W.ops.pop(),W.trys.pop();continue}je=Z.call(K,W)}catch(kt){je=[6,kt],ye=0}finally{Q=Y=0}if(5&je[0])throw je[1];return{value:je[0]?je[1]:void 0,done:!0}}([je,kt])}}}function B(K){var Z="function"==typeof Symbol&&Symbol.iterator,W=Z&&K[Z],Q=0;if(W)return W.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&Q>=K.length&&(K=void 0),{value:K&&K[Q++],done:!K}}};throw new TypeError(Z?"Object is not iterable.":"Symbol.iterator is not defined.")}function P(K,Z){var W="function"==typeof Symbol&&K[Symbol.iterator];if(!W)return K;var ye,Pe,Q=W.call(K),Y=[];try{for(;(void 0===Z||Z-- >0)&&!(ye=Q.next()).done;)Y.push(ye.value)}catch(Je){Pe={error:Je}}finally{try{ye&&!ye.done&&(W=Q.return)&&W.call(Q)}finally{if(Pe)throw Pe.error}}return Y}function oe(K,Z,W){if(W||2===arguments.length)for(var Y,Q=0,ye=Z.length;Q<ye;Q++)(Y||!(Q in Z))&&(Y||(Y=Array.prototype.slice.call(Z,0,Q)),Y[Q]=Z[Q]);return K.concat(Y||Array.prototype.slice.call(Z))}}},Ue=>{Ue(Ue.s=8015)}]);